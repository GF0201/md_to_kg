TEL N ET 就可在其所 在地通过 TC P 连接注册（即 登 录 ） 到远地的另 一 台 主 机上 （ 使用主机
名或 I P 地址 ） 。 TELNET (cid:7142)将用户 的击键传到 远地主 机 ， 同 时也(cid:7126)将远地主机 的 输出通过

TC P 连接 返 回 到用户 屏 幕。 这种服 务 是 透明的 ， 因 为用 户 感 觉 到好像键 盘和显示器是直接

连在远地主机上的。 因此， TEL N ET 又 称 为终端仿真协议。

TEL N ET 并不 复杂 ， 以前应用得 很 多 。 现 在 由千计算机的功(cid:7126)越来 越 强 ， 用 户 已 较 少

使用 TELN ET 了 ， 可作为历 史 资 料了解 一下即 可 。

TEL N ET 也使用客户 服 务器方式。 在 本地系统运行 TEL N ET 客 户 进程， 而在远地主机

则运行 TELNET 服 务器进程。 和 FTP 的情况相 似 ， 服 务器中 的主进程等 待新的请 求 ， 并产
生从属进程来 处理每一个连接。

TEL N ET (cid:7126)够适 应 许多计算机和操作 系 统的差 异。 例如 ， 对于 文本中一行的结束 ， 有
的系统使用ASCII 码的回 车 (C R) ， 有的系 统使用换行( LF) ， 还有的系统使用两个字符， 回车
换行(C R-LF) 。 又 如 ， 在中断 一个程序 时 ， 许多系 统使用C ontrol-C ( /\C) ， 但也有系统使用
ESC 按 键。 为了适 应 这种 差 异 ， TELNET 定 义 了数据和 命 令应 怎 样 通过互(cid:7110)网。 这 些定 义
就是 所谓的网络虚拟终端 N VT ( N e twork Virtual Te rminal)。 图 6-6说 明了 N VT 的意 义。 客 户
软件把用户 的击键和 命 令转换成 N VT 格 式 ， 并送交服 务 器。 服 务 器 软 件把收到的数据和 命

令 从 N VT 格 式转换成远地系统所 需的格 式。 向用 户 返 回 数据 时 ， 服 务器把远地系 统的格 式

转换为 N VT 格 式 ， 本地客 户 再从 N VT 格 式转换到 本地系 统 所 需的格 式。

TELNET
客 户 端

互 联 网

TELN ET
服 务 器端

使 用 客 户 端的格 式

使 用 NVT 格式

使 用 服 务 器 端 的 格式

图 6-6 TELNET 使用 网 络 虚拟终端 NVT 格 式

NVT 的格 式定 义 很 简 单 。 所 有 的 通 信 都 使用 8 位 一个字(cid:7188)。 在运转时 ， NVT 使用 7位
ASC I I 码传送数据 ， 而 当高位置 1 时用 作 控制命令。 ASC II 码 共 有 95个可 打 印 字符（如字

母 、 数字 、 标 点 符号 ） 和 33个控 制字符。 所有可打 印 字 符在 NVT 中的意 义和在 ASCII 码
中一 样。 但 N VT 只 使 用 了 ASCII 码的控制字符中的几个。 此外 ， N VT 还定 义 了 两字符的
C R-LF 为标 准的 行 结束控 制 符 。 当 用 户 键 入 回车按 键 时 ， TELNET 的 客 户 就 把它转换 为

C R-LF 再进行传输 ， (cid:7104) TELN ET 服 务 器要把C R-LF 转换 为远地机器的行结束字符。

TEL N ET 的选项协 商 (Option N e gotiation)使 TEL N ET 客 户 和 TEL N ET 服 务器可商定使

用 更多的终端 功(cid:7126) ， 协 商的双 方是 平 等 的。

6 .4  万维网 WWW

6.4. 1  万 维 网 概述

万 维 网 WWW (World  Wide  We b)是 一个大规模 的 、 (cid:7116)机式 的 信 息储藏所 ， 英 文简称为
We b , 而不是 什 么 特 殊的计算 机 网络 。 万 维 网 用链 接的方 法 (cid:7131)非常 方便地从 互 (cid:7110) 网上的一个
站 点 访问 另 一个站点（也就是 所谓的 ＂ 链接到 另 一个站点
) ， 从而主 动地按 需 获 取丰 富的信

”

•  272 •

息 。 图 6-7说明了 乃 维 网 提供分布 式 服务的特 点。

月 维 网 站 点 D

万 维 网 站 点 C

图6-7 万 维 网 提供分布 式 服 务

图 6- 7画出了 四个万 维网 上的站点， 它们可以相 隔数千 公里， 但 都必须连接在互(cid:7110)网上 。
每个万 维 网站点都存放 了 许 多 文 档 。 在这 些 文 档 中有一 些地方的文字是 用特 殊方式显示的
（ 例如 用不 同 的颜 (cid:7187) ， 或 添加 了 下划 线 ） ， 而 当我们将 鼠 标 移 动 到 这 些地方时 ， 鼠 标的箭 头
就变成 了 一 只手的形状。 这 就 表明这 些 地方有一个 链 接 ( link)（这种 链 接有时也称 为超 链
hype rlink ) ， 如果我们在这 些地方点击 鼠 标左键 ， 就可从这个 文 档 链 接到 可(cid:7126) 相 隔很远 的 另
一个 文档 。 经过一定的时延 （ 几秒钟、 几分钟甚 (cid:7169)更长 ， 取决千所链接的文档的大小和网络
的拥 塞情况）， 在我们的屏 幕 上就(cid:7126)将远方传送过来 的文 档显示出来 。 例如， 站点A 的某个

文 档中有两个地方有链接。 点击链接0 可链 接到站点 B 的某个文 档 ， 点 击 ＠ 可链接到 站点C 。
站 点 B 的文档也有两个链接。 点击链 接＠ 可链接到站点D, 点击链 接0可链接到 站点C , 但

站 点C 的这个文档 已 无其他的链接了 。 站点 D 的文档中有两个链接。 点击 ©可链接到 站点

A, 点击 O 可以链接到存储在本站点硬盘中的文档。

正是 由千万 维 网 的出现 ， 使计算机的操 作 发生了 革 命 性的变化 。 不必在键 盘 上 输入复
杂而难以记忆的命 令 ， 而改用 鼠 标点击一 下 屏 幕 上的链接， 这 就使互(cid:7110)网从仅由少数计算机
专家使用变为普通百 姓也(cid:7126)利用的信 息 资 源。 万 维网的出现使网站数按指数规律增长 ， 因而
成为互(cid:7110) 网发展中的一个非常重要的里程碑 。

万 维网 是 欧 洲 粒 子 物理实验室的 Tim Be me rs -Le e 最 初千1 989 年3月 提出的。1 993年2

月 ， 第 一个 图 形 界 面的 浏 览 器 ( brows
N e ts cape  N avigator 浏 览 器 上 市 。 目前流行的浏 览 器很 多 ， 如微 软 公 司 的 I nte rne t Explore r
（简称I E ) ， 谷歌 公 司 的C hrome 浏 览器 ， (cid:7148) 讯 公 司 的 QQ 浏 览器 ， 苹果公 司 的 Safari 浏 览

e r) 开 发 成 功 ， 名 字 叫 作 Mos aic 。 1 995 年 著 名 的

器 ， 等 等。

月 维 网 是 一个分布 式的超媒体( hype rme dia)系统 ， 它 是超文本( hype rte xt)系统的扩 充 。 所
谓超 文本是 指 包含指向 其他 文 档 的链 接的文本( te xt)。 也 就是说 ， 一个超 文本由 多个信 息 源
链 接成， 而这 些 信 息 源可以分 布在世 界 各 地， 并且数目也是不 受 限 制的。 利用一个链接可使
用户 找到 远在异地的另 一个文 档 ， 而这 又可链接到 其他的文 档 （ 依 此类推 ） 。 这 些 文 档 可以
位千世 界上 任 何一个接在 互 (cid:7110) 网 上的超 文本系统中。 超 文本是 万 维 网的基础。

超 媒 体 与 超 文本的 区 别 是 文 档 内 容不 同 。 超 文本 文 档 仅包含文本信 息 ， 而超 媒 体 文 档

还 包含其他表示方式的信 息 ， 如图形 、 图像 、 声 音 、 动 画以及 视频图像等。

分 布 式的和非分布 式的超 媒 体系统 有很大 区 别 。 在非分布 式系统中 ， 各种信 息 都 驻 留

•  273  •

在单个计 算机的磁盘 中 。 由千各 种 文 档 都可从本地获 得 ， 因此这 些 文 档 之间的链接可进行一
(cid:7176)性检查。 所以， 一个非分布 式 超 媒 体系统 (cid:7127)够保证所有的链接都是有效的和一(cid:7175)的。

万 维 网 把大鼠 信 息分 布 在整个互 (cid:7113)网上 。 每 台 主机上的文 档 都独 立进行管理。 对这 些

文 档 的增 加 、 修 改 、 删 除或 重新命 名 都不霄要 （ 实 际 上也不可(cid:7127)） 通知 到 互 (cid:7110) 网 上成千 上万
的(cid:7188)点。 这 样 ， 万 维 网文 档 之间的链接就经 常会不一(cid:7175)。 例 如， 主机 A 上的文档 X 本来 包
含了一个指向主机 B 上的文 档 Y 的链接。若主机 B 的管理员 在某 日 删 除了 文 档 Y, 那么主
机A 的上述链接显然 就失效了 （ 但是 B 并没有责任必 须 通知A)。

刀 维 网以客 户 服 务器方式 工 作 。 上 面所说的浏 览器就是 在用 户 主机上的万 维 网客 户 程

序 。 万 维网文档所驻 留的主机 则 运行服务器程序 ， 因此这 台 主机也称为万 维网服 务器。 客户
程序 向 服务器程序发 出 请求 ， 服务器程序 向客户程序送 回 客户 所要 的 万维 网 文档 。 在一个客
户 程序 主 窗口上显示出的万 维 网文档 称 为 页 面( page)。

从以上所述可以看出 ， 万 维网必 须 解 决以下 几个问题：
(1 ) 怎样 标 志分布在整个互(cid:7110)网上的万 维 网文 档 ？

( 2) 用什么样的协 议 来 实现刀 维网上的各种链接？

(3) 怎样使不 同 作 者 创 作的不 同 风格的万 维 网 文 档 ， 都(cid:7126)在互(cid:7110)网 上的各种 主机 上显 示

出来 ， 同 时使用户 清 楚地知 道在什么地方存在着 链接？

(4) 怎样使 用户 (cid:7126)够很方便地找到所需的信 息 ？
为 了 解决第 一个问题， 万 维 网使用统一资源定位符 URL ( Uniform  Re s ource  Locator) 来 标
志万 维网上的各种文 档 ， 并使每一个 文 档 在整个互(cid:7110)网的范 围 内 具有唯 一的标 识 符 URL。
为了解 决上述的第 二个问题 ， 就要使万 维 网 客户 程序与万 维网服务器程序之间的交互遵 守 严
格的协 议 ， 这 就是超文本传送协议 HTTP( Hype rTe xt Trans fer Protocol)。 HTTP是一个应用层
协 议 ， 它使用 TCP连接进行可 靠的传送。 为了解 决 上述的第 三个问题 ， 万 维 网使用超文 本
标记语言 HTML ( Hype rTe xt Markup  Language) ， 使得万 维 网页 面的设计者 可以很方便地用链
接从本页 面的某处链接到 互 (cid:7110) 网 上的任 何 一个刀维网页 面 ， 并且(cid:7126)够在 (cid:7151) 己的主机屏 幕上将
这 些 页 面显示出来 。 最后 ， 用户 可使用搜索工 具在万维网上方便地查找所需的信 息 。

下 面我们将进一 步讨 论 上述重要概念。

6 . 4 .2

一

URL

统

资 源 定位符

1 .   URL 的格式

统一 资源定位符 URL 是用来 表示从 互 (cid:7110) 网 上得到的资 源 位 置和访问这 些 资 源的方法。
URL 给资 源的位 置提供 一种抽 象的识 别 方法 ， 并用这种方法给 资 源 定 位 。 只要(cid:7126)够对 资 源
定 位 ， 系统就可以对 资 源进行 各种 操 作 ， 如存取 、 更 新 、 替 换和查找其属 性 。 由此可见，

URL 实 际 上就是 在互(cid:7110) 网 上的资 源的地址。 只有知 道了这个 资 源 在互 (cid:7110) 网 上的什么地方，
才 (cid:7127)对它进行操 作 。 显然 ， 互(cid:7110) 网 上的所有资源 ， 都有一个唯 一 确定的 URL。

这 里所说的 “ 资 源

” 是 指 在互 (cid:7110) 网 上可以被 访问的任 何对象 ， 包 括 文 件目录 、 文 件 、

文 档 、 图像 、 声 音 等 ， 以及与互(cid:7110) 网相 连的任 何 形 式的数据。

URL 相 当于一个 文 件 名 在网络 范 围 的扩 展 。 因此 ， URL 是与互(cid:7110)网相 连的机器上的任
何 可访问对象的一个指针。 山 千访 问 不 同对象所使用的协议不 同 ， 所以 URL 还指出读取某
个对象时所使用的协 议。 URL 的一 (cid:7182)形 式由以下 四个部分组成：

•  274  •

通 常 省 略
广

协 议 ：／／ 主 机 名 ： 端 口 ／ 路

径

URL 最左边的协 议指出使用何种协 议来获 取 该 万 维网文 档 。 现在最常用的协议就是
http （ 超 文 本传送协议HTTP)，其次是 ftp （ 文 件传送协议 FTP) 。 在协议后面的 ” :／I " 是规
定的格式， 必须写 上 。

主机名是万 维网文 档所存放的主机的域名 ， 通常以 www 开头， 但这 并 不是硬性规 定。

主机名 用点 分十进制的IP地址代 替 也是可 以的。

主机名 后 面的 ＂ ： 端 口 ” 就是端 口号， 但经常被 省 略 掉 。 这 是因为这个端 口号 通常就是

协议的默认端 口 号 （ 例如， 协议HTTP的默认端 口 号为 80 )， 因此就可 以省 略 。 但 如 不使用

默认端 口号， 那么就必须写 明现在所使用的端 口 号。

最后的路径可能是较长的字符 串 （其中 还可包括 若 干斜线／）， 但 有时也 不需要使用。 在

路径后 面可 能 还 有一些选项， 这 里 不进行介绍 了。

现在 有些浏 览 器为了方便用户 ， 在输入 URL 时， 可 以把最前 面的 " http: // " 甚至把 主机
名 最前面的 " www " 省 略 ， 然后浏 览 器替 用户 把省 略 的字 符 添 上 。 例 如， 用户 只 要 键入
ctrip.com, 浏 览 器就 自 动把未键入的字符补齐， 变成 http://www.ctrip.com 。

下面我们简 单介 绍使用得最多 的一种 URL , 即协议HTTP。

2. 使用 HTTP 的 U RL

使用协议HTTP的 URL 最常用的形式是把 “ ： 端 口 “ 省 略：

http :／／ 主 机 名 ／

路

径

若 再将 URL 中的 路径 省 略， 则 URL 就指明互联网上的 某 个主页(hom e page) 。 主页是

个很重 要的概念， 它 可 以是以下几种情况之 一 ：
(1) 一个 WWW 服务器的最高级别的页 面 。
(2) 某 一个组织或部 门 的一个 定制的页 面或 目录 。 从这 样的页 面可链接到互联网上的与

本 组织或部 门 有关的其他站点 。

(3) 由某 一个 人 自 己 设计的描述他本 人情况的 WWW 页 面 。
例如， 要 查 有关清华大学的信 息， 就可先进入到清 华大学的 主页 ， 其 URL 为气

http:/ /www.tsinghua.edu. en

这 里省 略 了 默认的端 口 号 80 。 我们从清 华大学的 主页入手， 就可 以 通过许 多 不同的链

接找到所要查 找的各 种 有关清华大学 各个部门的信 息 。

更 复 杂 一些的路径是指向 层次结构的从属 页 面 。 例如：

http://www.tsinghua.edu.cn/publish/newthu/newthu _ cnt/faculties/index.html

························································-··················-···································j

主机域名

路径名

CD 注 ： Tsinghua 是清华大学创 立 时 所用 的 拼 音 名 字 （ 那时 拼 音 ts 和 现 在 的 汉语拼音字母 q 的 发 音

样 ） 。 由 千 国 外都早 已

知 道 Tsinghua 这 个 名 字， 因此现在 就 不 使 用 标 准 的 汉语拼音 qinghua。

一

•  275 •

是 清 华大学的 ＂ 院系设置 ” 页 面的 URL 。 注 意：
上面的 URL 中 使 用 了指 向 文 件的路径 ， 而
又件 名 就是 最后的 inde x.htm。后缀 htm （ 有时可 写 为 html ) 表示这 是 一个用超文本标记语
言 HTML 写出的文件。

URL 的 “ 协 议 ” 和 “ 主机 名 ”

部分， 字母不 区 分大小写。 但

“ 路径

”

中的字符有时要

区 分大 小 写。

用 户 使用 U RL 并非仅仅(cid:7126)够访问万维网的页 面 ， 而且还(cid:7126)够通过 U RL 使用其他的互(cid:7110)
网应用程序， 如 FTP或 USE N ET 新 闻组等。 更重要的是 ， 用 户 在使用这 些应用程序时， 只
使用一个程序， 即 浏 览器。 这 显 然是 非常方便的。

扫 一扫

6.4. 3

HTTP

超 文 本传送协议
1 .  HTTP 的 操作过程

协 议 HTTP 定 义了浏 览器（即 刀 维 网 客 户 进程） 怎样向万 维 网服 务器

壹

视 频 讲 解

请 求 万 维 网 文 档 ， 以及服 务器怎样把文 档传送给浏 览 器。 从层次的角度看， HTTP 是 面 向 事

务 的 ( trans action-orie nte d广应用层 协 议， 它是 万 维 网上(cid:7126)够可靠 地交换 文 件（包 括 文本 、 声

音 、 图像等各种多媒体 文件） 的重要基础。 请 注 意， 协 议 HTTP不仅传送完成超 文本跳转所

必需的信 息， 而且也传送任何可从互(cid:7110)网上得到的信 息 ， 如文本、 超 文本、 声 音和图像等。

万 维网的大(cid:7175)工作过程如图 6-8 所示。

链接到URL的超 链

服 务 器wwv,.,·. tsinghua.edu.cn

－

－

－

－ 建立 TCP 连接

言』

－

－

－ － － － － －

尸…三二

- - - - - - - - - - - -�  HTTP 响 应报 文

－ － － － －

－ － － － － － － － － － － － － －
－
－ －
－ － － － －
一一 ．
三

－ － －

－

芦

服 务 器
返 回 响 应

－ －

－ － －

－ － － 释放 TCP 连接

－ －

－ － －

－

－ － －

－ － －
图 6-8 万 维网的工 作 过 程

－ － － － －

－

每个万 维网网点 都有一个服务 器进程， 它不断地监 听 TCP的端口 80, 以便发现是 否有
浏 览器（即万 维网客户 。 请注 意 ， 浏 览器和万 维网客户 是 同 义词） 向它发出连接建立请求。

一 旦 监 听 到 连接建 立 请 求并建 立了 TCP连接之后 ， 浏 览器就向万 维网服务器发出浏 览 某个

页 面的请求， 服 务器接着 就 返 回所请 求的页 面作为响应。 服 务 器在完成任 务后， TCP 连接
就被释放了。 在 浏 览器和 服 务器 之间的请求和响 应的交互 ， 必须按照规定的格 式和遵循 一定

心 注 ： 所谓事务(transaction) 就 是 指

一

系 列 的 信 息 交 换 ， 而 这

一

系 列 的 信 息 交 换 是

一

个 不 可 分 割 的 整 体 ， 也 就 是 说 ， 要 么 所

有 的 信 息 交换 都 完成 ， 要 么

一

次 交换 都 不 进 行 。

•  276  •

的规 则 。 这 些格 式 和 规则就是 超 文本传送协议 HTTP。

HTTP规定在 HTTP客 户 与 HTTP服务 器之间的每次交互， 都由一个ASCI I 码 串构成的
) " 的响 应组成。 HTTP报文

请 求和一个类似的通用互(cid:7110)网扩 充 ， 即 “ 类 MI ME ( MIME-like
通常都使用 TCP连接传送 。

用 户 浏 览 页 面的方法有两种 。 一种方法是 在浏 览 器 的地址窗 口 中 键入所要找的页 面的
U RL 。 另 一种方法是 在某一个页 面 中 用 鼠 标点击一个可选部分， 这 时浏 览 器会 (cid:7151) 动 在互(cid:7110)网
上找到 所要链接 的 页 面 。

HTTP使用了面向连接的 TCP作为运输层协议 ， 保 证 了数据的可靠传输 。 HTTP不必考

虑数据在传输过程中 被 丢弃后 又 怎样被重传。 但是 ， 协 议 HTTP本身是无连接 的 。 这 就是说，

虽 然 HTTP使用了 TCP连接 ， 但通信的双方在交换 HTTP 报 文 之前不需要 先 建 立 HTTP连

接 。 在1 99 7年以前使用的是 协 议 HTTP/1 .0 [ RFC 1 945]。 现在普遍使用的升 级版本是 建 议 标

准 HTTP/1 .1 [ RFC  7231 ] 。 201 5 年 以 后 ， 又有了新的建议 标 准 HTTP/ 2  [ RFC  7 540 ] ， 以及压

缩 HTTP报文首部的建议 标 准 [ RFC 7541 ] 。

协 议 HTTP 是 无 状 态 的 ( s tate le s

) 。 也就是说， 同 一个 客 户 第 二次访问 同 一个服 务 器 上
的页 面时， 服 务 器的响应与第 一次被访问时的相 同 （ 假定现在服 务 器还没有把该 页 面更新），
因为服 务 器并不记得 曾 经访问过的这个客 户 ， 也不 记 得 为 该 客 户 曾 经服 务过 多少次 。 HTTP

的无状态特 性简化 了服务 器的设计， 使服 务 器更容易 支 持 大 量并发的 HTTP请求 。

下 面 我们粗 略 估 算 一 下 ， 从 浏 览器请 求 一个 万 维 网 文 档 到收到 整个 文 档 所需的时 间
（如图 6-9 所示 ） 。 用 户 在点击 鼠 标链接某个万 维网 文 档时， 协 议 HTTP首 先要和服务器建

立 TCP连接。 这 需要使用三报文握手 。 当建 立 TCP连接的三报 文 握 手的前两个报文完成后
（即经过了一个 RTT 时间后 ）， 万 维 网客 户 就把 HTTP请求报文， 作为建立 TCP 连接的三
报 文握 手 中 的第 三个报文的数据， 发送给万 维网服 务 器 。 服务 器 收到 HTTP请 求 报 文后 ， 就

把所请 求的文档作为响应报文 返回给客 户 。

万 维 网 客户

I
-I

万 维 网 服 务 器

起 TCP 连接

发

HTTP 请求报 文

整 个 文 档 收到

廿；

司

｝

输 文 档 的时 间

传

时 间

图6-9 请求
［

一

个万 维网 文 档 所 需的 时 间

从图 6-9 可 看出， 请 求一个万维网文 档 所 衙的时间是 该 文档的传输时间（ 与文 档大小成
正 比） 加上两倍往返时间 RTT（ 一个 RTT 用于连接 TCP连接， 另 一个 RTT 用千请求和接
收万 维 网文 档 。 TCP 建 立 连接的三 报 文 握 手的第 三个报 文 段 中 的数据， 就是 客 户 对万 维 网

文 档的请求报文）。

协 议 HTTP/ 1.0 的主要缺点， 就是每请求 一个文档 就要有两倍 RTT 的开销 。若一个主页

•  277  •

s
上有很多链接的对象（ 如图 片 等） 需要依 次进行链 接 ， 那 么 每一 次链接下载都导 (cid:7175) 2 x  RTT
的开销。 另 一种开销就是万 维 网客户 和 服务 器 每一 次 建立新的 TCP 连接都要分配缓存和变
量。 特 别是万 维网服 务 器 往往要 同 时服 务于大量 客 户的请求 ， 所 以这种非持续连接会使万 维
网服务 器的负 担很重。 好在浏 览 器 都(cid:7126)够打开 5 ~ 10 个并行 的 TCP连接， 而每一个 TCP连
接处理客 户 的一个请求。 因此， 使用并行 TCP连接可 以 缩短响应时间。

协 议 HTTP/ I . I 较好地解决了这个问题， 它使用 了 持续连接( pers is tent connection )。 所谓
持 续 连接就是万 维 网 服 务 器 在发送响 应后 仍然 在一 段时间 内 保 持 这 条连接， 使 同 一个 客 户
（ 浏 览 器） 和该服务器可以继续在这 条连接上传送后 续的 HTTP请 求报文和响应报文。 这 并
不局 限千传送同 一个页 面上链接的文档 ， 而是 只 要这 些 文 档 都在同 一个服务 器 上就行。 协 议
HTTP/ I .  I 的持 续 连接有两种工作方式 ， 即 非 流水线方式( without pipelining )和流水线方 式
( with pipelining )。

非流水线方式的特 点 ， 是 客 户 在收到前一个响 应后 才(cid:7126)发出下一个请求。 因此， 在 TCP
连接 已 建立后 ， 客 户 每访问一次对象都要用去一个往返时间 RTT。 这 比非 持 续连接要用去两
倍 RTT 的开销 ， (cid:7194) 省了建立 TCP连接所需的一个 RTT 时间。 但非流水线方式还是有缺点的 ，
因为服务器在发送完一个对象后 ， 其 TCP连接就处于空 闲 状 态 ， 浪 费了服 务 器 资 源。

流 水 线方式的特 点 ， 是 客 户 在收到 HTTP 的响 应 报 文 之前就(cid:7126)够接着发送新的请 求 报
文。 千是 一个接一个的请 求报文到达服 务 器后 ， 服务器就可连续发回响应报文。 因此 ， 使用
流 水 线方式时 ， 客 户 访问所有 的对象 只 需花 费 一个 RTT 时间。 流 水线工作 方式使 TCP连接
中的空 闲 时间减 少 ， 提高了下载文 档 效率。

最初 网 页 是 以 文本为主 ， 但很快发展 到使用大量的图 片 、 音 频和视 频 ， 并且对 页 面的

实时性要求也越 来 越高（ 如视频(cid:7109) 天 或直播） ， 这样就使得协 议 HTTP/ I . I 已无法跟上 互(cid:7110)
网的发展了。 于是 谷歌 公 司 在 200 9 年开发了软件 SPDY, 用来 提高协议 HTTP/ 1
.1 的工作效
率。 IETF 在此基础 上 与谷歌合作完成了协议 HTTP/ 2, 而谷 歌也停 止了对 SPDY 的继 续完善
工作。

协 议 HTTP/ 2是 协 议 HTTP/1 . 1 的升 级版本 ， 其 HTTP方法／状态码／语义 等 都没有改变 ，

其主要特点如下：

(

) 我们知道， HTTP/1 .1 具有流 水线的工作方式。 这 就是 在 TCP 连接建立后 ， 客 户 可
以连续向服务 器发出许多个请求 ， 而不必等 到收到 一个响应后 再发送下一个请 求。 但服务 器
发回响应时必须按先后 顺序 排 队 ， 逐个地发送给客 户 。 有时遇 到 某个响应迟迟不(cid:7126)发 回 ， 那
么排在后 面的一 些 响应就必须等待很长的时 间 。 HTTP/ 2 把服务 器发回的响应变成可 以 并行
地发 回 （ 使用 同 一个 TCP连接） ， 这 就大大缩短了服务 器的响 应时间。

( 2) 使用 HTTP/1 .1 时 ， 当客户 收到服务 器发回的响应后 ， 原 来 建 立的 TCP连接就释放

了 。 如果客 户 还要继续向 该 服 务 器发送新的请求 ， 就必须重新建立 TCP连接。 HTTP/ 2 允 许
客 户 复 用 TCP连接进行多个请 求 ， 这样就(cid:7194) 省了 TCP连 续多次建 立和释放连接所花 费的时

间。

(3) HTTP/1 .1 的请求和响 应 报 文 是 面 向 文 本 的 ( te xt-orie nted )。 当客户 连续发送请求并受

到 响应时， 在 TCP连接上传送的 HTTP报文首部成为不小的开 销。 在这 些首部中有很多字

段是重复的。 为此 ， HTTP/ 2 把所有的报 文 都划 分为许多较小 的二进制编码 的 帧 ， 并采用了

新 的 压缩算法 ， 不发送 重复 的 首 部字段 ， 大大减小了 首 部 的 开 销 ， 提高 了 传输 效率。

因此 ， 现在主流的浏 览 器都 支 持 HTTP/ 2。 但是 ， 有的服 务 器 还 未 来 得及更新 ， 仍然 只

•  278  •

1
支 持HTTP/1.1 。 但HTTP/2 是向 后兼容的。 当 使用HTTP/2 的客户 向 服务 器发出请求时， 如
果服务 器 仍然 使用 HTTP/1.1, 那么服务 器 仍然可 以收 到请求报 文 。 在发 回 响 应后， 客 户 就
改用HTTP/1.1 与服务 器进行 交互 。

2 . 代理服 务器

代理服务器(proxy server)是 一 种网络实体 ， 它 又称 为 万 维 网 高速缓 存(Web cache) 。 代理
服务器把最近的一些 请求 和响 应暂 存 在本地磁盘中。 当新请求到达时， 若 代理服务器发现这
个请求与暂时存放的请求相 同 ， 就返 回 暂 存的响 应 ， 而 不需要按 URL 的地址再次 去互联网
访问该 资源。 代理服务 器可 在客 户 端或服务器端工 作， 也可 在中间系 统上 工作。 下面我们用
例子 说明它 的作用。

设图6- l O(a)是校 园 网 不使用代理服务 器的情况 。 这时， 校 园 网中所有的计 算 机都 通过2
M bit/s 专线链路 CR 1 -R2 ) 与互联网上的源点 服务 器建 立 TCP连接。 因而校 园 网各 计 算 机访
问互联网的通信量 往 往会 使这 条 2M bit/s 的链路过载 ， 使得时延 大 大增加。

图6-l O(b)是 校 园 网 使用代理服务 器的情 况 。 这时， 访问互联网的过程是这 样的：
(1) 校 园网的计 算 机中的浏 览 器向 互联网的服务 器请求服务时， 就先和校 园 网的代理服

务 器建立 TCP连接， 并 向 代理服务 器发出HTTP请求报文 （ 见图6-lO(b)中的O ) 。

(2) 若 代理服务 器 已 经存放了 所 请求的对 象 ， 代理服务器就把这个对 象放入HTTP响 应

报文中返 回给计算 机的浏 览 器。

(3 ) 否则， 代理服务 器就代 表发出请求的用户 浏 览 器 ， 与互联网上的源点服务器(origin

server)建立 TCP连接 （ 如图6- l O(b)中的＠所 示） ， 并 发送HTTP请求报 文 。

＼

＼

－

(a)不 使 用 代 理 服 务 器

校 园 网 的
代理服 务 器

(b) 使 用 代 理服 务 器

图6- 1 0 代理服务器的 作 用

(4) 源点 服务 器把所请求的对 象放 在HTTP响 应 报 文中返 回给校 园网的代理服务 器。
(5) 代理服务 器收 到这个对 象后， 先复制 在 自 己的本地存 储 器中 （ 留 待 以后用） ， 然后
再把这个对 象放在HTTP响 应报 文中， 通过已建立的 TCP连接 （ 见图6- l O(b)中的O ) ， 返 回

•  279  •

给请求 该 对 象的浏 览 器。

我们注意 到 ， 代理服 务 器 有时是作为服 务 器 （当 接 受 浏 览器的 HTTP请求时）， 但 有时

却作为客户 （当向互联网上的源点 服 务 器发送HTTP请求时） 。

在 使用 代理服 务 器的情况下 ， 由 于有 相当大一 部 分通信 量 局 限 在校 园 网的 内 部， 因 此，

2 Mbit/s 专线链路 (R I -R2） 上的通信 量大大减少， 因而减小了访问互联网的时延。

以代理服 务 器方式构成的内 容分发网络 CDN (Content  Distribution  Network) 在互联网应
（阿卡迈）公司。 Akamai 公

用中起 到 了 很大的作用 。 最先 使用 CDN 技术的是美 国 的Akamai
司现在是 全球最大的 CDN 平 台， 是全球能够 提 供最大规模 分发 在线视频的服务 商。 目前
Akamai 公司 拥有 24 万 台服务 器， 3900个位置节点， 使 全球的用 户 可 以就近 下载视频、 音
频 节 目， 或进行其他业务联系， 而用 户 甚至根本 不知道已经 使用 了Akamai 提供的服务。 现
在Akamai 与 全球 多 家 电 信运营 商 建立 了深度 合作关 系 ， 所提供的通信 流 量 高达每秒 40 TB,
业务遍及 137个国 家 和地区。

扫 一扫

3. HTTP 的报文结构

HTTP有两类报 文 ：
(1) 请求报文
(2) 响 应报 文

从客 户 向 服 务 器发送请求报文， 如图6-ll(a)所示。
从服务器到 客 户 的回 答， 如图6- l l (b)所示。

蠲视 频 讲 解

空格

回 车换 行

空 格

回 车换行

方 法 1
字
首

部

CRLF

1 URL

I I 版 本 I CRLF I 请 求 行

版 本 1
字
首

部

1 状 态码 1 1 短 语 I CRLF I 状态 行

］

实 体 主 体
（ 通常 不用 ）

(a) 请 求报 文

字；纠：国 cRLF

首
CRLF
部

［

|

首 部 行

实 体 主 体
（ 有些 响 应 报 文 不 用 ）

(b) 响 应 报 文

图 6- 1 1 HTTP 的 报 文 结 构

由 千 HTTP是面 向 文本的 ， 因 此 在报 文 中 的每一个字段都是一 些 ASCII 码 串 ， 因而各

个字段的长度 都是不确 定的。

HTTP请求 报 文 和响 应报 文 都是 由 三个部 分组成的。 可 以看出 ， 这 两种报 文格式的区 别

就是开始行 不 同。

(1) 开 始行， 用 于区 分是请 求 报 文 还是响 应报 文 。 在请求 报 文 中的开始行 叫作请 求 行
(Request-Line)， 而在响 应报 文 中的 开始行叫作状 态 行(Status-Line)。 在开始行的三个字段之
间都 以空格 分隔 开， 最后的 “CR " 和 “ LF " 分别代表 “ 回 车 ” 和 “ 换 行 ”。

(2) 首 部行， 用来说 明浏 览 器、 服 务 器或报 文 主体的一些 信 息。 首 部 可 以 有好 几 行 ， 但
也 可 以 不 使用 。 在 每 一个 首 部 行中都 有首 部字段 名 和它 的值 ， 每 一行 在结束的地方 都 要 有
“ 回 车 ” 和 ＂ 换行 ”。 整个首部 行 结 束时， 还 有 一 空 行将 首部行 和后面的实 体 主体分开。

(3 ) 实体主体(entity body) ， 在请求报文中一般 都不 用 这个字段 ， 而在响 应报 文中也可能

没有这个字段 。

下面先介绍HTTP请求报文的一些 主要特点。

•  280 •

请 求 报 文的第 一行 “

请求行

“

只有三个 内 容， 即 方 法 、 请 求 资 源 的 URL , 以及 HTTP

的版本。

请 注 意： 这里的名 词

方 法
就是 对所请求的对 象进行的操作 ， 这 些 方 法 实 际上也就是一些 命令。 因此， 请 求报文的类 型
是 由它所采用的方法决定的。 表 6-1 给出了请求报文中常用的几种方法。

” ( me thod)是面 向 对 象 技术中使用的专门 名 词 。 所 谓

方 法

”

“

”

表 6- 1 HTTP 请求报文 的 一些方法

方法 （ 操作 ）

意义

OPTION

请求

些选项 的 信 息

GET

HEAD

POST

PUT

DELETE

TRACE

请求读取 由 URL 所标志 的 信 息

一

请求读取 由 URL 所标志 的 信 息 的首部

给 服 务 器添加 信 息 （ 例 如 ， 注释）

在指 明 的 URL 下存储

个 文 档

删 除指 明 的 URL 所标志 的 资 源

一

用 来进行 环 回 测 试 的 请求 报 文

CONNECT

用 于代 理 服 务 器

下面是 HTTP的请求报文的开始行（即 请 求行） 的格 式。 请 注 意 ， 在 GET后面有一 个

空 格， 接着是某个完 整的 URL, 其后面又有一 个 空格 ， 最后是 HTTP/1 .1 。

GET  h t tp : / / www . x y z . e du . cn / di r / i nde x . h tm  H T T P / 1 . 1

下面是一个完整的 HTTP请求报文的例子：

GET  / di r / i ndex . htm  H T T P / 1 . 1

｛ 请 求行使用了相 对 U RL }

H o s t :  www . x y z . e du . c n

｛此行是首部行的开始。 这 行给出主机的域名 ｝

C o n n e c t i on :  c l o s e

U s e r -Age n t :  Mo z 口 l a / 5 . 0

Accep t - Langu a ge :  cn

｛告诉 服 务器发送完 请求的文档后就可释放连接｝
｛ 表明用户 代理是使用火狐浏 览器 Fire fox}

｛表示用户 希 望 优 先得到中文版本的文档 ｝
｛ 请求 报文的最后还有一个空行｝

在请求行使用了相 对 U RL（即 省 略 了主机的域 名 ） 是 因为下面的首部行（第 2 行） 给
出 了 主机的域 名 。 第3行是告诉 服务器不使用持续 连接 ， 表示浏 览 器希 望 服 务器在传送完 所

请 求的对象 后即 关 闭 TCP连接。 这 个请求报文没有实体主体。

再看一下 HTTP响应报文的主要特 点。
每一个请求报 文发出后， 都(cid:7126)收到 一个响应报文。 响应报文的第 一行就是状态行。
状态行包括三项 内 容， 即 HTTP的版本 、 状 态 码 ， 以及 解 释 状 态码的简 单短语。
状 态码( Status -C ode )都是三位数字的， 分为 5 大类 ， 原 先有33种[ RFC 261 6] ， 后 来 又 增

加了几种[ RFC 6585, 建 议 标 准］。 这 5 大 类的状态码都是以不 同 的数字开头的。

l xx 表示通知 信 息 ， 如请求收到 了或 正在进行处理。

2xx表示成功 ， 如接受 或 知 道了。
3xx表示重定 向 ， 如要完成请 求还必须采取进一 步的行 动。
4xx 表示客 户 的差错， 如请求中有错误的语法或 不(cid:7126)完成。

5xx 表示服务器的差错 ， 如服务器失效无法完成请求。

•  28 1  •

下面三种状态行在响应报文中是经常见到的。

H T T P / 1 . 1   2 0 2  Ac c e p t e d

H T T P / 1 . 1   4 0 0  B a d   Re que s t

H t tp / 1 . 1  4 0 4   N o 七 F o u n d

｛ 接受 ｝

｛ 错误的请 求 ｝

｛找不到 ｝

若 请 求的网 页 从 http : //www.ee.xyz.edu/index.html 转 移 到了一个新的地址 ， 则响应报文

的状态行和一个首部行就是下面的形 式：

H T T P / 1 . 1   3 0 1   Move d  P e rma n e n t l y

Lo c a 七 i on : h t 七p : / / www . x y z . e du / e e / i ndex . h tml

｛ 永 久 性地转移了｝
｛ 新的 U RL }

4 . 在服务器上存放用 户 的信息

在本(cid:7188) ( 6.4 .3(cid:7188)） 第1 小 (cid:7188)

“ HTTP的操作过程 ” 中 已经讲过 ， HTTP是无状态的。 这

样做虽然 简化 了 服 务器的设计 ， 但在实 际 工 作中 ， 一 些万 维 网站点却 常常希 望(cid:7126)够识 别 用户 。
”
例如， 在 网上购 物时 ， 一个顾 客要购 买多种物 品 。 当他把选好的一 件物 品放入
后，
他还要继续浏 览和选购其他物 品 。 因此， 服务器需要记住用户 的身 份 ， 使他接着选购的一 些
购 物 车 ” 中 ， 这样就便千 集中结 账。 有时某 些 万 维网站点也可(cid:7126) 想 限
物 品(cid:7126)够放入同 一个
制某些用户 的访问。 要做到 这 点 ， 可以在 HTTP中使用 Cookie。 在 RFC 6 265 中对 Cookie
进行 了定义 ， 规定万 维 网站点可以使用 Cookie 来 跟踪用户 。 Cookie 原 意是 “ 小 甜 饼 ”（ 广
曲 奇 ”) ， 目前尚无标 准 译 名 ， 在这 里 Cookie 表示在 H TTP服务器和客
东人用方 言 音 译为

购 物 车

“

“

“

户 之间传递的状 态 信 息。 现在很多网站都 已 广 泛使用 Cookie 。

Cookie 是这样工作的： 当用户 A 浏 览 某个使用 Cookie 的网站时 ， 该网 站的服 务器就为
A 产 生 一个唯 一的识别 码 ， 并以此作为索 引 在服务器的后端数据库中产 生 一个项目。 接着在
给 A 的 HTTP 响 应报文中添加一个叫作 Set-cookie 的首部行。 这 里的 “ 首部字 段 名 ”
就是
" Set-cookie "， (cid:7105)后面的 ＂

”。 例如这个首部行是这样的：

” 就是赋 予 该用户 的

＂ 识 别 码

值

S e t - c o o ki e :  3 1 d 4 d 9 6 e 4 0 7 a ad4 2

当 A 收到这个响应时 ， 其浏 览器就在它 管 理的特定 Cookie 文件中添加一行 ， 其中包 括
这个服务器的主机 名 和 Set-cookie后面给出的识 别 码。 当A 继 续 浏 览这个网 站时 ， 每发送一
个 HTTP 请 求 报 文 ， 其浏 览器就会 从 其 Cookie 文 件中取出这个 网 站的 识 别 码 ， 并放到

HTTP请求报文的 Cookie 首部行中：

C o o k i e :  3 1 d 4 d 9 6 e 4 0 7 a ad4 2

千 是 ， 这个网站就(cid:7126)够跟踪用户 江 d 4 d 9 6 e 4 0 7 a ad4 2 （ 用户 A) 在该网站的活动。 需

要注 意的是 ， 服 务器并不需要知道这个用户 的真 实 姓 名以及 其他的信 息。 但服务器(cid:7126)够知道
用户 3 1 d 4 d 9 6e 4 0 7 a ad4 2 在什么时间访问了哪 些 页 面 ， 以及 访问这 些 页 面的顺序 。 如果 A
是在网上购物 ， 那么这个服务器可以为 A 维 护 一个所购 物 品 的列 表 ， 使 A 在结束这 次购物
时可以一起付费。

如果 A 在几 天后再次访问这个网 站 ， 那么他的浏 览器会 在其 HTTP请求报文中继续使
3 1 d4 d 9 6 e 4 0 7 aad4 2 , 而这个网站 服 务器根据 A 过去的访问记录可 以

用首部行 C o o k i e :
向他推荐 商 品 。 如果 A 已经在该网站登记过和使用过信用卡付 费 ， 那么这个网站就 已经保

•  28 2 •

存了 A 的姓 名 、 电子邮件地址 、 信 用卡 号码等 信 息。 这样， 当 A 继 续在该网站 购 物 时， 只
要还使用 同 一个计算机上网， 由千浏 览器产 生的 HTTP 请 求报文中都携 带了同样的C ookie
首部行， 服 务 器 就 可 利 用C ookie 来 验证出这 是用户 A, 因此以后 A 在这个网站 购物时就不

必重新在键盘上输 入 姓 名 、 信 用卡 号码等信 息。 这对顾 客显然 是 很方便的。

尽 管C ookie (cid:7126)够简化 用户 网 上购 物的过程， 但C ookie 的使用一直 引 起很 多 争 议。 有人
认为C ookie 会把计算机病 毒 带到用户 的计算机中。 其实这 是对C ookie 的误解。C ookie 只是

一个小 小的文本文 件 ， 不是 计算机的可执行程序， 因此不可(cid:7126)传播 计算机病 毒 ， 也不可(cid:7126)用
来 获取用户 计算机硬 盘中的信 息。 对千C ookie 的另 一个争议， 是 关 于用户 隐私的保护问题。
例如， 网站服务器知道了 A 的一 些 信 息 ， 就有可(cid:7126)把这 些信 息出卖给第 三方。C ookie 还可
用来 收集用户 在万 维网网站上的行为。 这 些都属千用户个人的隐私。 有些网站为了使顾客 放

心 ， 就 公 开 声明他们会保护顾 客的隐私， 绝对不会把顾 客的识 别 码或个人信 息出售或转移给

其他厂 商。

为了让用户 有拒 绝接受C ookie 的 (cid:7151) 由， 在浏 览器中用户 可 (cid:7151) 行设置接受C ookie 的条件。
” 命 令， 就
例如在浏 览器I E 11 .0 中， 选 择 工 具 栏中的 “ 工 具 ” - "I nte rne t 选项 ” 一 “ 隐私
可以看见菜 单中的左边有一个可上下 滑 动 的标 尺 ， 它有六个位置。 最高的位置是 阻 止所 有
C ookie , 而最低的位置是 接受所有C ookie 。 中间的位置则是在不 同条件下可以接受C ookie 。

用户 可根据 (cid:7151) 己 的情况对I E 浏 览器进行必要的设置。

6.4.4  万 维 网 的 文档

1 . 超文本标记语言 HTML

要使任 何 一 台 计算机都(cid:7126)显示出任 何 一个万 维 网 服 务器上的页 面， 就必须解决页 面制
作的标准化 问题。 超文本标记语言 HTML ( Hype rTe xt  Markup  Language)就是 一种制作万 维
网 页 面的标 准 语 言 ， 它 消 除 了不 同 计算机之间信 息 交流的障碍。 但请 注 意 ， HTML 并 不 是
应 用 层 的协议， 它只是万 维 网浏 览器使用的一种语 言 。 由千 HTML 非 常易千掌握 且 实 施 简
单 ， 因 此它 很 快 就 成 为万 维 网 的重要基 础 [RFC 2854]。 官 方的 HTML 标 准 由万 维 网 (cid:7110) 盟
W3C （即 WWWC ons ortium) 负 责制定。 有 关 HTML 的一 些 参 考 资 料见[W-HTML]。 从
HTML 在1 993 年问世后 ， 就不断地对其版本进行更新。 现在最新的版本是 HTML 5.0 , 新
的版本增 加了<audio> 和<vide o>两个标 签 来 实 现对多媒 体中的音 频 、 视 频使用 的支 持 ， 增 加

了(cid:7126)够在移动设备上支持多媒 体 功(cid:7126)。

HTML 定义了许多用于排版的命令， 即

“ 标 签 " ( tag)＠。 例如， ＜I >表示后面开始用斜体
字 排版， 而</I >则表示斜体字 排版到此结束。 HTML 把各种标签 嵌入到万 维网的页 面中， 这
样就构成了所谓的 HTML 文 档 。 HTML 文 档是 一种可以用任何文本编辑器（例如， Windows
的记事本 N ote pad) 创 建的ASCII 码文件。 但应注 意 ， 仅当 HTML 文 档是以．html 或htm 为后
缀 时， 浏 览器才对这样的 HTML 文 档的各种标签进行解释。 如果 HTML 文 档 改为以．txt 为其

后缀 ， 则 HTML 解释程序就不对标签进行解释， 而浏览器只(cid:7126)看见原 来 的文本文件。

CD 注 ： 在[MINGCI93] 中 ， 将 tag 和 flag 两 个名 词 都 译 为

标志

。 由 千 目 前 已 有较 多 的 作 者将 tag 译 为

标 签

， 并考虑到

最好与 flag 的 译 名 有所 区 别 ， 故将 tag 译 为标签 。 实际上 ， ” 标签
“

的 意 思 也 还 比较准确 ， 因 为

”

的 内 容相 比 ， 主 要 就 是增加 了 许多 的标 签 。

＂

一

个 HTML 文 档 与 浏 览 器 所 显 示

“

＂

•  283  •

并 非所有的浏 览 器都支持所有的HTM L 标签。 若 某 一 个浏 览 器不 支持 某 一个HTM L 标

签， 则浏 览 器将 忽 略此标签， 但在一 对不 能识别的标 签之间的文本 仍然会被 显示出来。

下 面是一个简 单例子， 用来 说 明 HTM L 文 档 中标 签的用法。 在每 一个语句 后面的花括

号中的字是给读者看的注释， 在实际的HTM L 文档中 并 没有这种注释。

<HTML>

<HEAD>

<TITLE>一个 HTML 的 例 子</TITLE>

</HEAD>

<BODY>

<H l >HTML 很 容 易 掌握</H 1 >
<P>这 是第 一个段落 。 </P>
<P>这 是 第 二 个段落 。 </P>

</BODY>

</HTML>

{ HTML 文档开 始 ｝

｛ 首 部 开 始 ｝
{ “ 一 个 HTML 的 例 子 ” 是 文档 的 标 题 ｝
｛ 首 部 结 束 ｝

｛ 主 体 开 始 ｝
{  " HTML 很 容 易 掌握 “ 是 主 体 的 1 级 题 头 ｝
{<P>和</P>之 间 的 文字 是 一个段落 ｝
{<P>和 </P>之 间 的 文字 是 一个段落 ｝
｛ 主 体 结 束 ｝
{ HTML 文 档 结束 ｝

把上面的HTM L 文 档存入 D 盘的文件夹HTM L 中， 文 件 名是 HTM L-example.html （注
意 ： 实际的文档中 没有注释部分）。 当浏 览 器读取了 该 文 档后， 就按照 HTM L 文 档 中的各种
标签， 根据 浏 览 器所使用的显 示器的尺寸 和分辨率大小， 重新进 行 排版 并 显示出来。 图6-12
表 示 IE 浏 览 器 在计 算 机屏 幕上 显示出的与 该 文 档 有关部分的画面。 文 档的标题(title) “ 一个
HTM L 的例子 ” 显 示 在浏 览 器最上面的标 题栏中。 文 件 的 路径 显示 在地址栏中。 再下面就
是文 档 的 主体部分。 主体部分的题头(heading)， 即文 档 主体部分的标题 “HTM L 很 容 易 掌
握 ＂， 用较大的字号 显示出来， 因为在标签中指明 了 使用的是1 级题头<Hl>。

目前已开发出了很好的制作万 维网页 面的软件工具， 使我们能够像 使用 Word 文 字 处理
器 那样 很方便地制作各种页 面。 即 使我们用 Word 文 字 处理器编辑 了 一 个 文 件 ， 但只要 在
“ 另存为(Save As) " 时选取 文 件后缀为htm 或 htm l, 就可 以 很方便地把 Word 的．doc 格式文
件转换为浏 览 器可 以显 示的HTM L 格式的文 档。

L  ||'23口嘿厅罚霄1,I

文沧江） 缄谒叩 蕉毫心， 收｀） 工员江） 徒 肋 叩

llI|I||，lII II1,＇，',''，','＇，'，圃

图 6- 1 2 在 屏 幕上显示 的 HTML 文 档 主 体 部分 的 例 子

HTM L 允 许 在 万 维网页 面中插入图像。 一个页 面本身 带 有的图像 称为内 含 图 像 (inline
image)。 HTM L 标准 并 没有规 定该 图 像的格式。 实际上， 大多 数浏 览 器都支持 G IF 和 JPEG
文 件。 很 多 格式的图像 占据 的存 储 空间太大， 因而这种图像 在互联网传送时就 很浪 费时间。
例如， 一幅位 图 文件(.bmp)可能 要 占 用 500 ~  700 KB 的存储 空间。 但若将此图像 改存为经压
缩的 ．gif 格式， 则 可能只有十几个于字节， 大大减少了存 储 空间。

HTM L 还规 定了链接的设 置方法。 我们知道每 个链接都 有一 个起点 和终 点。 链接的起
点 说明在万 维网页面中的什么地方可引 出一个链接。 在一 个 页 面中， 链接的起 点 可 以是一 个
字或几个字， 或是一 幅图， 或是一段文字。 在浏 览 器所显 示的页面上， 链接的起 点是很 容 易

•  284  •

识别的。 在 以 文字作为链接的起 点时， 这 些文字往往用 不同的颜色显示 （例如， 一般的文字
用黑色字时， 链接起 点往往 使用蓝色字）， 甚至 还会加上下划线 （一 般 由浏 览 器来设置）。 当
我们将 鼠 标移动到一个链接的起 点时，表 示 鼠 标位置的箭 头就变成了 一只手。 这时只 要点 击
鼠 标， 这个链接就被激活。

链接的终 点 可 以 是其他 网站 上 的 页 面。 这种链接方式 叫 作远 程 链 接 。 这 时必须 在
HTM L 文 档中指明链接到的网站 的 URL。 有时链接可 以指向 本计 算 机中的某 一个文件或本
文 件中的某 处， 这 叫 作本 地链接。 这时必须 在 HTM L 文档中指明链接的路径。

实际上， 现在这种链接方式已经 不局 限于用 在万 维网文 档中。 在最常用的 Word 文 字 处
理器的工 具栏中， 也设 有 “ 插入超链接” 的按 钮。 只要点 击 这个按 钮， 就可以看到设置超链
接的窗 口。 用户 可 以 很方便地在 自 己 写 的 Word 文 档中设置各种链接的起 点 和终点。
在这 一小节的最后， 我们 还 要简 单介绍 一下 和浏 览 器 有关的几种其他语 言。
XM L  (Extensible M arkup  Language)是可扩展标记语言 ， 它 和 HTM L 很相似。 但 XM L

的设计 宗 旨 是传输 数据 ， 而 不是显 示 数据 (HTM L 是为了 在浏 览 器上 显 示 数据 ）。 更具体些，
XM L 用 千标记 电 子文件， 使其具 有结构性的标记语 言 ， 可用来标记 数据 、 定义 数据 类 型，
是一种允 许用户 对 自 己的标记语 言 进行 定义的源语 言。 XM L 是一种简 单、 与平 台无关 并 被
广 泛采用的标 准。 XM L 相 对于 HTM L 的优点是它 将用户 界面与结构 化 数据 分隔开来。 这
种 数据 与显 示的分离 使得集成来自 不同源的数据 成为可能。 客 户 信 息、 订 单、 研 究结果、 账
单付款、 病 历、 目录 数据 及其他信 息 都可 以 转换为 XM L。 XM L 不是要 替 换 HTM L , 而是
对 HTM L 的补 充。 XM L 标记 由文 档的作者定义， 并 且是无 限制的。 HTM L 标记则是预 定
义的；HTM L 作者只能 使用当前 HTM L 标准所支 持的标记。

另 一种语 言 XHTM L (Extensible  HTM L)是可扩展超文本标记语言， 它与 HTM L 4.01 几
乎是相 同的。 但 XHTM L 是更严格的 HTM L 版本， 也是一个 W3C标准 (2000 年 1 月制 定），
是作为一种 XM L 应用被重新 定义的 HTM L , 并 将 逐 渐取代 HTM L。 所有新的浏 览 器都支 持
XHTM L。

还 有一种语 言 CSS (Cascading  Style  Sheets)是层 叠样式表， 它是一种样式表语 言， 用于
为 HTM L 文档 定义布 局。 CSS 与 HTM L 的区 别就是： HTM L 用于结构 化内容， 而 CSS 则
用 千格式化结构 化的内容。 例如， 在浏 览 器上显 示的字体、 颜色、 边距、 高度、 宽 度、 背 景
图像等方 面， 都能够给出精确的规 定。 现在所有的浏 览 器都支 持 CSS。

2. 动态万维网文档

上 面所讨论的万 维网文 档只是万 维网文 档中最基 本的一种， 即所谓 的静 态 文 档 (static

document)。 静 态 文 档 在文 档 创 作完 毕 后就存放 在万 维网服务 器中， 在被用户 浏 览的过程中，
内容 不会改变。 由千这种文档 的内容 不会改变， 因 此用户 对静态 文档的每 次读取所得到的返
回 结果都是相 同的。

静 态 文 档 的最大优点是简 单。 由千 HTM L 是一种排版语 言 ， 因 此静 态 文档 可 以 由 不懂
程序设计的人 员来创 建。 但静态 文 档 的缺点是不够 灵 活。 当信 息变化时就 要 由文 档的作者手

工 对文 档 进行修 改。 可 见， 变化频繁的文 档 不适于做成静态 文档。

动 态 文档(dynam ic docum ent)是指文 档的内容是在浏 览 器访问万 维网服务 器时才 由应用
程序动 态 创 建的。 当浏 览 器请求到达时， 万 维网服务器 要运行另 一个应用 程序， 并 把 控制转
移到此应用 程序。 接着， 该 应用 程序对浏 览 器发来的数据 进行 处理， 并 输出 HTM L 格式的文

•  285  •

档 ， 万 维 网服 务 器把应用程序的输出作为对浏 览 器 的 响应。 由千对浏 览 器每次请 求的响 应都

是 临 时 生成的， 因此用户 通过动 态文 档 所看到的 内 容是 不断变化 的。 动 态 文档的主要优点是

具有 报告当前最新信 息的(cid:7126)力。 例如 ， 动 态 文档 可用来报告(cid:7122) 市行情 、 天气 预报或 民 (cid:7181) 售 票

情况等 内 容。 但 动 态 文 档 的创 建难度比 静 态 文 档的高 ， 因 为动 态 文 档的开发不是直接编写 文

档本身 ， 而是 编写用千生成文 档的应用程序 ， 这 就要求动 态 文 档的开发人员 必 须 会编程， 而

所编写的程序还要通过大 范 围 的 测 试 ， 以保证输入的有效性。

动 态 文 档 和静 态 文 档 之间的主要 差 别 体现在服 务 器 一 端。 这 主要是 文档 内 容 的 生 成 方
法 不 同 。 而从浏 览 器的角度看， 这 两种 文 档并没有 区 别 。 动 态 文档和静 态 文 档的 内 容都遵 循
HTML 所 规定的格 式 ， 浏 览 器仅根据在屏 幕 上 看到 的 内 容无法判定服 务 器送来 的是 哪 一种
文 档 ， 只有 文 档 的开发者 才知道。

从以上 所 述可以看出 ， 要 实 现 动 态 文 档 就 必 须在以下两个 方 面对万 维 网服 务 器的功(cid:7126)

进行扩 充：

1 ) 应增 加 另 一个应用程序 ， 用来 处理浏 览 器发来 的数据 ， 并创 建 动 态 文 档 。
(
( 2) 应增加一个机制 ， 用来 使万 维 网服 务 器将 浏 览 器发来 的数据传送给这个应用程序 ，

然后万 维网服务 器(cid:7126)够解释 这个应用程序的输出 ， 并向浏 览 器 返 回 HTML 文 档。

图 6- 1 3 是 扩 充了功(cid:7126)的万 维 网服务 器的示 意 图。 这里增 加了一个机制 ， 叫作 通 用 网 关

接 口C GI (C ommon  Gate way I nte rface )。C GI 是 一种标准 ， 它定义了动 态 文档应如何创 建 ，
输入数据应如何 提供给应用程序 ， 以及输出结果应如何使用。

在万 维 网 服 务 器中新增加的应用程序叫作C GI 程序。 取这个 名 字的原 因 是 ： 万 维 网 服

务 器与C GI 的通信 遵 循C GI 标 准。 “通用
是 因为这个标准所定义的规则对其他任 何 语 言 都
是 通用的。 “网关 ” 二 字的出现是 因为C GI 程序 还可(cid:7126)访问其他的服 务 器 资 源 ， 如数据库 或
图形软件包 ， 因 而C GI 程序的作用有点像一个网关。 也有 人将C GI 程序简称为网 关程序。
是 因为有 一 些 已定 义好的变量和调用等可供其他C GI 程序使用。 请 读 者 注 意： 在
“接口

”

”

看到C GI 这个名 词时， 应弄清是指C GI 标准 ， 还是指C GI 程序。

万 维 网 服务 器

厂请求又档尸－三

HTTP 响 应报 文 巨 ＠响 应动』文柏 巨

C GI 程序的正 式 名 字是 C GI (cid:7145) 本( s cript)。 按照计算机科 学的一(cid:7183) 概 念 ， “ (cid:7145)本

” 0指的

图6- 13 扩充 了 功 能的万维网服 务器

CD 注 ： 脚 本(script)一

词 还 有 其 他 的 意 思 。 例 如 ， 在 多 媒 体开 发程 序 中 用

“

”

脚 本

来表示编程人 员 输 入 的

一

系 列 指 令 ， 这 些

指 令指 明 多 媒体 文 件应 按 什 么 顺 序 执 行 。

•  286  •

language)， 如 Pe rl, REXX（在I BM 主机上使用），

是一个程序， 它被 另 一个程序 （ 解 释程序） 而不是计算机的处理机来解释或执行。有一 些语
言 专门作为(cid:7145)本语言( s cript
JavaScript 以
及 Tcl/Tk 等 。 (cid:7146)本也可用一 些常用的编程语 言 写出， 如C ,C +＋等。 使用(cid:7146)本语 言可更容易
和更快地进行编码， 这对一 些有限 功(cid:7126)的小程序是很合适的。 但一个(cid:7147)本运行起来比一(cid:7183)的
编译程序要慢， 因 为它的每一条指令 先要被 另 一个程序来处理（ 这 就要一些 附加的指令），
而不是直接被指 令处理器来 处理。 (cid:7146)本不一定是一个独立的程序， 它可以是一个动 态 装入的
库， 甚 (cid:7168)是服务器的一个子程序 。

C GI 程序 又称 为 cgi-bin (cid:7146)本， 这 是因 为在许多万 维网服 务器上， 为便千找到C GI 程序，

就将C GI 程序放在/cgi-bin 的目录下 。

3. 活 动 万 维 网 文档

随 着 HTTP 和万 维 网浏 览器的发展 ， 上一(cid:7188)所述的动 态 文 档 已明显地不(cid:7126)满 足发展的
需要 。 这 是因 为， 动 态 文 档 一 旦 建立， 它所包含的信 息 内容也就 固定下 来而无法及时刷新屏
幕 。 另 外 ， 像动 画 之类的显示效果， 动 态 文 档 也无法 提供。

有两种 技 术可用千浏 览器屏 幕显示的连续更新。 一种 技 术 称为服 务 器 推送 ( s

e rve r pus h) ,

这种技 术是将所有的工作都交给服务器 。 服务器不断地运行与动 态 文 档相 关(cid:7110)的应用程序，

定期更新信 息， 并发送更新过的文档 。

尽 管从用户 的角 度看， 这样做可达到 连续更新的目的， 但这 也有很大的缺点 。 首 先，

为了满足很多客户 的请 求， 服 务器就要运行很多服务器推送程序。 这 将造成过多的服 务器开
销 。 其次， 服 务器推送技 术要求服务器为每一个浏 览器客 户 维 持一个不释放的 TCP 连接。
随 着 TCP 连接的数目增 加， 每一个连接所(cid:7126)分配到的网络 带 宽 就下 降， 这 就导 (cid:7175)网络传输
时延的增大。

另 一种 提供 屏 幕 连续更新的技 术是活动文档 ( active docume nt)。 这种技 术是把所有的工
作都转移给浏 览器端。 每当浏 览器请求 一个活动 文 档 时， 服 务器就返 回一 段 活 动 文 档程序 副
本， 使该程序 副本在浏 览器端运行。 这 时， 活 动 文 档程序可与用户直接交互， 并可连续地改

变屏幕的显示。 只要用户 运行活动 文档程序， 活 动 文 档 的 内 容就可以连续地改变。 由千活动

文 档 技 术 不需要服 务器的连续更新传送， 对网络 带 宽的要求也不会太高。

从传送的角 度看， 浏 览器和服 务器都把 活 动 文 档 看成是静 态 文 档 。 在服 务器上的活 动
文 档 的 内 容是不变的， 这 点和动 态 文档是不 同的。 浏 览器可在本地缓存一 份 活 动 文档 的副本。
活 动 文 档 还可处理成压缩形式， 以便于存储和传送。 另 一点要注 意的是， 活 动 文 档本 身 并不
包 括 其运行所需的全部软件， 大部分的支 持软件是 事 先存放在浏 览器中的 。 图 6-1 4 说明了

活 动 文 档的创 建过程。

N
由美 国 SU

公 司 开发的 Java 语 言是 一项用千 创 建和运行活动 文 档 的技 术 。 在 Java 技
” ( apple t)CD来 描 述活 动 文 档程序 。 当用户 从万 维 网服
术中使用了一个新的名 词
务器下载 一个嵌入了 Java 小 应用程序的 HTML 文 档后， 用户 可在浏 览 器的显示 屏 幕上点击
某个图像， 然后就可看到 动 画 的效果 ； 或是在某个下 拉 式菜单中点击某个项目， 即可看到根

小 应 用 程序

“

l) 注 ： 在 Java 语 言 出 现之 前 就 已经 有 了 applet 这

一

名 词 。 小 应 用 程 序 applet 通 常 被 嵌 入 在操 作 系 统或

一

个 较 大 的 应 用 程厅

之 中 。 在 万 维 网 技 术 中 ， 此 名 词 常 常 指 的 是 Java 小 应 用 程序 。

• 2 8 7 •

据 用 户 键入的数据 所得到的计 算结果。 实际 上 ， Java 技 术是活动 文 档 技 术的一部分。 限 千
篇 幅 ， 有关 Java 技术的进 一 步讨论这 里从略。

万 维 网服 务 器

回：言5f

存放为文件

气望直丿尸叮巠巠愿芒［二>---------

图6- 14 活动文档 由 服务 器发送过来的程序 在 客 户 端创 建

6.4.5  万 维 网 的 信 息 检索系 统

1 . 全文检索搜索 与分类 目 录搜索

万 维网是一个大 规模的、 联 机式的信 息 储 藏所。 那么 ， 应 当 采 用 什么方法才 能找到所
需的信 息呢？如果已经知道存放该信 息 的网点 ， 那么只要 在浏 览 器的地址(Location)框 内 键
入该网点 的 URL 并 按 回 车键 ， 就可进入该网点。 但是， 若 不知道要 找的信 息 在何网点 ， 那
就 要 使 用 万 维网的搜 索 工具。

在万 维网中用来进行搜 索 的工具叫作搜索 引 擎(search engine)。 搜 索 引 擎的种类 很 多 ，

但大体上可划分为 两 大 类 ， 即全文检索搜索 引 擎 和分类 目 录搜 索 引 擎。

全 文检索 搜索 引 擎是一种纯技 术 型 的检索 工 具。 它的工 作原理是通过搜索 软件（ 例如一
种叫作 “ 蜘蛛 ” 或 “网络 机 器 人 ＂ 的 Spider 程序） 到互联网上的各网站收集信 息 ， 找到一个
网站 后 可 以从这个网站再链接到另 一个网站 ， 像蜘蛛爬行一样。 然后按照一 定的规则建立一
个 很大的在线索 引 数据 库供用 户 查询 。 用 户 在 查询时只要输入关键词 ， 就从已经建立的索 引

数据库 里进 行 查询 （ 并 不是实时地在互联网上检索到的信 息）。 因此很可能 有些 查到的信 息已
经是过时的 （ 例如 很 多 年前的）。 建立这种索 引 数据库的网站 必 须定 期 对已建立的数据 库 进行
更新维护（ 但 不少网站的维护 很 不及时， 因此对 查找到的信 息 一 定要注意其发布的时间）。 现
在全球最大的 并 且最受欢迎的全 文检索搜索 引 擎就是谷歌 Google (www.google.com)。 谷 歌 提

供的 主要的搜 索 服务 有： 网页 搜索、 图片 搜索、 视频搜索、 地图搜索、 新 闻 搜 索、 购物搜索、
博客搜索、 论坛搜索、 学术搜索、 财经搜索等。 应全球 用 户 的需求 ， 谷 歌 在美 国 及 世 界 各地
创 建 数据 中心。 至 2013 年 底 ， 谷 歌的数据 中心 在全 球共设 有 12 处。 大 多 数数据 中心的业 主
基 千信 息安全考虑， 极少透 露其数据 中心的信 息 及 内 部情形。

我 们 将 在 下 一小节简 单介 绍 谷 歌 搜 索 技 术的特点 。 现在 “ 谷 歌 ” 不仅是网站 名 ， 而 且
还是动 词 。 例如， “ 谷 歌一 下 ” 的意 思就是 “ 用 谷歌网站进行信 息搜索 ”。 在全 文检索搜索 引
擎中另外 两个著 名 的网站 是美 国 微软的必应(en.bing.com )和 中 国 的百 度(www.baidu.com )。

分类 目 录 搜 索 引 擎 并 不采集网站 的 任 何信 息 ， 而是利用 各网站 向 搜 索 引 擎 提 交网站 信

•  288  •

息时填 写 的关键词 和网站描述等信 息， 经过人 工 审 核编辑后， 如果认为符合网站 登 录的条件，
则 输入到 分类 目录的数据 库中， 供网上用户 查询 。 因此， 分类 目录搜索也叫作分类网站搜 索 。
分类 目录的好 处就是用户 可根据 网站 设计好的目录 有针 对性地逐 级 查询所需要的信 息， 查询

时 不需要 使用关 键词 ， 只需要按照分类 （先找大类， 再找下 面的小类）， 因 而 查询 的准确性
较好。 但分类 目录 查询的结果 并 不是具体的页 面， 而是被收 录网站 主页 的 URL 地址， 因而
所得到 的内容就 比 较 有限。 相比 之 下， 全文检索 可 以检索出大量的信 息 （一 次检索 的结果是
几百 万 条， 甚至是千 万 条 以上）， 但缺点是 查询结果 不够 准确， 往往是罗列出了海量的信 息
（ 如上 千 万个页 面）， 使用户 无法 迅速 找到所需的信 息 。 在分类 目录搜索 引 擎中最著 名 的就
是雅 虎 (www.yahoo.com ) 。 国 内 著 名 的 分类 搜 索 引 擎 有 雅 虎 中 国 (en.yahoo.com) 、 新 浪
(sina. com.cn) 、 搜狐(www.sohu.com ) 、 网易(www.163.com )等。

图 6-16 说明了上述这 两种搜索方法的区别。 图 6-15(a)是 全文 搜 索 谷 歌的首页 。 用户只

需在空 臼 的栏 目中键入拟搜索的关键词， 搜索 引 擎就返 回 搜索结果， 用户 可根据 屏 幕 上显 示

的结果继续点 击 下去 ， 直到 看 到 满 意 的结果。 图 6-15(b)是分类检索 新 浪网的首 页 。 我们可

以看 到 页 面L 有三行共 63 个类 别 。 用户 要检索 的内容 通常总是在这几十个类别之中， 因 此
按 类别点 击 查找下去， 最后就可 以 查找到所要检索 的内容。

(a)

全 文 检 索 举例

也s,na新琅网

sma.com.cn

新闻 亏疻 杜合

体育 NB/1 中超 空运

博客 专户 文史 六气

时尚 女件 牡疫 育 儿

财经 盼栗 、主 弈拦

娱乐 痔年

平，影 扫罕

视频 铁艺 趴泊 西菩

教育 浇老 公盐 院学

旅游 航宁 彩栗 品尔大

科技 丁机 探索 吟汇

汽车 殴兮 `丘 秒午

房产 二手，宋 京居 牧范

图片 宅书 t为立 法院

游戏 厉泾 �环？ SHOW

芽多

(b)

分类检索举例

图6- 15 举例 说 明 两种检索的 区 别

从用户 的角 度 看， 使用这 两种 不 同 的搜 索 引 擎 一 般 都能够 实 现 自 己 查询 信 息 的 目的。

为了 使用户 能够 更加方便地搜 索 到 有用信 息， 目前许 多 网站往往 同时具 有全文检索搜索 和分
类 目录搜索的功 能。 在互联网上搜 索 信 息需要经验的积 累 。 要 多 实践才能掌握从互 联网获取
信 息的技巧。

这 里 再强调一 下， 不管哪种搜 索 引 擎， 就是告 诉 你只要链接到 什么地方就可 以检索 到

所需的信 息 。 搜 索 引 擎网站本身 并 没有直接存 储 这 些信 息。

值 得注意 的是， 目前出现了垂直搜索 引 擎(vertical search  engine)， 它 针 对 某 一特定领域 、
特定 人群或某 一特定需求提供搜索 服务。 垂直搜 索 也是提供关键字来进行搜索 的， 但被放到
了一个行业知识的上下文中， 返 回 的结果更倾 向 千信 息 、 消 息 、 条 目 等。 例如， 对买房的 人
讲， 他 希 望 查找的是房 子的具体供求 信 息 （ 如 面积 、 地点 、 价 格等）， 而 不是有关房 子供 求
的一般性的论文或新 闻 、 政 策等。 目前热门的垂直搜索行业 有： 购 物 、 旅游 、 汽 车 、 求职 、
房 产 、 交友等。 还 有一种元搜索 引 擎(meta search  engine)， 它 把用户 提 交的检索 请求发送到
多个独立的搜索 引 擎上去搜索， 并 把检索结果集中统一 处理， 以统一的格式提供给用户 ， 因
此是搜索 引 擎之上的搜索 引 擎。 它的 主要 精 力 放 在提 高搜索速度 、 智 能化 处理搜索结果 、 个

•  289  •

性化搜索功能的设置和用户检索界面的友好性上。 元搜索引擎的查全率和查准率都比较高。

2.  Google搜索技术的特点

Goo gl e 的搜索引擎性能优良， 因为它使用了先进的硬件和软件。 以往的大多数的搜索

引擎是使用少量大型服务器， 在访问高峰期， 搜索的速度就会明显减慢。 Goo gl e 则利用在
互联网上相互链接的计算机来快速查找每个搜索的答案， 并且成功地缩短了查找的相应时间。
Goo gl e 的搜索软件可同时进行许多运算， 它的核心技术 就是P ageR ank

, 译为网页排名。

TM

P ageR ank 对搜索出来的结果按重要性进行排序， 这是Goo gle 的两个创始人Larr y P age
和S er gey Bri n 共同开发出来的[W -P ageR an k]。 由于用户在有限的时间内， 不可能阅读全部

的搜索结果（因为数量往往非常大）， 而通常仅仅是查阅

一

下 前几 个（或前几 十个）项目。

因此用户希望检索结果能够按重要性来排序。 但怎样确定某个页面的重要性呢？传统的搜索

引擎往往是检查关键字在网页上出现的频率。 P ageR ank 技术则把整个互联网当作了

一

个整

体对待， 检查整个网络链接的结构， 并确定哪些网页重要性最高。 更具体些， 就是如果有很
多网站上的链接都指向页面A , 那么 页面A 就比较重要。 P ageR an k 对链接的数目进行加权

统计。 对来自重要网站的链接， 其权重也较大。 统计链接数目的问题是

一

个二维矩阵相乘的

问题， 从理论上讲， 这种二维矩阵的元素数是网页数目的平方。 对千l亿个网页， 这 个矩阵

就有1 亿亿个元素。 这样大的矩阵相乘， 计算量是非常大的。 Larr yP age 和S er gey Bri n 两人
利用稀疏矩阵计算的技巧， 大大地简化了计算量。 他们用迭代的方法解决了这个问题。 他们

先假定所有网页的排名是相同的， 并且根据此初始值， 算出各个网页的第

一

次迭代排名， 再

一

根据第

次迭代排名算出第二次的排名。 他们从理论上证明了不论初始值如何选取， 这种算

法都保证了网页排名的估计值能收敛到排名的真实值。 这种算法是完全没有任何人工千预的，

厂商不可能用金钱购买网页的排名。 Goo gle 还要进行超文本匹配分析， 以确定哪些网页与

正在执行的特定搜索相关。 在综合考虑整体重要性以及与特定查询的相关性之后， Goo gle

就把最相关、 最可靠的搜索结果放在首位。

一

然而有

些著名网站通过

“

“

竞价排名

把虚假广告信息放在检索结果的首位， 结果误

导了消费者， 使受骗者蒙受很大的损失。 因此对网络搜索的结果， 我们应认真分析其真伪，

提高辨别能力， 不要随意轻信网络检索的广告信息（哪怕是知名度很高的网站）。

6.4.6  博客和微博

近年来， 万维网的

一

些新的应用广为流行， 这就是博客和微博。 下面进行简单的介绍。

1. 博客

我们知道， 建立网站就是万维网的

一

种应用。 博客(b lo g)和网站有很相似的地方。 博 客

的作者可以源源不断地往刀维网上的个人博客里填充内容， 供其他网民阅读。 网民可以用浏

览器上网阅读 博 客、 发表评论， 也可以什么 都不做。

博 客是刀维网日志(w eb lo g)的简称。 也 有入把b lo g 进行音译， 译为
”
。 还有人用

博客文章

来表示

博 文

“

“

”

”

。

落阁

＂

部落格

”
， 或

“

部

本来， 网络日志是指个人撰写并在互联网上发布的、 属于网络共享的个人日记。 但现

在它不仅可以是个人日记， 而且可以有无数的形式和大小， 也没有任何实际的规则。

现在博客已经极大地扩充了互联网的应用和影响， 成为了所有网民都可以参与的

一

种

• 290 •

新媒体， 并使得无数的网民有了发言权， 有了与政府、 机构、 企业， 以及很多人交流的机会。

在博客出现以前， 网民是互联网上内容的消费者， 网民在互联网上搜寻并下载感兴趣的信息。

这 些信息是其他人生产的， 他们把这 些信息放在互联网的某个服务器上， 供广大网民使用

（也就是供网民消费）。 但博客改变了这种情况， 网民不仅是互联网上内容的消费者， 而且

还是互联网上内容的生产者。

从历史上看， we blo g 这个新词是Jorn Bar ge r于19 97年创造的。 简写的b lo g（这是今天
最常用的术语） 则是P ete rM erho lz千19 9 9年创造的。 不久， 有人把b lo g既当作名词， 也当

作动词， 表示编辑博客或写博客。 接着， 新名词 b lo gger 也出现了， 它表示博客的拥有者，

或博客内容的撰写者和维护者， 或博客用户。 博客可以看成是继电子邮件、 电子公告牌系统
B BS 和即时传信 IM (I ns tant  Mes s agi n g)

。
之后的第四种网络交流方式。

一

现在从

些著名的门户网站的主页上都能 很容易地进入到博客页面， 这 让用户查看博

客或发表自己的博客都非常方便。 前面的图6-15( b)所示的新浪网站首页， 就可看到在几十

个分类中的第1 行第9列的

“

”
。

博客
“

当 我们在新浪网站主页点击

博客

”
项时， 就可以看到各式各样的博客。 也可以利用

搜索工具寻找所需的博客。 如果我们已在新浪博客注册了， 那么也可随时把自己的博客发表

在此， 让别人来阅读。 我们还可直接登录新浪博客网站b lo g.si na.c om.c n。

博客与个人网站还是有不少区别的。 这 里最主要的区别就是建立个人网站成本较高，

需要租用个人空间、 域名等， 同时 建立网站的个人需要懂得HTML语言和网页制作等相关

技术；但博客在这方面是不需要什么投资的， 所需的技术 仅仅是会上网和会用键盘或书写板

输入汉字即可。 因此网民用较短的时间就能够把自己写的博客发表在网上， 而不 像制作个人

网站那样花费较多的时间。 正因为写博客的门槛较低， 广大的网民才有可能成为今天互联网

上的信息制造者。

顺便提

一

下， 不要把

“

博客

”

＂

和

播客

”

弄混。 播客(Podcas t )是苹果手机的

一

个预装软

件， 能够让用户通过手机订阅和自动下载所预订的音乐文件， 以便随时欣赏音乐。

2. 微博

在图 6-15( b )新浪网站首页各种分类的第1 行的最后， 可以找到

“

微博

”
项。 微博就是

微型博客(mic roblo g)， 又称为微博客， 它的意思已经非常清楚。 博客或微博里的朋友， 常称

“

为

博友

＂
。 微博也被人戏称为
一

“

围脖

“
， 把博友戏称为

＂

脖友

”
。

但微博不同千

般的博客。 微博只记录 片段、 碎语， 三言两语， 现场记录， 发发感慨，

晒晒心情， 永远只针对

一

个问题进行回答。 微博只是记录自己琐碎的生活， 呈现给人看， 而

且必须很真实。 微博中不必有太多的逻辑思维， 很随便， 很自 由， 有点 像电影中的
写微博比写其他东西简单多了， 不需要标题， 不需要段落， 更不需要漂亮的词汇。

一

个镜头。

2009年是中国微博蓬勃发展的

一

年， 相继出现了新浪微博、 139 说客、 9 911 、 嘀咕网、

同学网、 贫嘴等微博客。 例如， 新浪微博就是由中国最大的门户网站新浪网推出的微博服务，

是中国目前用户数最多的微博网站(wei bo.c om)， 名人用户众多是新浪微博的

一

大特色， 基

本已经覆盖大部分知名文体明星、 企业高管、 媒体人士。 用户可以通过网页、 WAP 网、 手

(i)注： 目前流传的译名还有

”

即时通信

”

”

或

即时通讯

＂

， 但messaging译为

”

“

传信

似乎更准确。

•  291  •

机短信彩信、 手机客户端等多种方式更新自己的微博。 每条微博字数最初限制为140英文字

符， 但现在已增加了

长微博

的选项， 可 输入 更多的字符。 微博还提供插入图片、 视频、

“

＂

音乐等功能。 截至2019年3 月底， 微博的月活跃用户已达4.65亿。

现在不少地方政府也开通了微博（即政务微博）， 这是信息公开的表现。 政府可以通过

政务微博， 及时公布政情、 公务、 资讯等，

获取与民众更多、 更直接、 更快的沟通， 特别是

在突发事件或者群体性事件发生的时候， 微博就能够成为政府新闻发布的

“

”

虽 然政务微博具有

传递信息、 沟通上 下 、 解决问题

的功能性特点， 并受到广大网

一

种重要手段。

民的欢迎， 但政务微博的日常管理也 非常重要。 如果政务微博因缺乏良好的管理而不能够满

足群众的各种需求， 那么 它就会成为

种无用的摆设。

－

微博是

一

种互动及传播性极快的工具， 其实时性、 现场感及快捷性， 往往超过所有媒

体。 这是因为微博对用户的技术 要求门槛非常低， 而且在语言的编排组织上， 没有博客 那么

高。 另外， 微博开通的多种AP I 使大量的用户可通过手机、 网络等方式来即时更新自己的

个人信息。 微博网站的即时传信功能非常强大， 可以通过 Q Q和MSN直接书写。

我们正处在

一

个急剧变革的时代， 人们需要用贯穿不同社会阶层的信息去了解社会、

改变生活。 在互联网上微博的出现正好满足了广大网民的需求。 微博发布、 转发信息的功能

很强大， 这种

一

个人的

“

通讯社

”

将对整个社会产生越来越大的影响。

6.4.7  社交网站

社交网站SNS (Soci al N etw o rki n g Sit e )是近年来发展非常迅速的

一

种网站， 其作用是为

一

群拥有相同兴趣与活动的人创建在线社区。 社交网站的功能 非常丰富， 如电子邮件、 即时

传信（在线聊天）、 博客撰写、 共享相册、 上传视频、 网页游戏、 创 建社团、 刊登广告等，

对现实社交结构已经形成了巨大冲击。 社交网络服务提供商针对不同的群众， 有着不同的定

位， 对个人消费者都是免费的。 这种网站通过朋友，

一

传十、 十传百地把联系范围不断扩大

下去。 前面曾提到过 的 B BS和微博， 可以看作是社交网站的前身。

2 004 年社交网站脸书(F ac eboo k , 又名 面书、 脸谱、 脸谱网） 在美国诞生。 脸书最初

的用户定位是大学生， 但现在它的用户范围已经扩大了很多。 接着社交网站热潮席卷全球，

而国内以人人网、 开心网等为代表的社交网站也如雨后春笋般迅速崛起。 社交网站极大地丰

富了人们的社交生活， 孕育了新的经济增长点， 其所蕴含的巨大商业价值和社会力量也 正凸

显出来。

毫无疑问， 目前世界上排名第

一

且分布最广的社交网站是脸书。 脸书最大的特点就是

可以非常方便地寻找朋友或联系老同学、 老同事， 能够简易地在朋友圈中分享图片、 视频和
音频文件（现在也可以发送其他文件， 如．docx ,.xl sx 等）， 以及通过集成的地图功能分享用

户所在的位置。 现在脸书的月度活跃用户已达11. 5 亿人之多， 其中半数以上为移动电话用

户。 在2010年3 月， 脸书在美国的访问人数已超过谷歌， 成为全美访问量最大的网站。 脸
书的官网域名为F ac eboo k.c om , 并持有e n 域名F ac eboo k.e n。 排名第二的社交网站是视频分

享网站油管Y ouT ub e , 其月度活跃用户入数为10 亿人。 2006年Y ouT u b e.c om 网站被谷歌收

购， 目前谷歌手上持有了 youtub e.c on-i/.com . e n/. n et/. o r g 等域名。 国内类似的视频分享网站有
优酷(www. you ku.c om )、 土豆(www.tud ou.c om )、 56 网(56.c om )等。

一

另

种能够提供微博 服务的社交网络现在也很流行。 例如推特T witt er (twitt er.c om )网站
推

创 建千2006年， 它可以让用户发表不超过 140 个英文字符的消息。 这 些消息也被称为

“

•  292  •

”

文

(Tweet)。 我国的新浪微博(www. w eibo.c om)、 腾讯微博(t.qq. c om )等就是这种性质的社交

网站。 职业性社交网站领英L inkedl n 也是很受欢迎的网站。

目前在我国最为流行的社交网站就是微信 (we ixi n.qq.c om)。 微信最初是专为手机用户使

用的聊天工具， 其功能是

“

收发信息、 拍照分享、 联系朋友

”

。 但几年来经过多次系统更新，

现在微信不仅可传送文字短信、 图片、 录音电话、 视频短 片， 还可提供实时音频或视频聊天，

甚至可进行网上购物、 转账、 打车， 等等。 现在微信的功能已远远超越了社交领 域。 原来微

信仅限千在手机上使用， 但新的微信版本已能够安装在普通电脑上。 我们知道， 电子邮件可

以发送给网上任何

一

个并不认识你的用户， 也不管他 是 否愿意接收你发送的邮件。 各种博客

和微博也可 供任何上网用户浏 览。 但微信只能在确定的朋友圈中交换信息。 正 是由千朋友之

间 更加需要交换信息， 而微信的功能 又不断在扩展， 因此微信在我国已成为几乎每个网民都

必备的应用软件。

6.5  电子邮件

6.5.1  电子邮件概述

大家知道， 实时通信的电话固然使用方便， 但有两个严重缺点。 第

一

，

电话通信的主叫和被叫双方必须同时在场。 第二， 有些电话常常不必要地打

视频讲解

断 被叫者的工作或休息。

电子邮件(E- ma i l)是互联网上使用最多的和最受用户欢迎的

一

种应用。 电子邮件把邮件

发送到收件人使用的邮件服务器， 并放在其中的收件人 邮箱(ma i l box)中， 收件人可在自己

方便时上网到自己使用的邮件服务器进行读取。 这相当于互联网为用户设立了存放邮件的信

箱， 因此e- mai

l 有时也称为

“

电子信箱

”

。 电子邮件不仅使用方便， 而且还具有传递迅速和

费用低廉的优点。 据有的公司报道， 使用电子邮件后可提高劳动生产率 30 ％以上。 现在电

子邮件不仅可传送文字信息， 而且还可附上声 音和图像。 由于电子邮件和手机的广泛使用，

现已迫使传统的电报业务退出市场， 因为这种传统电报既贵又慢， 且很不方便。

19 8 2年ARPANE T 的电子邮件问世后， 很快就成为最受广大网民欢迎的互联网应用。

电子邮件的两个最重要的草案标准， 是 200 8年更新的简单邮件传送协议 SMT P (Simp le  Ma i l
T ra nsfer Prot oc o l) [ RFC 5321]和互联网文本报文格式[ RFC 5322]。

由于互联网的SMTP只能传送可打印的7 位ASCII码邮件， 因此在19 9 6年又发布了通

用互联网邮件扩充 MIME (Mu ltip u rp ose  I nterne t  Mail E xt ensi ons)[ RFC  2045, 草案标准］。

MIME 在其邮件首部中说明了邮件的数据类型（如文本、 声音、 图 像、 视像等）。 在MIME
邮件中可同时传送多种类型的数据。 这在多媒体通信的环境下是非常有用的。

一个电子邮件系统应具有图6- 16 所示的三个主要组成构件， 这 就是用户代理、 邮件服

务器， 以及邮件发送协议（如SMT P ) 和邮件读取协议（如PO P3)。 PO P3 是 邮局协议(Post

Office Prot oc o l)的版本3。 凡 是有TC P连接的， 都经过了互联网， 有的甚至可以跨越数千公

里的距离。 这里为简洁起见， 没有画出网络。 在互联网中， 邮件服务器的数量是很大的。 正

是这些邮件服务器构成了电子邮件基础结构的核心。 在图6 -16 中为了说明问题， 仅仅画出

了两个邮件服务器。

•  293  •

