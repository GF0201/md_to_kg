第 3 章 数据链路层

数据链路层属 于 计算机网络的低层。 数据链路层使用的信 道 主要有以下两 种 类型：
(1) 点对点信道。 这种信 道使用一对一的点对点通信 方式。
(2) 广播信道。 这种 信 道使用一对多的广播通信 方式 ， 因 此过程比较 复 杂 。 广 播信 道上

连接的主机很多 ， 因 此必须 使用专用的共享 信 道协议来协调这些 主机的数据发送。

局 域网 虽 然 是个网络 ， 但我们并不把局 域网放在网络层中讨论。 这是 因 为在网络层要
讨论的问题是多个网络互连的问题 ， 是讨论分组怎样从一个网络， 通过路 由 器 ， 转发到另 一
个网络。 在本章中我们研 究的是在同 一个局 域网中， 分组怎 样从一台主机传送到另 一台主机，
但并不经过路 由 器转发。 从整个的互联网来看 ， 局 域网仍属 于数据链路层的范 围。

本章首先 介 绍点对点信 道和在这种 信 道上最常用的点对点协议 PPP。 然后再用较大的篇

幅 讨论共享 信 道的局 域网和有关的协议。 关千无线局 域网的讨论将在第9章中进行。

本章最重要的内容是：
(1) 数据链路层的点对点信道和广播信 道的特点 ， 以及这两 种 信 道 所使用的协议 ( PPP

协议以及CSMA/CD 协议） 的特点。

(2) 数据链路层的三个基本问题： 封装成帧、 透明 传输和差错检测。

(3)以太网 MAC 层的硬件地址。

(4) 适配器、 转发器、 集线器、 网桥、 以太网交换机的作 用以及使用场合。
下 面看一 下 两 台主机通过互联网进 行 通 信 时数据链路层（简 称为链路层） 所处的地 位

（ 如图3-1 所示）。

R3

由器

．

、

、 ＿

一 _ ,

(a) 主机 H I向 H2 发 送 数据

H 1

H2

(b) 从层次上看数据的流动

图 3- 1 数据链路层 的 地 位

图 3- l (a)表示用户 主机 儿 通过电 话线上网， 中间经过 三 个路 由 器 (R 1 , 民 和 R 3 ) 连接
到远程 主机 H2。 所经过的网络可以是多种 的 ， 如 电 话 网、 局 域网和广 域 网。 当 主机 凡 向

•  71  •

H2 都有完整的
压 发送数据时， 从协议的层次上看， 数据的流动如图
五 层协议栈， 但路 由 器在转发分组时使用的协议栈只有下面的三层 G)。 数据进 入路 由 器后要
先从物理层上到网络层， 在转发表中找到下一 跳的地址后， 再下到物理层转发出 去。 因 此，
数据从主 机 凡 传送到主机 H2 需要在路径中的各节点的协议栈向上和向下流动 多次， 如图中
的浅 灰 色 箭 头 所示。

所示。 主机 H 几

3-l(b)

D

然 而 当 我们专 门 研 究数据链路层的问题时， 在许 多情况下我们可以只关 心 在协议栈中
水平方向的各数据链路层。 千是， 当 主 机 H 1 向主机 H2 发送数据时， 我们可以想 象数据就是
在数据链路层从左向右沿水平方向传送， 如图3-2 中从左到右的粗 箭 头 所示 ， 即通过以下这
样的链路：

凡 的链路层一民 的链路层一民 的链路层一 民 的链路层一止 的链路层

H I

H2

图3 -2 只 考虑 数据 在 数据链 路 层的流动

图 3-2 指 出 ， 从数据链路层来看， 凡 到 H2 的通信 可以看成 由 四 段不 同 的链路层通 信 组
成， 即： H 1 -R 1 , R 1 -R 2,  R 尸 民 和 R 3 - H2。 这四 段不同 的链路层可能采用不 同 的数据链
路层协议。

3 . 1   数据链路层的几个共 同 问 题

本节重 点讨论使用点 对点 信 道的数据链路层的一 些基 本 问题。 其中的某些概念 对广 播

信 道 也 是适 用的。

．

扫 一扫

回“

．

．

。

回

事

3

．

l

l

据数

链

路

禾

晴

贞

-

“

“

"

，

，

我

门
1

在

、

这

里

要

明

确

，

下

所

1
胃

路
链、

mk
l
（

）
就

是

从

一

个

链

节

口
各
占�

和

数

据

链

廿
P

令

B

点

的

／

一

护
 各
段

是
并
不
乡物
戈
理

路

（

有

线

或

无

线

）

而

中

—
司

没

有

／

任

何

其

1
也

的

交

奂
1

节

间

的

通

信

路

径

主
往
1

妇

又
工

过

许

多

艾
f

这

样

甘
勺

护令
连

在

进
io

了
1

数

据

通

信

时

，

两

台

计

算

机

之

可

见

链

路

只

是

－

条

－

路

径

的

组

成

部

分

至

相
lj
占�

。

频

畔

融视

。

数

据

链

一

路

必

须

有

条

物

Cd
理

ata

h

nk

）
则

是

另

入1

概

。

念

这

是

因

为

当

需

要

在

条

线

路

上

传

送

数

据

，

时

除

了

配

，

卜

还

必

夕／
员

有

一

些

必

要

的

通

信

协

议

来

控

线

些

数

据

的

传

输

将

在

后

面

几

节

讨

论

。

）

若

把

实

现

这

些

协

议

的

硬

件

和

欠
车

件

加

到

链

路

上

＇

成

了

数

据

链

路

0

在

最

常

用

这

告
l}
就
构

这
(
现

句 注 ： 当 路 由 器 之 间 在 交 换 路 由 信 息 时 ， 根 据 所使 用 的 路 由 选 择 协议 的 不 同 ， 也 有可 能 需 要 使 用 运输层 协 议 。 见 下 一 章 的

4.5 节 。

•  72  •

