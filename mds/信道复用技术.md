红外通信、 激 光通信也使 用非 导 引型媒体， 可用 于 近 距离的 笔 记本电 脑相互传送数据。

2.4  信道复用 技术

2.4. 1  频 分 复用 、 时 分 复用 和 统计 时 分 复 用

(multiplexing)

复 用

是通信 技术中的基本概念。 计算 机网络中的信 道广泛地使用 各种复用

技术。 下面 对信 道复用 技术进 行简 单的介绍。
1

2-15(a)

1

1

一

图

表 示 A

, B

和 C

一
分别使用

个 单独的信 道与 A2， 压和 C2进 行通信， 总 共需要

一

3个信 道。 但如 果在 发送端使 用

个复用器， 就可以用

个 共享信 道传送 原来的 3路信号。

2-15(b)

在接收端使 用 分用器， 把 合 起来传输的信息 分别送到相 应的 终 点。图

一

是复用的 示意

图。当然， 复用要 付出

定代 价（ 共享信 道 由千带 宽较 大 因 而 费用也较高， 再 加上复用器和

分用器）。 但如 果复用的信 道数量较 大， 那 么在 经济 上还是 合 算的。

癒

。像

。劂

@.*

遐

＊

气9
气9
*@

(a) 使用单 独 的 信 道

（ 噜 ＋ 嚣 ＋ ＊ ）

共 享 信 道

(b) 利 用 复用技术使用共 享信道

图 2- 1 5 复 用的示意 图

(Time  Division  Multiplexing)

最基本的复用就是 频分复 用

N

一
和 时 分复 用

FDM (Frequency  Division  Multiplexing)

TDM

。 频 分复用的概念是这样的。 例如， 有

路信号要在

个信 道

2-16(a)

如图

中传 送。 可以使用 调制的方 法， 把各路信号 分别 搬移到 适当的频率位 置， 使 彼此不产生干扰，
“
所 示。 各路信号就在自 己所 分 配到的信 道中传送。 可 见频分复 用 的 各 路信号 在
是频率带 宽 而不是数据的发送速
A,
路信号在
路信号

率）。 而时 分复用 则是将时间 划 分为
一

同样的 时 间 占用 不同的带 宽 资源（ 请注意， 这 里的

帧中 占用 固定序号的时 隙。 为简 单 起 见， 在 图

段 段等 长的时 分复用 帧（ 即

TDM
D

中 只 画出了

4
帧）。 每

2-16(b)

带 宽

TDM

TDM

一

一

一

”

。 每

路信号所 占用的时 隙周 期性地出现（ 其周期就是

(isochronous)

帧的 长度）。 因此

B,  C
个
每
TDM

和

信号也称为 等时

信号。 可以看出， 时 分复 用 的 所有用 户 是在 不同的 时 间 占

用同样的 频带 宽度。 这 两种复用方 法的 优 点是 技术比较成 熟， 但缺 点是不够 灵 活。 时 分复用

则更有利千数字信号的传输。
FDM

TDM

使 用

2-16(a)

或

的复用 技术， 可以 让多个用户（可以处在不同地 点） 共 享信 道 资源。

N

一

N
例如在图

中的频 分信 道， 可 让

个用户各使用

FDMA (Frequency Division Multiple Access)

个频带， 或让更多 的用 户 轮流使用

这

个频带。 这 种 方 式称为频 分多 址接入
2- 1 6(b)

一

， 简称

为 频分多址 。 在图

4

中的时 分信 道 ， 则可 让 4个用户各使用

TDMA (Time  Division  Multiple  Access) ,

个时 隙， 或 让更多的用

户 轮流使 用这

•  56  •

个时 隙 。 这种方式称为时分多 址接入

简 称为时分 多址。 请 注 意： FDMA 或 TDMA中的 “ MA" 表明 “ 多址 “， 意思是强调这种复
用信 道 可以让 多个用户（可以在不同地点） 接入进来。 而 “ FD " 或 “T D " 则表示所使用的
复 用技 术 是 ＂ 频分复用 ” 或 “ 时分复 用 ＂。 但术语 FDM 或 TDM 则 说明 是在频域还是在时域
进 行 复 用， 而并不强 调复用的信 道是用于 多个用户还是一个用户。

频 率

频 率

频 N

肺世

(a)

周 期性 出 现

4 个 时 隙

4 个 时 隙 ，  4 个 时 隙

匕TDM 帧 -—TDM 帧 __j._TDM 帧 4

时 间

时 间

(b)

图 2- 1 6 频 分 复 用 (a)和 时 分 复 用 (b)

在使用频分复用时， 若每个用户 占 用的带宽不变， 则 当 复 用的用户数增 加 时， 复 用后

的信 道的总带宽就跟着变宽。 例如， 传统的 电话通信 中每个标准话 路的带宽是4 k Hz（即通

信 用的 3.1 k Hz 加 上两 边的保护 频带）， 那么若有1000个用户进 行频分复 用， 则 复用后的总

带 宽就是 4 M Hz。 但在使用时分复 用 时， 每个时分复 用帧的长度是不变的， 始终是 125 µ s。
若有1000个用户进 行时分复用， 则 每一个用户 分配到的时隙宽度就是125 µ s 的千分之一，
即 0.125 µ s , 时隙宽度变得 非常窄。 我们应注意到， 时隙宽度非常窄的脉冲 信 号所 占 的频 谱
范 围 也是非常宽的。

在进 行 通 信 时， 复 用 器( multiplexer)总是和分 用 器 ( demultiplexer)成对地使用。 在复用器

和分用器之间是用户共享的高速信 道。 分用器的作 用正好和复用器的相反， 它把高速信 道传

送过来的数据进行分用， 分别送交到相应的用户。

当 使用时分复 用系统传送计算机数据时 ， 由 于 计算 机数据的突发性 质 ， 一个用户对 已
经分配到的子信 道的利用率一般是不高的。 当 用户在某一段时间暂时无数据传输时（例如用
户正在键盘上输入数据或正在浏 览 屏 幕上的信 息）， 那 就只能让 已经分配到手的子信 道 空 闲
着 ， 而其他用户也无法使用这个暂时空 闲 的线路资源。 图 2-17 说明 了 这一概念。 这里假定
有4 个用户 A, B,  C 和 D 进行时分复用。 复用器按A-B-C-D 的顺序依次对用户的时隙进
行 扫 描， 然后构成 一个个时分复用帧。 图 中共画出 了 4 个时分复用帧， 每个时分复用帧有 4
个时隙。 请 注 意 ， 在时分复用帧中， 每 一个用户 所分配到的时隙长度缩 短 了 ， 在本例 中， 只
有原来的 1/4。 可以看出， 当 某用户暂 时无数据发送时， 在时分复用帧中分配给该用户的时
隙只能处千空 闲 状态， 其他用户即使一直有数据要发送， 也不能使用这些空 闲 的时隙。 这就
导 致 复用后的信 道利用率不高。

• 57  •

A  |

B

c

D  I

|

a

b

b

c

c

|

a

|

|

d

|

时分复用 厅吓］
# 1

i

I

l 吓厅|
#2

I 曰 口
#3
～三 /二/

#4
1

团

4 个 时分复用帧

图2- 1 7

时 分 复 用 可 能会造成 线 路 资 源的浪 费

一

统计时分 复用 STDM(Statistic  TDM)是

一
种 改进的 时分 复用， 它能明显地 提高信道的利

用率 。 集 中器(concentrator)常使用这种 统计时分 复用 。图2-18 是 统计时分复用的原 理图。
个使用 统计时分 复用的 集中器连接 4个低速用户， 然 后将 其数据 集中 起来通过高速线路发送

一

到

个 远地计算机 。
A 二

仁

统 计时分复用

B  |  b ,   b  |
c

|  c  1  c  |
  二

D

.

'

,

集 中 器

� d 1 1  a

, I,
，I,
.  #3
.  #2
# I
\ |／

3 个 STDM 帧

图 2- 1 8 统计时分 复用的工作 原理

一

统计时分复用使用 STDM 帧来传送复用的数据 。 但每

个 STDM 帧中的时 隙数 小千连

接在 集中器 上的用户数 。 各用 户有了数据就随 时发往 集中器的输入 缓存， 然 后 集中器按顺序

一

依 次 扫描输入 缓存， 把 缓存中的输入数据放入 STDM 帧中 。 对没有数据的 缓存就跳 过去 。

当

个 帧的数据放 满了， 就发送 出去 。 可以看 出， STDM 帧不是 固定分 配时 隙， 而是按需

动 态地分 配时 隙 。 因此， 统计时分复用可以 提高线路的利用率 。 我们还可看 出， 在输 出线路

一

上， 某

个 用 户所 占用的 时 隙并不是周期性地 出现的 。 因此， 统计时分复用 又称为 异步时 分

复用， 而普通的 时分 复用称为 同 步时 分复用 。 这里 应 注意的是， 虽 然 统计时分复用的输 出线

路 上的数据率 小 于各输入线路 数据率的 总和， 但 从平均的 角 度 来看， 这 二 者 是 平衡的 。 假定

所有的用户都 不间 断地向 集中器发送数据， 那么 集中器 肯定 无法 应 付， 它内部设 置的 缓存都

将 溢 出， 所以 集中器能够 正常 工 作的前 提是 假定各 用户都是间 歇地 工作的 。

由千 STDM 帧中的 时 隙并不是 固定地分 配给某个用户的， 因此在每个 时 隙中还必须有

一

用 户的地 址信息， 这是 统计时分 复用必须有的和不 可 避 免的

些开销 。图2-18 中输 出线路
一
一
上每个时 隙之前的 短 时 隙 （ 臼 色） 就用千放入这样的地 址信息 。 使用 统计时分 复用的 集中 器
也 叫作 智 能 复用器， 它能 提供对 整个 报 文的 存储转发能力（ 但 大多数 复用器

次 只能 存 储

一

个字符或

个比特 ）， 通过排 队方式使各 用 户更 合 理 地 共 享信道 。 此外， 许多 集中器还 可能

具有路 由 选择、 数据压 缩、 前向 纠 错等 功能 。

一

最后要强调

下， TDM 帧和 STDM 帧都是在物理 层传送的比特流中所划分的 帧 。 这种

•  58  •

＂

”

＂

”

帧

和我 们以后要讨论的数据链路层的

2.4.2  波 分 复 用

帧

是 完全不同的概念 ， 不可 弄混。

波 分复用 WDM(Wavelength  Division  Multiplexing)就是 光的 频分复用。 光纤技术的 应用
一

使 得数据的传输速率 空前提高。 现在人 们 借用传 统的载波电话的频分复用的概念， 就能 做到

使用

根 光 纤来同时传输多个频率很接 近的 光载波信号。 这样就可使 光 纤的传输能力成 倍地
一

提高。 由千 光载波的频率很高， 因此 习 惯 上用波 长而不用频率来表 示所使用的 光载波。 这样

一

就产生了波分复用这

方式称为 波 分复用 WDM。 随 着技术的发 展， 在

名词。 最 初， 人 们 只能在
一

一

根 光纤上复用两路 光载波信号。 这种复用

根 光纤上复用的 光载波信号的路数 越来 越

根 光纤上复用几 十路或 更多路数的 光载波信号。 千是就使用了 密集波

一

一

多。 现在 已能 做到在
分复用 DWDM(Dense  Wavelength  Division  Multiplexing)这
是 40 Gbit/s, 使用 DWDM后， 如 果在
据率。图2-19给出了波分复用的概念。

一

名词。 例如， 每

路的数据率

根 光 纤上复用 64路， 就能够获得 2.56 Tbit/s的数

光解调器

光调制器

三巠

1 5 5 1  nm
五

复

器 ，

、

1］

［ |

1 20 km

图2- 1 9 波 分 复 用的概念

图2- 1 9表示 8 路传输速率 均为 2.5 Gbit/s的 光载波 （ 其波 长均为 13 10 nm )， 经 光的调

制后， 分 别将波 长变 换到 1550 ~1557  nm , 每个 光载波相 隔 1 nm （这 里 只是为了说明 问题的

一

方 便。 实 际上， 对千 密 集波分复用， 光载波的间 隔

般是 0 .8 nm或 1 .6 nm )。 这 8个波 长很

一

接 近的 光载波经 过光复用器（波分复用的复用器 又称为 合波器） 后， 就在

一

根 光纤中传输。

因此， 在

根 光 纤上 数据传输的 总速率就达到了 8 x  2.5  Gbit/s  =  20  Gbit/s。 但 光信号传输了

一段 距离后就 会衰减， 因此必须对 衰减了的 光信号进行放 大才能 继 续传输。 现在 已 经有了很
好的 掺饵光纤放大器 ED FA(Erbium  Doped  Fiber  Amplifier)。它是

种 光放 大器， 不 需要 像

一

以前 那 样复杂， 先把 光信号转换成电信号， 经 过电放 大器 放 大后， 再转换成为 光信号。

ED FA不 需要进 行 光电转换 而 直接 对 光信号进行放 大， 并 且在 1 550 nm波 长 附近有 35 nm
（即 4. 2 THz ) 频带 范围 提供较均 匀的 、 最 高可达 40 ~50 dB的 增 益。 两个 光纤放 大器 之间的
km , 而 光 复用器和 光分用器（波分复用的分用器 又称为 分波器） 之
光缆线路 长度可达 120

间的 无 光电转换的 距离可达 60 0 km（只需放入 4个 ED FA 光 纤放 大器）。

一

在地 下 铺设 光缆是 耗 资很 大的工程。 因此人们 总是在

一

（例如， 放入 10 0 根以上的 光 纤）， 然后对 每

根 光缆中放入 尽可能多的 光 纤
一

根 光纤使用 密 集波分复用技术。 因此， 对于
“
1 2

“

“

根 光缆的 总数

具有 10 0 根速率为 2.5 Gbit/s 光 纤的 光缆， 采用 1 6 倍的 密 集波分复用， 得到
据率为 10 0 x 40  Gbit/s或 4 Tbit/s。 这 里的 T为 10
， 即

一
' 中 文名词是

太

兆 兆 "。

现在 光 纤通信的容 量和传输 距离还在不 断 增 长。 例如，

条从 美 国 弗 吉 尼 亚 州 横 跨 大

•  59  •

西 洋到西 班牙的长达 66 00 公里的海底光缆 MAR EA, 在2 01 8 年 2 月 已 投入 商 业运营。 这根
光缆共有 8 个光 纤对， 每根光纤的传输速率可达到26.2 Tbit /s 。

复

：

//｀勹／三／／三三三厂：：言/:7:
三

使用CDMA的每一个站被指派一个唯 一的 m bit 码 片 序列( chip sequence)。 一个站如果
要发送比特 l， 则 发送它 自 己的 m bit 码 片 序 列。 如果要发送比特 O, 则 发送该码 片 序 列 的
，  二进制反码。 例如， 指派给 S 站的 8 bit 码 片 序 列 是 00011011。 当 S 发送比特1 时， 它 就 发
送序 列 00011011, 而 当 S 发送比特 0 时， 就发送 11100100。 为了 方便， 我们按惯例将码 片
中的 0 记为－l, 将 l 记为＋1。 因 此 S 站的码 片 序 列 是( -1 -1 -1  +1 +1 -1 + 1  +1)。

三

现假定 S 站要发送信 息的数据率为 b bit /s。 由 千每一个比特要转换成 m 个比特的码 片 ，
因 此 S 站实际上发送的数据率提高到 mb bit /s, 同 时 S 站 所 占 用的频带宽度也提高到原 来数
值的 m 倍。 这种通信方式是扩频( sp read spect rum)通信中的一种。 扩频通信通常有两 大类。
一种是直接序列扩频 DSSS ( Di rect Sequence  Sp read  Spect rum)， 如上面讲的使用码 片 序 列 就
是 这一类。 另 一种是跳频扩频 FHSS ( F requency Hopping Sp read Spectrum)。

CDMA 系统的一个重要特点就 是 这种体制给每一 个站分配的码 片 序 列 不仅必须 各不相

同， 并且还必须 互相正 交 ( orthogonal)。 在实用的系统中是使用伪 随机码序列。

用数学 公 式可以很清 楚地表示码 片 序 列的这种正交关系。 令向量 S 表示站 S 的码 片向
量， 再令 T 表示其他任何站的码 片向量。 两个不 同 站的码 片 序 列 正交， 就 是向量 S 和 T 的
规格化 内 积( inner p roduct)都是 0:

S • T 三屯 sl T, = 0

m i=l

(2-3)

例如， 向量 S 为( -1 -1  -1  + I  +l —1 +1 +l)， 同 时设向量 T 为( - 1 -1 +1  -1  +l +l +1 -1),
这相当 千 T 站的码 片 序 列 为 00101110。 将向量 S 和 T 的各分量值代入(2-3)式就可看出这两
个码 片 序 列 是正交的。 不仅如此， 向量 S 和各站 码 片 反码的向量的内积 也是 0。 另外一点 也
很重要， 即任何一个码 片向量和该码 片向量 自 己的规格化 内 积都是 I

CD 注： GSM (Global System for Mobile)即 全球移动通 信 系 统 ， 是 欧i州 和 我 国 现 在广泛 使 用 的移动通信 体制 。

•  6 0  •

l ”1

1 m

S • S = __!_ t 蹊 ＝ — 区 si2 = 』 立 （士 1)

2

=  1

(2-4)

m  i=I

m  i=I

m  i=I

而一个码 片 向 量和该码 片 反码的向 量的规格化内积 值是 － l 。 这从(2-4)式可以很清 楚地

看出， 因 为求和的各项都变成 了 －l。

现 在假定在 一 个 CDMA 系 统中有很多站都在相互通信， 每一个站所发送的是数据比特
和本站的码 片 序 列 的乘 积 ， 因 而是本站的码 片 序 列 （相 当 于 发送比特 l ) 和该码 片 序 列 的二
进制反码（相当 于发送 比特 0) 的组合 序 列 ， 或 什么也不发送（相当 于没有数据发送）。 我
们还假定所有的站所发送的码 片 序 列都是 同 步的， 即所有的码片 序 列 都在同一个时刻开始。
利用全球定位系统 G PS 就不难做到这点。

现假定有一个 X 站要接收 S 站发送的数据。 X 站 就必须 知 道 S 站 所特有的码 片 序 列 。
X 站使用它 得到的码 片 向量 S 与接收到的未 知 信 号进行求内积的运算。 X 站接收到的信 号是
各个站发送的码 片 序 列之和。 根据上面的公式(2-3)和(2-4)， 再根据叠加原理（假定各种信 号

经过信 道到达接收端是叠加的关 系 ）， 那么求内积 得到的结果是： 所有其他站的信 号都被过
滤掉（其内积的相关项都是 0)， 而只剩 下 S 站发送的信 号。 当 S 站发送比特1 时， 在 X 站
计算 内 积的结果是＋1 , 当 S 站发送比特 0 时， 内积的结果是－ l 。

图2-2 0 是CDMA的工 作 原 理。 设 S 站要发送的数据是11 0 三 个码元。 再设CDMA将
每一个码元扩展为8 个码 片 ， 而 S 站选择的码 片 序 列 为( — 1 - 1   -1  + 1   + l   - 1   + 1   + l )。 S 站发送
的扩频 信 号为 Sx。 我们应 当 注 意到， S 站发送的扩频信 号 Sx 中， 只包含互为反码的两 种码
片 序 列 。 T 站选择的码 片 序 列 为(- 1 — l + l - 1 + 1 + 1 + 1 - 1 ) , T 站 也发送 1
1  0 三 个码元， 而 T
站的扩 频 信 号 为 Tx。 因 所 有的站都使用相 同 的频率， 因 此每一个站都能够收到所有的站发
送的扩频信号。 对千我们的例子， 所有的站收到的都是叠加的信 号 Sx +  Tx o

发送 端

［

待 发达 的 数据 码 元

S 站 发 达 的 信号 L-－「

－ － － － － － － － － － － － － － － － － － － － － － － － － － － － － － － － － －

接收端

经运算后 X 站
收 到 的 码 元

I

i
-－

!
m 个码 片 一｝

I

I

。
L——一—」
－L「]_＿＿「T」-T__ L_「L4
,

I

' -I -I  -I  T l   +I -I + I �, • -I -I -I  +I +I -I +I +I • + I  +I +I  -I -I  +I -I -I•

图 2-20 CDMA 的 工 作 原 理

当 接收 站 打算 收 S 站发送的信 号 时， 就用 S 站的码 片 序 列 与收到的信 号 求规格化内积。

这相当 千分别计算 S• Sx 和 S• 仄。 显 然， s． ＆ 就是 S 站发送的数据比特， 因 为在 计算规格
一 定 是零， 因 为相加
化 内 积时， 按(2-3)式相加 的各项， 或者都是＋1 , 或者都是－1; 而 S• Tx
的 8 项 中的＋1 和－ l 各 占 一 半， 因 此总和一 定 是零。

2 . 5   数字传输系统

在 早 期 电 话网中， 从市 话 局 到用户 电 话 机的用户线采用最廉价的双 绞 线 电 缆， 而长途

干线采用的是频分复 用 FDM 的模拟传输方式。 由 千数字通信 与模拟通信相比， 无论是传输
质 量上还是经济上都有明 显的优 势 ， 目前， 长途干线大都采用时分复用 PCM 的数字传输方
式。 因 此， 现在的模拟线路就基本上只剩 下从用户 电 话 机到市话交换机之间的这一段几公 里

•  61  •

