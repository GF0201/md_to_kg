1 . 6  计算机 网 络的性 能

计 算 机 网 络 的性 能 一 般 是 指 它 的 几 个 重 要 的 性 能 指 标 。 但 除 了 这 些 重
要 的 性 能 指 标 ， 还 有 一 些 非 性 能特 征 （ nonperfom诅nee characteristics ) 也 对

计 算机 网 络 的性 能有 很 大 的 影 响 。 本节 将 讨 论 这 两 个 方面 的 问 题 。

1 .6. 1  计算机 网 络 的性 能 指 标

扫 一 扫

髻

视频讲解

性 能 指标 从 不 同 的 方 面来度量计算机 网 络 的性 能 。 下 面 介 绍 常 用 的 7 个 性 能指 标 。

1 . 速率

一个

二进制 数 字

我们 知 道 ， 计 算 机 发 送 的 信 号 都 是数 字形 式 的 。 比特 ( bit ) 来 源 千 binary digit , 意 思 是
“
， 因 此 一个 比特 就 是 二 进 制 数 字 中 的 一 个 1 或 0 。 比特 也 是信 息 论 中 使
用 的 信 息量 的 单 位 。 网 络技 术 中 的 速 率 指 的 是数 据 的 传 送 速 率 ， 它 也 称 为 数 据率(data rate)
或 比特率(bit rate) 。 速 率 是 计 算机 网 络 中 最重 要 的 一个 性 能指 标 。 速 率 的 单位 是 bit/s （ 比特

“

每秒 ）
（ 或 b/s , 有 时 也 写 为 bps , 即 bit per  second ) 。 当 数据 率较 高 时 ， 就 常 常 在 bit/s 的 前
面 加 上一 个字 母 。 例 如 ， k (kilo) = 1 03 = 千 ， M (Mega) =  1 06  = 兆 ， G (Giga)  =  1 09  = 吉 ， T
(Tera)=  1 0 1 2  = 太 ， P (Peta) =  1 0 1 5  = 拍 ， E (Exa) =  1 0 1 8  = 艾 ， Z (Zetta) =  1 02 1  = 泽 ， Y (Yotta)
=  1 024  = 尧 ° 。 这 样 ， 4 x  1 0 1 0  bit/s 的 数据 率 就记为 40 Gbit/s 。 现 在 人们 在 谈 到 网 络速率 时 ，
常 省 略速 率 单 位 中 应 有 的 bit/s , 而 使 用 不 太 正确 的 说法 ， 如
。 另 外 要 注 意 的

“ 40 G 的 速 率

”

是 ， 当 提 到 网 络 的 速 率 时 ， 往 往 指 的 是额定速率或标称速率 ， 而 并 非 网 络 实 际 上 运 行 的 速 率 。

2 . 带 宽

” (bandwidth)有 以 下 两 种 不 同 的 意 义 ：

“ 带宽
( 1 ) 带 宽 本 来 是 指 某 个信 号 具有 的 频 带 宽度 。 信 号 的 带 宽 是 指 该 信 号 所包 含 的 各 种 不 同

频 率 成 分 所 占 据 的 频 率 范 围 。 例 如 ， 在 传 统 的 通信 线 路 上 传 送 的 电 话 信 号 的 标 准 带 宽 是 3 . 1
kHz （ 从 300 Hz 到 3 .4 kHz , 即 话 音 的 主 要 成 分 的 频 率 范 围 ） 。 这 种 意 义 的 带 宽 的 单位 是赫
（ 或 千 赫 、 兆 赫 、 吉 赫 等 ） 。 在 过 去 很 长 的 一 段 时 间 ， 通 信 的 主 干 线 路 传 送 的 是 模 拟 信 号

（ 即 连 续 变 化 的 信 号 ） 。 因 此 ， 表 示 某 信 道 允 许 通 过 的 信 号 频 带 范 围 就称 为 该 信 道 的 带 宽

（ 或通频带 ） 。

(2) 在 计 算 机 网 络 中 ， 带 宽 用 来表示 网 络 中 某通道传送数 据 的 能 力 ， 因 此 网 络 带 宽 表 示

在 单 位 时 间 内 网 络 中 的 某 信 道 所 能通 过 的

“

最 高 数据率

”

。 在 本 书 中 提 到

“

带 宽

”

时 ， 主 要

是 指 这 个 意 思 。 这种 意 义 的 带 宽 的 单位 就 是数据率的单位 bit/s , 是

“

比特每秒" 。

， 拍 ＝ p = 250' 艾 ＝ E = 260, 泽 ＝ z = 270

印 注 ： 在计算机领域 ， 数的计算使用二进制 。 因此习惯上 ， 千 ＝ K = i 1 °  = 1 024, 兆 ＝ M = 220, 吉 ＝ G = 230, 太 ＝ T =
， 尧 ＝ y = 280。 此外 ， 计算机 中 的数据量往往 用 字节 B 作为度掀的单位 ( B 代表
X  8 b仆 ， 而不是 1 5 x  109  x  8 bit。 但 1 0 Gbit/s的速率则表示 l 0 x
bit/s。 在计算机领域 中 ， 所有的这些单位都使 用 大写字母 ， 但在通信领域 中 ， 只 有 “ 1 000 " 使 用 小 写 “ k ", 其余的 也都用 大

240
byte)。 通常 1 B = 8 bit。 例 如 ，
1 09
写 。 请注意 ， 也有的 书不这样严格 区 分 ， 大写 K 既可表示 1 000, 又可表示 1024, 因此这时要特别 小心 ， 不要弄错。

1 5 GB数据块 的大小是 1 5 X  230

•  21  •

在

“

带 宽

＂

的 上 述 两 种 表 述 中 ， 前 者 为 频 域 称 谓 ， 而 后 者 为 时域称 谓 ， 其 本 质 是 相 同

的 。 也 就是 说 ， 一 条通信 链 路 的

“

带 宽

＂

越 宽 ， 其 所 能 传 输 的

“

最 高 数据 率

”

也越 高 。

3. 吞吐量

吞 吐 量 (throughput) 表 示 在 单 位 时 间 内 通 过 某 个 网 络 （ 或 信 道 、 接 口 ） 的 实 际 数 据 量 。

吞 吐 量 更 经 常 地用 千 对 现 实 世 界 中 的 网 络 的 一 种 测 量 ， 以 便 知 道 实 际 上 到 底 有 多 少 数 据 量 能
够通过 网 络 。 显 然 ， 吞 吐 量 受 网 络 带 宽 或 网 络额定速率 的 限制 。 例 如 ， 对 于 一个 I Gbit/s 的 以

太 网 ， 就 是 说 其额 定 速 率 是 1 Gbit/s , 那 么 这 个 数 值 也 是 该 以 太 网 的 吞 吐量 的 绝对上 限 值 。

因 此 ， 对 1 Gbit/s 的 以 太 网 ， 其 实 际 的 吞 吐 量 可 能 只 有 1 00 Mbit/s , 甚 至 更 低 ， 并 没 有 达 到

其 额 定 速 率 。 请 注 意 ， 有 时 吞 吐 量还 可 用 每 秒 传 送 的 字 节 数 或 帧 数 来表示 。

接 入 到 互联 网 的 主 机 的 实 际 吞 吐 量 ， 取 决 于 互 联 网 的 具 体情况 。 假 定 主 机 A 和 服务 器

B 接 入 到 互 联 网 的 链路速率 分 别 是 1 00 Mbit/s 和 1 Gbit/s 。 如 果 互 联 网 的 各链 路 的 容 量 都足

够 大 ， 那 么 当 A 和 B 交 换 数据 时 ， 其 吞 吐 量 显 然应 当 是 1 00 Mbit/s 。 这 是 因 为 ， 尽 管 服 务 器

B 能 够 以 超 过 1 00 Mbit/s 的 速 率 发送数据 ， 但 主 机 A 最 高 只 能 以 1 00 Mbit/s 的 速 率接收数据 。

现 在 假 定 有 1 00 个用 户 同 时 连 接 到 服 务 器 B （ 例 如 ， 同 时 观看服务器 B 发送 的 视频节 目 ） 。

在 这 种 情况 下 ， 服 务 器 B 连接到 互 联 网 的 链 路容量被 1 00 个用 户 平 分 ， 每 个 用 户 平均 只 能

分到 1 0 Mbit/s 的 带 宽 。 这 时 ， 主机 A 连 接 到 服 务 器 B 的 吞 吐量 就 只 有 1 0 Mbit/s 了 。

最 糟 糕 的情 况 就是 如 果 互联 网 的 某 处 发 生 了 严 重 的 拥 塞 ， 则 可 能 导 致 主 机 A 暂 时 收 不

到 服 务 器 发 来 的 视频 数据 ， 因 而 使 主 机 A 的 吞 吐 量 下 降 到 零 ！ 主机 A 的 用 户 或许会想 ， 我

已 经 向 运 营 商 的 ISP 交 了 速 率 为 1 00 Mbit/s 的 宽 带 接 入 费 用 ， 怎 么 现 在 不 能保证这个速率 呢 ？

其 实 你 交 的 宽 带 费 用 ， 只 是保 证 了 从 你 家 里 到 运 营 商 I S P 的 某个 路 由 器之 间 的 数据 传 输速 率 。

再 往 后 的速率就取 决 于 整 个 互联 网 的 流 量 分布 了 ， 这 是 任 何 单 个用 户 都无法控 制 的 。 了 解这

一 点 ， 对 理 解 互联 网 的 吞 吐 量 是 有 帮 助 的 。

4 时延

时延(delay 或 latency) 是 指 数 据 （ 一 个 报 文 或 分 组 ， 甚 至 比 特 ） 从 网 络 （ 或链 路 ） 的 一

端传送到 另 一端 所 需 的 时 间 。 时 延 是 个 很 重 要 的性 能 指 标 ， 它 有 时 也 称 为延迟或迟延 。

需 要注 意 的 是 ， 网 络 中 的 时 延 是 由 以 下 几 个 不 同 的 部 分组成 的 ：

( 1 ) 发 送 时延

发 送 时延(transmission delay)是主机或路 由 器发 送 数 据帧所需要的 时 间 ，
也 就 是 从 发送 数 据 帧 的 第 一 个 比特算起 ， 到 该 帧 的 最后 一个 比特 发送 完 毕所 需 的 时 间 。 因 此
发送 时 延 也 叫 作 传输时延 （ 我们 尽 量 不 采 用 传 输 时 延 这 个 名 词 ， 因 为它 很 容 易 和 下 面 要 讲 到

的 传 播 时 延 弄 混 ） 。 发送 时 延 的 计 算 公 式 是 ：

发送时延 ＝

数据帧长度(bit)
发送速率(bit/s)

( 1 - 1 )

由 此 可 见 ， 对 于 一 定 的 网 络 ， 发 送 时 延 并 非 固 定 不 变 ， 而 是 与 发 送 的 帧 长 （ 单 位 是 比

特 ） 成 正 比 ， 与 发送速率成反 比 。

(2) 传播时延

传播时延(propagation delay)是 电磁波在信道 中 传播一定 的 距 离 需要花

•  22  •

费 的 时间 。 传 播 时 延 的 计 算 公 式 是 ：

传播时延 ＝

信道长度(m)
电磁波在信道上的 传播吏率(m/s)

( 1 -2)

电磁波在 自 由 空 间 的 传播速率 是光速 ， 即 3 .0 X

传 播 速 率 比 在 自 由 空 间 要 略低 一 些 ： 在 铜 线 电缆 中 的 传 播速率 约 为 2 .3 X
中 的传播速率 约 为 2.0 X  1 05  km/s 。 例 如 ，

1 05  k皿s 。 电磁波 在 网 络 传 输 媒 体 中 的
1 05  k而S , 在 光 纤
1 000 km 长 的 光纤线路产 生 的 传 播 时 延 大约 为 5 ms 。

以 上 两 种 时 延 有 本 质 上 的 不 同 。 但 只 要 理 解 这 两 种 时 延 发 生 的 地 方 就 不 会把 它 们 弄 混 。

发 送 时 延发 生 在 机 器 内 部 的 发送器 中 （ 一般 就 是发 生 在 网 络 适 配 器 中 ， 见第 3 章 3 .3 . 1 节 ） ，
与传输信 道 的 长 度 （ 或信号传 送 的距离 ） 没有任何 关 系 。 但 传 播 时 延 则 发 生 在 机 器 外 部 的 传

输 信 道 媒体 上 ， 而 与 信 号 的 发 送速率无 关 。 信号传 送 的 距 离 越 远 ， 传播时延就越大 。 可 以 用
一 个 简 单 的 比 喻 来 说 明 。 假 定 有 1 0 辆 车 按 顺序 从 公 路收 费 站 入 口 出 发 到 相 距 50 公 里 的 目 的
地 。 再 假 定 每 一辆 车过 收 费 站 要 花 费 6 秒 ， 而 车速 是 每 小 时 1 00 公 里 。 现 在 可 以 算 出 这 1 0
辆车从 收 费 站 到 目 的 地 总 共 要 花 费 的 时 间 ： 发 车 时 间 共 需 60 秒 （ 相 当 于 网 络 中 的 发送 时 延 ） ，
在 公 路 上 的 行 车 时 间 需 要 3 0 分 钟 （ 相 当 千 网 络 中 的 传 播 时 延 ） 。 因 此从第 一辆 车 到 收 费 站 开
始 计 算 ， 到 最 后 一 辆 车 到 达 目 的 地为止 ， 总 共 花 费 的 时 间 是 二 者之 和 ， 即 3 1 分钟 。

下 面 还 有 两 种 时 延 也 需 要 考 虑 ， 但 比较 容 易 理解 。

(3) 处理时延

主 机或路 由 器 在 收 到 分 组 时 要 花 费 一 定 的 时 间 进 行 处 理 ， 例 如 分 析 分

组 的 首 部 、 从 分 组 中 提 取 数据 部 分 、 进 行 差错检验或 查 找 转 发 表 等 ， 这就 产 生 了 处 理 时 延 。

(4) 排队时延

分 组 在 经 过 网 络传 输 时 ， 要 经 过 许 多 路 由 器 。 但 分 组 在 进入路 由 器后

要 先 在 输入 队 列 中 排 队 等 待 处 理 。 在 路 由 器确 定 了 转 发接 口 后 ， 还 要 在 输 出 队 列 中 排 队 等 待

转 发 。 这 就 产 生 了 排 队 时 延 。 排 队 时 延 的 长 短往 往 取 决 千 网 络 当 时 的通 信 量 。 当 网 络 的 通信

量 很 大 时 会 发 生 队 列 溢 出 ， 使 分组丢 失 ， 这 相 当 千排 队 时 延 为 无 穷 大 。

这 样 ， 数 据 在 网 络 中 经 历 的 总 时 延 就 是 以 上 四 种 时 延 之 和 ：

总 时 延 ＝ 发送 时 延 ＋ 传 播 时 延 ＋ 处理 时 延 ＋ 排 队 时 延

( 1 -3)

一 般 说 来 ， 小 时 延 的 网 络 要 优 于 大 时 延 的 网 络 。 在 某 些 情 况 下 ， 一 个 低 速 率 、 小 时 延

的 网 络 很 可 能要 优 于 一 个 高速 率 但 大 时 延 的 网 络 。

图 1 - 1 2 画 出 了 这 几种 时 延 所 产 生 的地方 ， 希望读者 能 够 更 好地 分 清 这 几 种 时 延 。

在 这 里产 生 发 送 时 延 （ 即 传 输时 延 ）

在 这里产生处理 时 延

和 排 队 时 延 -------/

"i f--

在 这里 产 生 传 播 时 延

节 点 A 发送 器

链 路

节 点 B

图 1 - 1 2 几种 时 延 产 生 的地 方不 一 样

必 须 指 出 ， 在 总 时 延 中 ， 究 竟 是 哪 一 种 时 延 占 主 导 地 位 ， 必 须 具 体 分 析 。 下 面 举 个

例 子 。

•  2 3  •

现在我们 暂 时 忽 略处理时 延和排 队 时 延 °。 假 定有一 个长度为 1 00 MB 的数据 块 （这里
1 字节 ＝ 8 比特 ）。 在 带 宽 为 1 Mbit/s 的信 道 上

的 M 显然不是指 1 06 而 是指 2
（这里的 M 显然是 1 0勺 连续发送 （即发送速率为 1 Mbit/s )， 其发送 时 延 是

20。 B 是字 节 ，

1 00 X  2

20

X 8-;- 1 06 = 838.9 S

现在把这个数据块用 光纤传送到 1 000 km 远的 计算机。 由于在 1 000 km 的光纤上的传
播时 延 约 为 5 ms , 因 此在这种情况 下 ， 发送 1 00 MB 的数据 块 的总 时 延 ＝ 838.9 +  0.005  :::::
838.9 s。 可 见对千这种情况， 发送 时 延 决定 了 总 时 延的数值。

如 果我 们 把发送速率提高到 1 00 倍， 即 提 高 到 1 00 Mbit/s , 那 么 总 时 延就变为 8.389

0.005 = 8.394  S , 缩 小 到原有数值的 1 / 1 00。

但是， 并非在任何情 况 下 ， 提 高发送速率就能减 小 总 时 延。 例 如 ， 要传送的数据 仅有 1

个 字 节 （如键盘上键入的一个字符， 共8bit )。 当发送速率为 1 Mbit/s 时， 发送 时 延 是

8 -;- 1 06 = 8 X  1 0

—6 s = 8 µs

若传播 时 延 仍 为 5 ms , 则总 时 延 为 5 .008 ms。 在这种情况下， 传 播 时 延 决 定 了 总 时延。
如 果我们把数据 率提高到 1 000 倍 （即 将数据的发送速率提 高 到 l Gbit/s ) ， 不难算出， 总 时
延 基 本 上 仍 是 5 ms , 并 没有明 显 减 小。 这个例子告 诉我们， 不能笼 统地认为： “ 数据的发送
速 率 越 高 ， 其传 送的总 时 延 就越小 ＂。 这 是 因 为数据传送的总 时 延 是由 公 式( 1 -3) 右端的四项
时 延 组 成的， 不能仅考虑发送 时 延 一项。

如 果 上 述概念没有弄 清 楚 ， 就很容 易 产 生 这样错误的概念 ： “

在 高速 链 路 （或 高 带 宽 链
“
。 但这是不对的。 我们 知 道， 汽 车在 路 面质 量很好的高 速 公
路 ） 上 ， 比特会传送得 更快些
路 上 可 明 显地提 高 行驶速率。 然而对千高速 网络链路 ， 我们提 高 的 仅仅是数 据 的 发 送速率而
不 是 比特在链路上 的 传播速率。 荷载信 息的电磁波在通信 线 路 上的传播速率 （这是光速的数
量级 ） 取决于通信 线 路的介质 材 料， 而 与 数 据的发送速率并无关系。 提 高 数 据 的 发 送 速率只
是减小 了 数据 的 发 送 时延。 还有一 点 也 应 当 注意， 就是数据的发送速率的单位是每 秒 发 送 多
少 个 比特， 这 是指在 某个点或某个接 口 上的发送速率。 而传播速率的单位是每秒传播 多 少 公
里， 是指在某一段传输线路上 比特的传播速率。 因 此， 通 常 所 说的 “
是指可 以 用很 高的速率 向 光纤信 道发送数据， 而 光纤 信 道的传播速 率 实 际 上还要 比铜线的传
播 速 率 略 低 一 点。 这 是 因 为经过 测 量 得 知 ， 光在 光 纤 中的传播速率 约 为 每 秒 20.5 万 公 里 ，
它 比 电磁波在铜 线 （如 5 类线 ） 中的传播速率（每 秒 23 . 1 万 公 里 ） 略低 一 些。

光纤信道的传输速率高

”

上述的重要概念请读者务必 弄清。

5 .   时延带宽积

把 以 上讨 论的网络性能的两 个 度 量

传 播 时 延 和 带 宽

相 乘 ， 就得 到 另 一 个很有

用 的度 量： 传播时延带 宽积 ， 即

时 延 带 宽 积 ＝ 传 播 时 延 x 带 宽

( 1 -4)

O 注 ： 当计算机 网 络 中 的通信榄过大 时 ， 网 络 中 的 许多 路 由 器 的 处理 时 延 和 排 队 时 延将会大大增加 ， 因 而 处 理 时 延 和 排 队

时 延 有 可 能 在总 时 延 中 占 据 主 要成 分 。 这 时 整 个 网 络 的性 能 就变 差 了 。

•  24  •

我们 可 以 用 图 1 - 1 3 的示 意 图 来表 示 时 延 带 宽 积 。 这是 一 个代表链路的圆 柱 形管道， 管
道的长 度 是 链 路的传 播 时 延 （请注意， 现在 以 时 间 作 为 单位 来 表 示链路长度 ）， 而 管 道的截
面积 是链路的带 宽 。 因 此 时 延 带 宽 积就表示这个管道的体积， 表 示这样的链路可容纳 多少个
比特 。 例 如， 设某段链路的传 播 时 延 为 20 ms , 带 宽 为 1 0 Mbit/s , 算出

时 延 带 宽 积 ＝ 20 X  1 0

—3

X  10 X  1 06 = 2  X  1 05  bit

这 就 表 明 ， 若发送 端 连续发送数据 ， 则在发送的第一 个 比 特 即 将 到 达 终点 时 ， 发送 端
就 已经发送 了 20 万个 比特， 而 这 20 万 个 比特都正在链路上 向 前移动 。 因 此， 链路的时延带
宽 积 又 称 为 以 比特为单位的链路长度 。

，

（ 传播 ） 时 延

，

带 宽

图 1 - 1 3 链路像 一 条 空 心 管道

不难看出 ， 管 道 中 的 比 特 数 表 示 从发送端发出但 尚未到达接 收 端的 比 特 数 。 对 于 一 条

正在 传送数据的链路， 只 有在代表链路的管道都充满 比特时， 链路才得到最充分的利 用 。

6. 往返时间 RTT

在 计算机网络中， 往返时间 RTT (Round-Trip Time)也 是 一个重要 的性能指标 。 这 是 因 为
在 许 多 情况 下 ， 互 联网 上的信 息 不仅 仅 单 方 向 传输而是双 向 交 互的。 因 此， 我们有时很需要
知 道双 向 交 互 一 次所需的时 间 。 例 如 ， A 向 B 发送数据 。 如 果 数据长度是 1 00 MB , 发送速
率 是 1 00 Mbit/s , 那 么

发送 时 门

日 ＝

数据长度 1 oo x 220 x s
发送速 率

1 oo x 1 06

：：：：：：8.39 s

假定 B 正确 收 完 1 00 MB 的数据 后 ， 就立 即 向 A 发送确认 。 再假定 A 只 有在 收 到 B 的
确 认 信 息 后 ， 才能继 续 向 B 发送数据 。 显然， 这就要 等 待 一 个 往返 时 间 RTT（这里 假 定 确
认信 息很短 ， 可 忽 略 B 发送确 认的发送 时 延 ）。 如 果 RTT =  2s , 那 么 可 以算出 A 向 B 发送
数据的有效数据 率 。

有效 数据率 ＝

数据长度

1 oox 220 x8

发送时 间 ＋RTT 8.39+2

：：：：：：80. 7 x  I ou  bit尽 ：：：：：：80.7Mbit/s

比 原 来的数据 率 1 00 Mbit/s 小 不 少 。
在 互 联网 中 ， 往 返 时 间 还包 括 各 中 间 节 点的处理时 延 、 排 队 时 延 以 及转发数 据 时的发

送 时 延 。 当 使用 卫 星 通信 时 ， 往 返 时 间 RTT 相 对较长， 是很重要的一个性能指标 。

顺 便指出， 在 计算机网络的文献 中 ， 也有把 RTT 称 为往 返时延(Round-Trip Time  delay)

的， 强调发送方至少 要经过这样 多的时 间 ， 才能知 道 自 己所发送的数据 是 否 被对方接收 了 。
还有的文 献把 带 宽 时 延 积 定 义 为 带 宽 与 RTT 的乘积 。 这 样 定 义的数值就 比 前面( 1 -4)式 定 义
的数值大了 一倍 。 这 样 定 义的带 宽 时 延积表示， 如 果发送方 以 最 高发送速 率 连续发送数据，
而接收方一 收到数据 就 立 即 发送对收到数据的确认， 那 么 发送方在收到这个确 认 时 ， 已经发
送出的数据量就是按这种 定 义的带 宽 时 延 积 。

• 25 •

7. 利 用 率

利 用 率 有 信 道 利 用 率 和 网 络 利 用 率 两 种 。 信 道 利 用 率 指 出 某 信 道 有 百 分 之 几 的 时 间 是

被 利 用 的 （ 有 数 据 通 过 ） 。 完 全 空 闲 的 信 道 的 利 用 率 是 零 。 网 络利 用 率 则 是 全 网 络 的 信 道 利

用 率 的 加 权 平 均 值 。 信 道利 用 率 并 非 越 高越 好 。 这 是 因 为 ， 根据排 队 论 的 理论 ， 当 某 信 道 的

利 用 率 增 大 时 ， 该信 道 引 起 的 时 延 也就迅速增 加 。 这 和 高 速 公 路 的情 况 有 些 相 似 。 当 高速 公

路上 的 车流 量 很 大 时 ， 由 千 在 公 路上 的 某 些 地 方 会 出 现堵塞 ， 因 此 行 车所 需 的 时 间 就会 变 长 。

网 络 也 有 类似 的情 况 。 当 网 络 的 通 信 量 很 少 时 ， 网 络 产 生 的 时 延 并 不 大 。 但 在 网 络 通 信 量 不

断增 大 的情况 下 ， 由 千 分组在 网 络 节 点 （ 路 由 器或节 点 交换 机 ） 进 行 处理 时 需 要 排 队 等 候 ，

因 此 网 络 引 起 的 时 延就 会增 大 。 如 果令 D。 表 示 网 络 空 闲 时 的 时 延 ， D 表 示 网 络 当 前 的 时延

（ 设现 在 的 网 络 利 用 率 为 U ) ， 那 么 在 适 当 的 假 定 条件 下 ， 可 以 用 下 面 的 简 单 公 式( 1 -5)来表

示 D 与 D。 以 及 利 用 率 U 之 间 的 关 系 ：

D =  D。
l - U

( 1 -5)

这 里 U 是 网 络利 用 率 ， 数 值 在 0 到 1 之 间 。 当 网 络 利 用 率达 到 其 容 量 的 1 /2 时 ， 时 延

就 要 加 倍 。 特 别 值 得注 意 的 就 是 ： 当 网 络 利 用 率接近最大值 1 时 ， 网 络 产 生 的 时 延 就趋 千 无

穷 大 。 因 此我们 必 须 有 这 样 的 概 念 ： 信道利 用 率或 网 络 利 用 率过高就会产生 非 常大 的 时延 。
图 1 - 1 4 给 出 了 上述概念 的 示 意 图 。 因 此 ， 一 些 拥 有 较 大 主 干 网 的 ISP 通 常 控 制 信 道 利 用 率

不 超 过 50% 。 如 果超 过 了 就 要 准 备 扩 容 ， 增 大 线 路 的 带 宽 。
时 延 D

。

D。

利 用 率 U

图 1 - 1 4 时 延 与 利 用 率 的 关 系

1 .6.2  计 算机 网 络 的 非性能特征

计 算 机 网 络 还 有 一 些 非 性 能 特 征 也 很 重 要 。 这 些 非 性 能 特 征 与 前 面 介 绍 的 性 能 指 标 有

很 大 的 关 系 。 下 面 简 单地加 以 介 绍 。

1 . 费 用

网 络 的 价 格 （ 包 括 设 计 和 实 现 的 费 用 ） 总 是 必 须 考 虑 的 ， 因 为 网 络 的性 能 与 其 价 格 密

切 相 关 。 一 般 说 来 ， 网 络 的 速率越 高 ， 其 价 格 也越 高 。

2 . 质 量

网 络 的 质 量 取 决 于 网 络 中 所 有 构 件 的 质 量 ， 以 及 这 些 构 件 是 怎 样 组 成 网 络 的 。 网 络 的
质 量影 响 到 很 多 方面 ， 如 网 络 的 可 靠 性 、 网 络 管理 的 简 易 性 ， 以 及 网 络 的 一 些 性 能 。 但 网 络
的性 能 与 网 络 的 质 量 并 不 是 一 回 事 。 例 如 ， 有些性 能 一 般 的 网 络 ， 运 行 一 段 时 间 后 就 出 现 了

•  26 •

故 障 ， 变 得 无 法 再 继 续 工 作 ， 说 明 其 质 量 不 好 。 高 质 量 的 网 络往 往 价 格 也 较 高 。

3 . 标准化

网 络 的 硬 件 和 软 件 的 设 计 既 可 以 按 照 通 用 的 国 际 标 准 ， 也 可 以 遵 循 特 定 的 专 用 网 络 标

准 。 最 好 采 用 国 际标 准 的 设计 ， 这 样 可 以 得 到 更 好 的 互操 作 性 ， 更 易 千 升 级 换 代 和 维 修 ， 也

更 容 易 得 到 技 术上 的 支 持 。

4 . 可靠性

可 靠 性 与 网 络 的 质 量 和 性 能 都 有 密 切 关 系 。 高 速 网 络 的 可 靠 性 不 一 定 很 差 。 但 高 速 网

络 要 可 靠地运 行 ， 则 往往 更加 困 难 ， 同 时 所 需 的 费 用 也 会较 高 。

5 . 可扩展性和 可升级性

在 构 造 网 络 时 就 应 当 考 虑 到 今 后 可 能 会 需 要 扩 展 （ 即 规 模 扩 大 ） 和 升 级 （ 即 性 能 和 版

本 的 提 高 ） 。 网 络 的性 能越好 ， 其 扩 展 费用 往 往 也 越 高 ， 难 度 也 会相 应增 加 。

6 . 易 千管理和维护

网 络 如 果 没有 良 好 的 管 理 和 维护 ， 就 很 难 达 到 和 保持 所 设 计 的性 能 。

1 . 7  计 算机网络体 系结构

在 计 算 机 网 络 的 基 本 概 念 中 ， 分 层 次 的 体 系 结构 （ 或 架构 ） 是 最 基 本 的 。 计 算 机 网 络

体 系 结 构 的 抽 象 概 念 较 多 ， 在 学 习 时 要 多 思 考 。 这 些 概 念 对 后 面 的 学 习 很 有 帮 助 。

1 .7. 1  计 算机 网 络体系 结 构 的 形 成

计 算 机 网 络 是 个 非 常 复 杂 的 系 统 。 为 了 说 明 这 一 点 ， 可 以 设 想 一 种 最 简 单 的情 况 ： 连

接 在 网 络 上 的 两 台 计 算 机 要 互相 传 送 文 件 。

显 然 ， 在 这 两 台 计 算 机 之 间 必 须 有 一 条 传 送 数据 的 通 路 。 但 这 还 远 远 不 够 。 至 少 还 有

以 下 几项 工作 需 要 去 完 成 ：

( 1 ) 发 起 通 信 的 计 算 机 必 须 将 数 据 通 信 的 通路激活(activate) 。 所 谓 “ 激活

”

就 是 要 发 出

一 些信 令 ， 保 证 要 传 送 的 计 算 机数据 能在 这 条通路上 正 确 发送 和 接 收 。

(2) 告 诉 网 络 如 何 识 别 接 收 数据 的 计 算机 。

(3) 发起通信 的 计 算 机必 须 查 明 对 方 计 算 机 是 否 已 开 机 ， 并 且 与 网 络 连接 正 常 。
(4) 发起通信 的 计 算 机 中 的 应 用 程 序 必 须 弄清 楚 ， 在 对方 计 算 机 中 的 文 件 管 理 程 序 是 否

己 做 好接 收 文 件 和 存储文 件 的 准 备工 作 。

(5) 若 计 算 机 的 文 件格 式 不 兼 容 ， 则 至 少 其 中 一 台 计 算 机 应 完 成 格 式转 换 功 能 。
(6) 对 出 现 的 各 种 差 错 和 意 外 事 故 ， 如 数据 传 送错 误 、 重 复 或 丢 失 ， 网 络 中 某个 节 点 交

换机 出 现 故 障 等 ， 应 当 有 可 靠 的 措 施 保 证 对 方 计 算机最 终 能 够 收 到 正 确 的 文 件 。

还 可 以 列 举 一 些 要 做 的 其 他 工 作 。 由 此 可 见 ， 相 互 通 信 的 两 个 计 算 机 系 统 必 须 高 度 协
是 相 当 复杂 的 。 为 了 设计 这样 复 杂 的 计 算机 网 络 ， 早 在 最 初 的

调 工 作 才 行 ， 而 这 种

协 调

“

”

ARPANET 设 计 时 即 提 出 了 分层 的 方 法 。

“

”

分 层

可 将 庞 大而 复 杂 的 问 题 ， 转 化 为 若 干 较 小

•  27 •

