传送到 计算机 A, 添加上这 一 行信 息 后 ， 再用 FTP将 此 文 件 传 送到 计算机 B, 来 回传送
这样大的文 件很花时间。 实 际 上这种传送是不必要的， 因 为计 算机 A 并没有使用该 文件的

内 容。

然 而网络 文件 系 统 N FS 则采用另 一种思路。 NFS 允许应用 进程打开一个远地文件 ， 并
(cid:7129)在该文件 的 某 一个特定 的 位 置 上开始读 写 数 据。 这样 ， N FS 可使用 户 只 复制一个大 文 件
中的一个很小的片 段 ， 而不需要复制整 个 大 文件。 对千上述例子， 计算机 A 中的 NFS 客 户
软 件 ， 把要添加的数据和在文 件后面写数据的请求 一起发送到远地的计算机 B 中的 N FS 服
务器 ， N FS 服 务器更新文 件后返 回应答信 息。 在 网络上传送 的 只 是少 量 的修改 数 据。

6.2.3

TFTP

简 单文 件传送协议

TCP/IP协 议族中还有一个简 单文件传送协议 TFTP(Trivial  F ile  Trans fer

Protocol ) ， 它是 一个很小 且 易 千 实现的文件传送协 议 [ RFC 1 350,  STD33]。
虽 然 TFTP也使用客 户 服务器方式 ， 但它使用 UDP数据报 ， 因 此 TFTP需
要 有 (cid:7151) 己的差 错 改 正 措 施。 TFTP 只支 持 文 件传输而不支 持 交 互。 TFTP 没有一个庞 大的命
令 集 ， 没有列目录的功(cid:7126) ， 也不(cid:7126)对用户 进行身 份 鉴 别 。

视频讲解

TFTP的主要 优点有两个。 第 一 ， TFTP可用千 UDP环境。 例如， 当需要将程序 或 文件 同
时向许 多机器下载时就往往需要使用 TFTP。 第 二 ， TFTP 代码所 占的 内存较小。 这 对较小的

计算机或某 些特 殊用途的设备是很重要的。 这 些设备不需要硬盘 ， 只需要 固化 了 TFTP、 UDP

和 IP的小 容量只读存储器即可。 当 接通电源后， 设备执行只读存储器中的代码 ， 在网络上广
播一个 TFTP请求。 网络上的 TFTP服务器就发送响应 ， 其中包 括可执行二 进制程序。 设备收
到此文件后将其放入内存， 然后开始运行程序。 这种方式增加了灵活性 ， 也减少了开销。

TFTP的主要特点是 ：
(1 ) 每次传送的数据报 文中有 51 2字(cid:7188)的数据 ， 但最后 一次可不 足 51 2字(cid:7188)。
( 2) 数据报文按序编号 ， 从 1 开始。

(3) 支 持ASCII 码 或 二进制传送。

(4 ) 可对文件进行读或 写 。

(5 ) 使用很简单的首部。
TFTP的工作很像停 止等 待 协 议（ 见第 5 章 5.4 . 1 (cid:7188) ）。 发送完 一个文件块后就等 待对方
的确认， 确认时应指明所确认的块编号。 发完数据后在规定时间内 收不到确认就要 重发数据
PDU。 发送确认PDU 的一方若在规 定时间 内 收不到下一个文 件 块 ， 也要重发确认PDU。 这
样就可 保 证 文 件的传送不(cid:7175) 因 某 一个数据报的丢 失而告失败。

在一 开始工作时。 TFTP 客 户 进程发送一个读请求报文 或 写请 求 报 文 给 TFTP 服 务器进
程 ， 其熟知端口号 码 为 69。 TFTP服务器进程要选 择一个新的端口和 TFTP客 户 进程进行通
信 。若文件长度恰好为 51 2字(cid:7188)的整数倍 ， 则在文件传送完 毕 后 ， 还必须在最后发送一个只
含首部而无数据的数据报文 。若文件长度不是 51 2字(cid:7188)的整数倍 ， 则最后传送数据报文中的
数据字段一定不满 51 2字(cid:7188) ， 这 正好可作为文件结束的标志。

6 . 3   远程终端协议 TE LN ET

TEL N ET 是 一个 简 单 的 远 程 终 端 协 议 [ RFC 854,  STD8] 。 用 户 用

视频讲解

•  271

•

TEL N ET 就可在其所 在地通过 TC P 连接注册（即 登 录 ） 到远地的另 一 台 主 机上 （ 使用主机
名或 I P 地址 ） 。 TELNET (cid:7142)将用户 的击键传到 远地主 机 ， 同 时也(cid:7126)将远地主机 的 输出通过

TC P 连接 返 回 到用户 屏 幕。 这种服 务 是 透明的 ， 因 为用 户 感 觉 到好像键 盘和显示器是直接

连在远地主机上的。 因此， TEL N ET 又 称 为终端仿真协议。

TEL N ET 并不 复杂 ， 以前应用得 很 多 。 现 在 由千计算机的功(cid:7126)越来 越 强 ， 用 户 已 较 少

使用 TELN ET 了 ， 可作为历 史 资 料了解 一下即 可 。

TEL N ET 也使用客户 服 务器方式。 在 本地系统运行 TEL N ET 客 户 进程， 而在远地主机

则运行 TELNET 服 务器进程。 和 FTP 的情况相 似 ， 服 务器中 的主进程等 待新的请 求 ， 并产
生从属进程来 处理每一个连接。

TEL N ET (cid:7126)够适 应 许多计算机和操作 系 统的差 异。 例如 ， 对于 文本中一行的结束 ， 有
的系统使用ASCII 码的回 车 (C R) ， 有的系 统使用换行( LF) ， 还有的系统使用两个字符， 回车
换行(C R-LF) 。 又 如 ， 在中断 一个程序 时 ， 许多系 统使用C ontrol-C ( /\C) ， 但也有系统使用
ESC 按 键。 为了适 应 这种 差 异 ， TELNET 定 义 了数据和 命 令应 怎 样 通过互(cid:7110)网。 这 些定 义
就是 所谓的网络虚拟终端 N VT ( N e twork Virtual Te rminal)。 图 6-6说 明了 N VT 的意 义。 客 户
软件把用户 的击键和 命 令转换成 N VT 格 式 ， 并送交服 务 器。 服 务 器 软 件把收到的数据和 命

令 从 N VT 格 式转换成远地系统所 需的格 式。 向用 户 返 回 数据 时 ， 服 务器把远地系 统的格 式

转换为 N VT 格 式 ， 本地客 户 再从 N VT 格 式转换到 本地系 统 所 需的格 式。

TELNET
客 户 端

互 联 网

TELN ET
服 务 器端

使 用 客 户 端的格 式

使 用 NVT 格式

使 用 服 务 器 端 的 格式

图 6-6 TELNET 使用 网 络 虚拟终端 NVT 格 式

NVT 的格 式定 义 很 简 单 。 所 有 的 通 信 都 使用 8 位 一个字(cid:7188)。 在运转时 ， NVT 使用 7位
ASC I I 码传送数据 ， 而 当高位置 1 时用 作 控制命令。 ASC II 码 共 有 95个可 打 印 字符（如字

母 、 数字 、 标 点 符号 ） 和 33个控 制字符。 所有可打 印 字 符在 NVT 中的意 义和在 ASCII 码
中一 样。 但 N VT 只 使 用 了 ASCII 码的控制字符中的几个。 此外 ， N VT 还定 义 了 两字符的
C R-LF 为标 准的 行 结束控 制 符 。 当 用 户 键 入 回车按 键 时 ， TELNET 的 客 户 就 把它转换 为

C R-LF 再进行传输 ， (cid:7104) TELN ET 服 务 器要把C R-LF 转换 为远地机器的行结束字符。

TEL N ET 的选项协 商 (Option N e gotiation)使 TEL N ET 客 户 和 TEL N ET 服 务器可商定使

用 更多的终端 功(cid:7126) ， 协 商的双 方是 平 等 的。

6 .4  万维网 WWW

6.4. 1  万 维 网 概述

万 维 网 WWW (World  Wide  We b)是 一个大规模 的 、 (cid:7116)机式 的 信 息储藏所 ， 英 文简称为
We b , 而不是 什 么 特 殊的计算 机 网络 。 万 维 网 用链 接的方 法 (cid:7131)非常 方便地从 互 (cid:7110) 网上的一个
站 点 访问 另 一个站点（也就是 所谓的 ＂ 链接到 另 一个站点
) ， 从而主 动地按 需 获 取丰 富的信

”

•  272 •

