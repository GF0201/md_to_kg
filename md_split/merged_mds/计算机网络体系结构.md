### 关键词提取 - 分块 1
故障，变得无法再继续工作，说明其质量不好。高质量的网络往往价格也较高。
3.标准化网络的硬件和软件的设计既可以按照通用的国际标准，也可以遵循特定的专用网络标准。最好采用国际标准的设计，这样可以得到更好的互操作性，更易千升级换代和维修，也更容易得到技术上的支持。
4.可靠性可靠性与网络的质量和性能都有密切关系。高速网络的可靠性不一定很差。但高速网络要可靠地运行，则往往更加困难，同时所需的费用也会较高。
5.可扩展性和可升级性在构造网络时就应当考虑到今后可能会需要扩展（即规模扩大）和升级（即性能和版本的提高）。网络的性能越好，其扩展费用往往也越高，难度也会相应增加。
6.易千管理和维护网络如果没有良好的管理和维护，就很难达到和保持所设计的性能。
1.7计算机网络体系结构在计算机网络的基本概念中，分层次的体系结构（或架构）是最基本的。计算机网络体系结构的抽象概念较多，在学习时要多思考。这些概念对后面的学习很有帮助。
1.7.1计算机网络体系结构的形成计算机网络是个非常复杂的系统。为了说明这一点，可以设想一种最简单的情况：连接在网络上的两台计算机要互相传送文件。

**关键词**: 故障 质量 标准化 硬件 软件 国际标准 专用网络标准 互操作性 升级换代 维修 技术上的支持 可靠性 性能 高速网络 扩展费用 规模扩大 性能提高 易千管理 维护 计算机网络体系结构 分层次的体系结构 抽象概念 复杂系统 两台计算机 互相传送文件


### 关键词提取 - 分块 2
显然，在这两台计算机之间必须有一条传送数据的通路。但这还远远不够。至少还有以下几项工作需要去完成：(1)发起通信的计算机必须将数据通信的通路激活(activate)。所谓“激活”就是要发出一些信令，保证要传送的计算机数据能在这条通路上正确发送和接收。
(2)告诉网络如何识别接收数据的计算机。
(3)发起通信的计算机必须查明对方计算机是否已开机，并且与网络连接正常。
(4)发起通信的计算机中的应用程序必须弄清楚，在对方计算机中的文件管理程序是否己做好接收文件和存储文件的准备工作。
(5)若计算机的文件格式不兼容，则至少其中一台计算机应完成格式转换功能。
(6)对出现的各种差错和意外事故，如数据传送错误、重复或丢失，网络中某个节点交换机出现故障等，应当有可靠的措施保证对方计算机最终能够收到正确的文件。
还可以列举一些要做的其他工作。由此可见，相互通信的两个计算机系统必须高度协
是相当复杂的。为了设计这样复杂的计算机网络，早在最初的调工作才行，而这种协调“”ARPANET设计时即提出了分层的方法。

**关键词**: 计算机网络 信令 文件管理程序 格式转换功能 差错和意外事故


### 关键词提取 - 分块 3
“”分层可将庞大而复杂的问题，转化为若干较小•27•的局部问题，而这些较小的局部问题就比较易千研究和处理。
1974年，美国的IBM公司宣布了系统网络体系结构SNA(SystemNetworkArchitecture)。
这个著名的网络标准就是按照分层的方法制定的。现在用IBM大型机构建的专用网络仍在
使用SNA。不久后，其他一些公司也相继推出自己公司的具有不同名称的体系结构。
不同的网络体系结构出现后，使用同一个公司生产的各种设备都能够很容易地互连成
网。这种情况显然有利千一个公司垄断市场。但由千网络体系结构的不同，不同公司的设备
很难互相连通。
然而，全球经济的发展使得不同网络体系结构的用户迫切要求能够互相交换信息。为了使不同体系结构的计算机网络都能互连，国际标准化组织ISO千1977年成立了专门机构
研究该问题。他们提出了一个试图使各种计算机在世界范围内互连成网的标准框架，即著名
的开放系统互连基本参考模型OSI/RM(OpenSystemsInterconnectionReferenceModel)，简
是指非独家垄断的。因此只要遵循OSI标准，一个系统就可以和位于世

**关键词**: 计算机网络 分层 体系结构 SNA SystemNetworkArchitecture 互连 OSI/RM OpenSystemsInterconnectionReferenceModel


### 关键词提取 - 分块 4
是指非独家垄断的。因此只要遵循OSI标准，一个系统就可以和位于世
称为OSI。“开放
界上任何地方的、也遵循这同一标准的其他任何系统进行通信。这一点很像世界范围的有线”是指在现实的系统中与互连有关的各
电话和邮政系统，这两个系统都是开放系统。”系统
部分（我们知道，并不是一个系统中的所有部分都与互连有关。OSI/RM把与互连无关的部”分除外，而仅仅考虑与互连有关的那些部分）。所以OSI/RM是个抽象的概念。在1983年形成了开放系统互连基本参考模型的正式文件，即著名的ISO7498国际标准，也就是所谓的七层协议的体系结构。
OSI试图达到一种理想境界，即全球计算机网络都遵循这个统一标准，因而全球的计算
机将能够很方便地进行互连和交换数据。在20世纪80年代，许多大公司甚至一些国家的政
府机构纷纷表示支持OSI。当时看来似乎在不久的将来全世界一定会按照OSI制定的标准来

**关键词**: 计算机网络 OSI标准 开放系统 OSI/RM 七层协议 全球计算机网络 互连和交换数据


### 关键词提取 - 分块 5
府机构纷纷表示支持OSI。当时看来似乎在不久的将来全世界一定会按照OSI制定的标准来
构造自己的计算机网络。然而到了20世纪90年代初期，虽然整套的OSI国际标准都已经制定出来了，但由千基千TCP/IP的互联网已抢先在全球相当大的范围成功地运行了，而与此同时却几乎找不到有什么厂家生产出符合OSI标准的商用产品。因此人们得出这样的结
论：OSI只获得了一些理论研究的成果，但在市场化方面则事与愿违地失败了。现今规模最
大的、覆盖全球的、基于TCP/IP的互联网并未使用OSI标准。OSI失败的原因可归纳为：(1)OSI的专家们缺乏实际经验，他们在完成OSI标准时缺乏商业驱动力；(2)OSI的协议实现起来过分复杂，而且运行效率很低；(3)OSI标准的制定周期太长，因而使得按OSI标准生产的设备无法及时进入市场；(4)OSI的层次划分不太合理，有些功能在多个层次中重复出现。
按照一般的概念，网络技术和设备只有符合有关的国际标准才能大范围地获得工程上

**关键词**: 计算机网络 OSI TCP/IP 商用产品 互联网 理论研究 市场化 协议 实现 运行效率 标准 层次划分


### 关键词提取 - 分块 6
按照一般的概念，网络技术和设备只有符合有关的国际标准才能大范围地获得工程上
的应用。但现在情况却反过来了。得到最广泛应用的不是法律上的国际标准OSI,而是非国际标准TCP/IP。这样，TCP/IP就常被称为是事实上的国际标准。从这种意义上说，能够占领市场的就是标准。在过去制定标准的组织中往往以专家、学者为主。但现在许多公司都纷
纷加入各种标准化组织，使得技术标准具有浓厚的商业气息。一个新标准的出现，有时不一
定反映其技术水平是最先进的，而是往往有着一定的市场背景。
顺便说一下，虽然OSI标准在一开始由ISO来制定，但后来的许多标准都是ISO与原•28•来的国际电报电话咨询委员会CCITT。联合制定的。从历史上来看，CCITT原来是从通信的
角度考虑一些标准的制定的，而ISO则关心信息的处理。但随着科学技术的发展，通信与
信息处理的界限变得比较模糊了。千是，通信与信息处理就都成为CCITT与ISO所共同关心的领域。CCITT的建议书X.200就是关千开放系统互连基本参考模型的，它和上面提到的ISO7498基本上是相同的。

**关键词**: 网络技术 国际标准 OSI TCP/IP 标准化组织 市场背景 ISO CCITT 开放系统互连基本参考模型


### 关键词提取 - 分块 7
1.7.2协议与划分层次在计算机网络中要做到有条不紊地交换数据，就必须遵守一些事先约
定好的规则。这些规则明确规定了所交换的数据的格式以及有关的同步问题。这里所说的同步不是狭义的（即同频或同频同相）而是广义的，即在
一定的条件下应当发生什么事件（例如，应当发送一个应答信息），因而同步含有时序的意
思。这些为进行网络中的数据交换而建立的规则、标准或约定称为网络协议(network
protocol)。网络协议也可简称为协议。更进一步讲，网络协议主要由以下三个要素组成：视频讲解(1)语法，即数据与控制信息的结构或格式；(2)语义，即需要发出何种控制信息，完成何种动作以及做出何种响应；(3)同步，即事件实现顺序的详细说明。
由此可见，网络协议是计算机网络不可缺少的组成部分。实际上，只要我们想让连接
在网络上的另一台计算机做点什么事情（例如，从网络上的某台主机下载文件），都需要有
协议。但是当我们经常在自己的个人电脑上进行文件存盘操作时，就不需要任何网络协议，除非这个用来存储文件的磁盘是网络上的某个文件服务器的磁盘。
协议通常有两种不同的形式。一种是使用便于人来阅读和理解的文字描述。另一种是

**关键词**: 计算机网络 数据交换 规则 标准 约定 网络协议 语法 语义 同步 事件 控制信息 动作 响应 顺序 个人电脑 文件服务器


### 关键词提取 - 分块 8
协议通常有两种不同的形式。一种是使用便于人来阅读和理解的文字描述。另一种是
使用让计算机能够理解的程序代码。这两种不同形式的协议都必须能够对网络上的信息交换过程做出精确的解释。
ARPANET的研制经验表明，对千非常复杂的计算机网络协议，其结构应该是层次式的。
我们可以举一个简单的例子来说明划分层次的概念。
现在假定我们在主机l和主机2之间通过一个通信网络传送文件。这是一项比较复杂的工作，因为需要做不少的工作。
我们可以将要做的工作划分为三类。第一类工作与传送文件直接有关。例如，发送端
的文件传送应用程序应当确信接收端的文件管理程序己做好接收和存储文件的准备。若两台
主机所用的文件格式不一样，则至少其中的一台主机应完成文件格式的转换。这两项工作可
用一个文件传送模块来完成。这样，两台主机可将文件传送模块作为最高的一层（如图1-15
所示）。在这两个模块之间的虚线表示两台主机系统交换文件和一些有关文件交换的命令。
”CD注：鉴千“有线电”和“无线电的关系日益密切，国际电信联盟ITU(InternationalTelecommunicationUnion)已将国际

**关键词**: 协议 ARPANET 通信网络 文件传送模块 文件格式转换


### 关键词提取 - 分块 9
电报电话咨询委员会CCITT和国际无线电咨询委员会CCIR合并为电信标准化部门TSS(TelecommunicationStandardization
Sector)。从1993年3月1日起，CCITT和CCIR不复存在，有关电信的标准就由国际电信联盟ITU的电信标准化部门颁布，并
在每个建议书的前面加上ITU-T这几个字，例如，原来的CCITTX.25现在就称为ITU-TX.25。为了节约经费，以后不再是每隔
四年就出版全套的建议书，而是只出版新通过的建议书或旧建议书中有变化的部分。CCITT虽然不存在了，但过去CCITT所制
定的标准并未作废，凡未过时的标准我们在需要时都可继续引用。
•29•］＿机l文件传送校块通信服务模块网络桵入校块叉件及文件传这命令与迫信有关的报又图1-15划分层次举例主机2义件传送模块迫估服务模块网络接入模块但是，我们并不想让文件传送模块完成全部工作的细节，这样会使文件传送模块过千
复杂。可以再设立一个通信服务模块，用来保证文件和文件传送命令可靠地在两个系统之间

**关键词**: 电信标准化部门 ITU-T CCITT CCIR TSS 网络接入模块 通信服务模块 文件传送模块


### 关键词提取 - 分块 10
复杂。可以再设立一个通信服务模块，用来保证文件和文件传送命令可靠地在两个系统之间
交换。这就是我们要做的第二类工作。也就是说，让位千上面的文件传送模块利用下面的通信服务模块所提供的服务。我们还可以看出，如果将位千上面的文件传送模块换成电子邮件模块，那么电了邮件模块同样可以利用在它下面的通信服务模块所提供的可靠通信的服务。
我们要做的第三类工作可以是再构造一个网络接入模块，让这个模块负责做与网络接口细节有关的工作，并向上层提供服务，使上面的通信服务模块能够完成可靠通信的任务。
从上述的简单例子可以更好地理解分层能带来很多好处，如：
(l)各层之间是独立的。某一层并不需要知道它的下一层是如何实现的，而仅仅需要知道该层通过层间的接口（即界面）所提供的服务。由千每一层只实现一种相对独立的功能，
因而可将一个难以处理的复杂问题分解为若干个较容易处理的更小一些的问题。这样，整个
问题的复杂程度就下降了。
(2)灵活性好。当任何一层发生变化时（例如由于技术的变化），只要层间接口关系保
持不变，那么在这层以上或以下各层均不受影响。此外，对某一层提供的服务还可进行修改。

**关键词**: 通信服务模块 文件传送命令 文件传送模块 电子邮件模块 网络接入模块 分层 接口 界面


### 关键词提取 - 分块 11
持不变，那么在这层以上或以下各层均不受影响。此外，对某一层提供的服务还可进行修改。
当不再需要某层提供的服务时，甚至可以将这层取消。
(3)结构上可分割开。各层都可以采用最合适的技术来实现。
(4)易千实现和维护。这种结构使得实现和调试一个庞大而又复杂的系统变得更加容易，因为整个系统已被分解为若干个相对独立的子系统。
(5)能促进标准化工作。因为每一层的功能及其所提供的服务都已有了精确的说明。
分层时应注意使每一层的功能非常明确。若层数太少，就会使每一层的协议太复杂；但层数太多又会在描述和综合各层功能的系统工程任务时遇到较多的困难。通常各层所要完
成的功能主要有以下一些（可以只包括一种，也可以包括多种）：句差错控制使相应层次对等方的通信更加可靠。
＠流量控制发送端的发送速率必须使接收端来得及接收，不要太快。
＠分段和重装＠复用和分用发送端将要发送的数据块划分为更小的单位，在接收端将其还原。
发送喘几个高层会话复用一条低层的连接，在接收端再进行分用。
交换数据前先建立一条逻辑连接，数据传送结束后释放连接。
＠连接建立和释放

**关键词**: 分层 差错控制 流量控制 分段和重装 复用和分用 连接建立和释放


### 关键词提取 - 分块 12
交换数据前先建立一条逻辑连接，数据传送结束后释放连接。
＠连接建立和释放
分层当然也有一些缺点，例如，有些功能会在不同的层次中重复出现，因而产生额外开销。
计算机网络的各层及其协议的集合就是网络的体系结构(architecture)。换种说法，计算
机网络的体系结构就是这个计算机网络及其构件所应完成的功能的精确定义[GREE82]。需•30•要强调的是：这些功能究竟是用何种硬件或软件完成的，则是一个遵循这种体系结构的实现
(implementation)的问题。体系结构的英文名词architecture的原意是建筑学或建筑的设计和
风格。它和一个具体的建筑物的概念很不相同。例如，我们可以走进一个明代的建筑物中，
但却不能走进一个明代的建筑风格之中。同理，我们也不能把一个具体的计算机网络说成是
一个抽象的网络体系结构。总之，体系结构是抽象的，而实现则是具体的，是真正在运行的
计算机硬件和软件。

**关键词**: 交换数据 逻辑连接 连接建立 释放连接 分层 体系结构 实现 功能 硬件 软件


### 关键词提取 - 分块 13
计算机硬件和软件。
扫一扫1.7.3具有五层协议的体系结构OSI的七层协议体系结构（如图1-16(a)所示）的概念清楚，理论也较完整，但它既复杂又不实用。TCP/IP体系结构则不同，它现在得到了非常聪霆耘广泛的应用。TCP/IP是一个四层的体系结构（如图1-16(b)所示），它包含
应用层、运输层、网际层和链路层（网络接口层）。用网际层这个名字是强调本层解决不同视肋讲解网络的互连问题。在互联网的标准文档[RFC1122,STD3]中，体系结构中的底层叫作链路层，但接着又说明了链路层就是媒体接入层。但也有把链路层称为网络接口层的[COME06]或子网层的[PETE12]。从实质上讲，TCP/IP只有最上面的三层，因为最下面的链路层并没有属千TCP/IP休系的具体协议。链路层所使用的各种局域网标准，并非由IETF而是由IEEE的802委员会下属的各工作组负责制定的。在讲授计算机网络原理时往往采取另外的办法，即综合OSI和TCP/IP的优点，采用如图1-16(C)所示的五层协议的体系结构，这对阐述计算机网络的原理是十分方便的。

**关键词**: 计算机网络 OSI 七层协议 TCP/IP 四层体系结构 应用层 运输层 网际层 链路层 媒体接入层 网络接口层 链路层 局域网标准 IETF IEEE 802委员会 五层协议体系结构


### 关键词提取 - 分块 14
OSI的体系结构TCP/IP的体系结构五层协议的体系结构／／／／／／76543应用层V
．表示层J应用层（各种应用层协议如
DNS,HTTP,SMTP等）／会话层V
运输层V运输层(TCP或UDP)V
V网际层1P网络层／
2数据链路层／
I物理层I/(a)OSI的七层协议链路层（网络接口层）（这一层并没有具体内容）V
(b)TCP/IP的四层协议图1-16计算机网络体系结构543应用层运输层7
I/
网络层v2数据链路层V
I)物理层I(c)讲述原理的五层协议现在结合互联网的情况，自上而下地、非常简要地介绍一下各层的主要功能。实际上，只有认真学习完本书各章的协议后才能真正弄清各层的作用。
(1)应用层(applicationlayer)
应用层是体系结构中的最高层。应用层的任务是通过应用进程间的交互来完成特定网络应用。应用层协议定义的是应用进程间通信和交互的规则。这里的进程就是指主机中正在运行的程序。对千不同的网络应用需要有不同的应用层协议。互联网中的应用层协议很多，
如域名系统DNS、支持万维网应用的HTTP协议、支持电子邮件的SMTP协议，等等。我

**关键词**: OSI体系结构 TCP/IP体系结构 五层协议体系结构 DNS HTTP SMTP 应用层 会话层 运输层 TCP或UDP 网际层 IP网络层 数据链路层 物理层 计算机网络体系结构 互联网 域名系统DNS 支持万维网应用的HTTP协议 支持电子邮件的SMTP协议


### 关键词提取 - 分块 15
如域名系统DNS、支持万维网应用的HTTP协议、支持电子邮件的SMTP协议，等等。我
们把应用层交互的数据单元称为报文(message)。
•31•(2)运输层(transportlayer)
运输层的任务就是负责向两台主机中进程之间的通信提供通用的数据传输服务。应用
进程利用该服务传送应用层报文。所谓“通用的
，是指并不针对某个特定网络应用，而是
多种应用可以使用同一个运输层服务。由千一台主机可同时运行多个进程，因此运输层有复
用和分用的功能。复用就是多个应用层进程可同时使用下面运输层的服务，分用和复用相反，
是运输层把收到的信息分别交付上面应用层中的相应进程。
＂运输层主要使用以下两种协议：
•传输控制协议TCP(TransmissionControlProtocol}-—－提供面向连接的、可靠的数据传输服务，其数据传输的单位是报文段(segment)。
•用户数据报协议UDP(UserDatagramProtocol}-－－提供无连接的尽最大努力(best­
effort)的数据传输服务（不保证数据传输的可靠性），其数据传输的单位是用户数
据报。

**关键词**: 域名系统DNS HTTP协议 SMTP协议 报文(message) 运输层(transportlayer) 应用进程 报文(segment) 用户数据报协议UDP 传输控制协议TCP


### 关键词提取 - 分块 16
effort)的数据传输服务（不保证数据传输的可靠性），其数据传输的单位是用户数
据报。
顺便指出，有人愿意把运输层称为传输层，理由是这一层使用的TCP协议就叫作传输
控制协议。从意思上看，传输和运输差别也不大。但OSI定义的第4层使用的是Transport,
而不是Transmission。这两个词的含义还是有些差别的。因此，使用运输层这个译名较为准确。
(3)网络层(networklayer)
网络层负责为分组交换网上的不同主机提供通信服务。在发送数据时，网络层把运输
层产生的报文段或用户数据报封装成分组或包进行传送。在TCP/IP体系中，由千网络层使
作
用IP协议，因此分组也叫作IP数据报，或简称为数据报。本书把
为同义词使用。
数据报分组和””““请注意：不要将运输层的“用户数据报协议UDP"和网络层的“IP数据报＂弄混。此外，无论在哪一层传送的数据单元，都可笼统地用“”分组来表示。
网络层的具体任务有两个。第一个任务是通过一定的算法，在互联网中的每一个路由
器上生成一个用来转发分组的转发表。第二个任务较为简单，就是每一个路由器在接收到一

**关键词**: 运输层 传输层 Transport Transmission 网络层 TCP协议 IP协议 分组 数据报 路由器


### 关键词提取 - 分块 17
器上生成一个用来转发分组的转发表。第二个任务较为简单，就是每一个路由器在接收到一
个分组时，依据转发表中指明的路径把分组转发到下一个路由器。这样就可以使源主机运输
层所传下来的分组，能够通过合适的路由最终到达目的主机。
这里要强调指出，网络层中的“网络
在计算机网络体系结构模型中的第3层的名称。
”二字，已不是我们通常谈到的具体网络，而是互联网是由大量的异构(heterogeneous)网络通过路由器(router)相互连接起来的。互联网
使用的网络层协议是无连接的网际协议IP(InternetProtocol)和许多种路由选择协议，因此互
联网的网络层也叫作网际层或IP层。在本书中，网络层、网际层和IP层都是同义语。
(4)数据链路层(datalinklayer)
数据链路层常简称为链路层。我们知道，两台主机之间的数据传输，总是在一段一段
的链路上传送的，这就需要使用专门的链路层的协议。在两个相邻节点之间传送数据时，数
据链路层将网络层交下来的IP数据报组装成帧(framing)，在两个相邻节点间的链路上传

**关键词**: 计算机网络 路由器 分组 转发表 互联网 网络层 网际协议IP 路由选择协议 数据链路层 链路层 帧


### 关键词提取 - 分块 18
据链路层将网络层交下来的IP数据报组装成帧(framing)，在两个相邻节点间的链路上传
送帧(frame)。每一帧包括数据和必要的控制信息（如同步信息、地址信息、差错控制等）。
在接收数据时，控制信息使接收端能够知道一个帧从哪个比特开始和到哪个比特结束。
这样，数据链路层在收到一个帧后，就可从中提取出数据部分，上交给网络层。
控制信息还使接收端能够检测到所收到的帧中有无差错。如发现有差错，数据链路层就简单地丢弃这个出了差错的帧，以免继续在网络中传送下去臼臼浪费网络资源。如果需要•32•改正数据在数据链路层传输时出现的差错（这就是说，数据链路层不仅要检错，而且要纠错），那么就要采用可靠传输协议来纠正出现的差错。这种方法会使数据链路层的协议复杂些。
(5)物理层(physicallayer)
在物理层上所传数据的单位是比特。发送方发送l0)而不是0（或1）。因此物理层要考虑用多大的电压代表（或
“0"'以及接收方如何识
别出发送方所发送的比特。物理层还要确定连接电缆的插头应当有多少根引脚以及各引脚应
如何连接。当然，解释比特代表的意思，不是物理层的任务。请注意，传递信息所利用的一

**关键词**: 链路层 帧(framing) 网络层 IP数据报 控制信息 同步信息 地址信息 差错控制 物理层 比特 电压 插头 引脚 可靠传输协议


### 关键词提取 - 分块 19
如何连接。当然，解释比特代表的意思，不是物理层的任务。请注意，传递信息所利用的一
些物理传输媒体，如双绞线、同轴电缆、光缆、无线信道等，并不在物理层协议之内，而是
在物理层协议的下面。因此也有人把物理层下面的物理传输媒体当作第0层。
（或0)时，接收方应当收到1”1"或在互联网所使用的各种协议中，最重要的和最著名的就是TCP和IP两个协议。现在人
们经常提到的TCP/IP并不一定是单指TCP和IP这两个具体的协议，而往往是表示互联网
所使用的整个TCP/IP协议族(protocolsuite)气图1-17说明的是应用进程的数据在各层之间的传递过程中所经历的变化。这里为简单起见，假定两台主机通过一台路由器连接起来。
主机2图1-17数据在各层之间的传递过程假定主机1的应用进程AP1向主机2的应用进程AP2传送数据。AP1先将其数据交给本
主机的第5层（应用层）。第5层加上必要的控制信息儿就变成了下一层的数据单元。第4
层（运输层）收到这个数据单元后，加上本层的控制信息H4,再交给第3层（网络层），成
为第3层的数据单元。依此类推。不过到了第2层（数据链路层）后，控制信息被分成两部

**关键词**: 计算机网络 物理层 物理传输媒体 双绞线 同轴电缆 光缆 无线信道 TCP IP TCP/IP协议族 应用进程 主机 路由器 数据链路层


### 关键词提取 - 分块 20
为第3层的数据单元。依此类推。不过到了第2层（数据链路层）后，控制信息被分成两部
分，分别加到本层数据单元的首部(H2）和尾部(T正而第1层（物理层）由千是比特流的传送，所以不再加上控制信息。请注意，传送比特流时应从首部开始传送。
OSI参考模型把对等层次之间传送的数据单位称为该层的协议数据单元PDU(ProtocolDataUnit)。这个名词现已被许多非OSI标准采用。
当这一串的比特流离开主机1经网络的物理传输媒体传送到路由器时，就从路由器的第1层依次上升到第3层。每一层都根据控制信息进行必要的操作，然后将控制信息剥去，句注：请注意suite这个词的特殊读音／swi:t/，不要议错。
•33•将该层剩下的数据单元上交给更高的一层。当分组上升到了第3层网络层时，就根据首部中
的目的地址查找路由器中的转发表，找出转发分组的接口，然后往下传送到第2层，加上新
的首部和尾部后，再到最下面的第1层，然后在物理传输媒体上把每一个比特发送出去。
当这一串的比特流离开路由器到达目的站主机2时，就从主机2的第1层按照上面讲

**关键词**: 数据单元 控制信息 数据链路层 物理层 比特流 PDU(ProtocolDataUnit) 路由器 网络层 首部 尾部 转发表 接口 物理传输媒体 目的地址 分组 主机


### 关键词提取 - 分块 21
当这一串的比特流离开路由器到达目的站主机2时，就从主机2的第1层按照上面讲
过的方式，依次上升到第5层。最后，把应用进程AP1发送的数据交给目的站的应用进程
AP20可以用一个简单例子来比喻上述过程。有一封信从最高层向下传。每经过一层就包上一个新的信封，写上必要的地址信息。包有多个信封的信件传送到目的站后，从第1层起，
每层拆开一个信封后就把信封中的信交给它的上一层。传到最高层后，取出发信人所发的信
交给收信人。
虽然应用进程数据要经过如图1-17所示的复杂过程才能送到终点的应用进程，但这些复杂过程对用户屏蔽掉了，以致应用进程AP1觉得好像是直接把数据交给了应用进程AP沪
同理，任何两个同样的层次（例如在两个系统的第4层）之间，也好像如同图1-17中的水平虚线所示的那样，把数据（即数据单元加上控制信息）通过水平虚线直接传递给对方。这
”(peerlayers)之间的通信。我们以前经常提到的各层协议，实际上就就是所谓的对等层“是在各个对等层之间传递数据时的各项规定。

**关键词**: 计算机网络 路由器 主机 第1层 第5层 应用进程 AP1 AP20 信封 地址信息 最高层 复杂过程 用户 对等层 协议


### 关键词提取 - 分块 22
在文献中也还可以见到术语“协议栈"(protocolstack)。这是因为几个层次画在一起很像一个栈(stack)的结构。
1.7.4实体、协议、服务和服务访问点当研究开放系统中的信息交换时，往往使用实体(entity)这一较为抽象的名词表示任何可发送或接收信息的硬件或软件进程。在许多情况下，实体就是一个特定的软件模块。
协议是控制两个对等实体（或多个实体）进行通信的规则的集合。协议的语法方面的规则定义了所交换的信息的格式，而协议的语义方面的规则就定义了发送者或接收者所要完成的操作，例如，在何种条件下，数据必须重传或丢弃。
在协议的控制下，两个对等实体间的通信使得本层能够向上一层提供服务。要实现本层协议，还需要使用下面一层所提供的服务。
一定要弄清楚，协议和服务在概念上是很不一样的。
首先，协议的实现保证了能够向上一层提供服务。使用本层服务的实体只能看见服务而无法看见下面的协议。也就是说，下面的协议对上面的实体是透明的。
“＂＂水平的，即协议是控制对等实体之间通信的规则。但服务是垂直
其次，协议是
，即服务是由下层向上层通过层间接口提供的。另外，并非在一个层内完成的全部功能

**关键词**: 协议栈 实体 协议 服务 访问点 开放系统 信息交换 软件模块 语法 语义 通信 规则 服务访问点 层间接口


### 关键词提取 - 分块 23
其次，协议是
，即服务是由下层向上层通过层间接口提供的。另外，并非在一个层内完成的全部功能
。上层使用
看得见的
都称为服务。只有那些能够被高一层实体
下层所提供的服务必须通过与下层交换一些命令，这些命令在OSI中称为服务原语。
的功能才能称之为服务““”＂＂在同一系统中相邻两层的实体进行交互（即交换信息）的地方，通常称为服务访问点
SAP(ServiceAccessPoint)。服务访问点SAP是一个抽象的概念，它实际上就是一个逻辑接
口，有点像邮政信箱（可以把邮件放入信箱和从信箱中取走邮件），但这种层间接口和两个
设备之间的硬件接口（并行的或串行的）并不一样。OSI把层与层之间交换的数据的单位称
为服务数据单元SDU(ServiceDataUnit)，它可以与PDU不一样。例如，可以是多个SDU
合成为一个PDU,也可以是一个SDU划分为几个PDU。
•34•这样，在任何相邻两层之间的关系均可概括为图1-18所示的那样。这里要注意的是，“第n层的两个

**关键词**: 协议 服务 层间接口 SAP(ServiceAccessPoint) 服务访问点 服务数据单元SDU(ServiceDataUnit)


### 关键词提取 - 分块 24
之间则通过另外的“协议(n+1)"进行通信（每一层都使用不同的协议）。第n层向上面的实体(n)"之间通过“协议(n)"进行通信，而第n+l层的两个“实体(n+1)"第n+1层所提供的服务实际上已包括了在它以下各层所提供的服务。第n层的实体对第n
”,
+1层的实体就相当千一个服务提供者。在服务提供者的上一层的实体又称为“服务用户因为它使用下层服务提供者所提供的服务。
－－－－－－－－－－－－－－－－－－－－-－－－－－－－－－－－－－－1服务用户--fI实体(n+1）卜－－－－,-协议(n+1)---1实体(n+1)Ii－－－I第n+1层服务提供者－—-｝［＿实/f(/i)畸-----－协议(n)-----
l_＿＿＿＿_＿＿＿＿＿＿＿_＿＿＿＿＿＿＿＿＿＿＿＿＿＿_...:.＿＿＿...:.吵_＿l|心第n层图1-18相邻两层之间的关系计算机网络的协议还有一个很重要的特点，就是协议必须把所有不利的条件事先都估
计到，而不能假定一切都是正常的和非常理想的。例如，两个朋友在电话中约好，下午3时
在某公园门口碰头，并且约定“不见不散
。这就是一个很不科学的协议，因为任何一方临

**关键词**: 计算机网络 协议 n+1层 实体(n) 服务提供者 服务用户 第n层 第n+1层 协议(n) 协议(n+1)


### 关键词提取 - 分块 25
在某公园门口碰头，并且约定“不见不散
。这就是一个很不科学的协议，因为任何一方临
时有急事来不了而又无法通知对方时（如对方的电话或手机都无法接通），则另一方按照协
议就必须永远等待下去。因此，看一个计算机网络协议是否正确，不能只看在正常情况下是
否正确，还必须非常仔细地检查协议能否应付任何一种出现概率极小的异常情况。
＂下面是一个有关网络协议的非常著名的例子。
【例1-1】占据东、西两个山顶的蓝军1和蓝军2与驻扎在山谷的白军作战。其力量对比是：单独的蓝军1或蓝军2打不过臼军，但蓝军1和蓝军2协同作战则可战胜白军。现蓝军1拟于次日正午向白军发起攻击。千是用计算机发送电文给蓝军2。但通信线路很不好，
电文出错或丢失的可能性较大（没有电话可使用）。因此要求收到电文的友军必须送回一个
确认电文。但此确认电文也可能出错或丢失。试问能否设计出一种协议使得蓝军1和蓝军2
能够实现协同作战因而一定（即100％而不是99.999…%）取得胜利？
【解】蓝军1先发送：“拟于明日正午向臼军发起攻击。请协同作战和确认。
”假定蓝军2收到电文后发回了确认。

**关键词**: 计算机网络 协议 异常情况 电文 确认电文


### 关键词提取 - 分块 26
”假定蓝军2收到电文后发回了确认。
然而现在蓝军1和蓝军2都不敢下决心进攻。因为，蓝军2不知道此确认电文对方是否正确地收到了。如未正确收到，则蓝军1必定不敢贸然进攻。在此情况下，自己单方面发
起进攻就肯定要失败。因此，必须等待蓝军l发送“对确认的确认"。
假定蓝军2收到了蓝军l发来的确认。但蓝军l同样关心自已发出的确认是否已被对方正确地收到。因此还要等待蓝军2的“对确认的确认的确认＂。
这样无限循环下去，蓝军1和蓝军2都始终无法确定自己最后发出的电文对方是否已
经收到（如图1-19所示）。因此，在本例题给出的条件下，没有一种协议可以使蓝军1和蓝
军2能够100％地确保胜利。
•35•西边蓝军东边蓝军三明日正午向臼军发起攻卢」确认尸仁才对“确认＂的确认因(“确认＂的确认）一的确认十二＞图1-19无限循环的协议这个例子告诉我们，看似非常简单的协议，设计起来要考虑的问题还是比较多的。
1.7.5TCP/IP的体系结构前面已经说过，TCP/IP的体系结构比较简单，它只有四层。图1-20给出了这种四层协议表示方法的例子。

**关键词**: 计算机网络 确认电文 无限循环 协议设计 TCP/IP体系结构


### 关键词提取 - 分块 27
主机A主机B图1-20TCP/IP四层协议的表示方法举例应当指出，技术的发展并不遵循严格的OSI分层概念。实际上现在的互联网使用的
TCP/IP体系结构有时已经演变成为图1-21所示的那样，即某些应用程序可以直接使用IP层，
或直接使用最下面的链路层[PETE12]。虽然TCP/IP协议族得到了非常广泛的应用，但对TCP/IP体系结构的批评意见也有不少。例如，这个体系结构没有清晰地阐明区分开服务、
接口和协议之间的关系，而链路层并非真正的一个层次，而仅仅是强调了IP层需要这样一
个与网络的接口。这个体系结构没有把重要的物理层和链路层的内容包含进来。
应用层TCPIUDP[P链路层（网络接口层）图1-21TCP/IP体系结构的另一种表示方法还有另一种方法用来表示TCP/IP协议族（如图1-22所示），它的特点是上下两头大而
中间小：应用层和网络接口层都有多种协议，而中间的IP层很小，上层的各种协议都向下•36•汇聚到一个IP协议中。这种很像沙漏计时器形状的TCP/IP协议族表明：
种运输层协议（虽然这里只画出了最主要的两种），而不同的运输层协议上面又可以有多种

**关键词**: 主机A 主机B TCP/IP四层协议 TCP/IP体系结构 IP层 链路层 应用层 TCPIUDP 网络接口层 物理层


### 关键词提取 - 分块 28
种运输层协议（虽然这里只画出了最主要的两种），而不同的运输层协议上面又可以有多种
应用层协议（所谓的everythingoverIP)，同时IP协议也可以在多种类型的网络上运行（所
谓的IPovereverything)。正因为如此，互联网才会发展到今天的这种全球规模。从图1-22
不难看出IP协议在互联网中的核心作用。
IP层可以支持多应用层，HII.....…

**关键词**: 计算机网络 运输层协议 应用层协议 IP协议 互联网


### 关键词提取 - 分块 29
不难看出IP协议在互联网中的核心作用。
IP层可以支持多应用层，HII.....…
-－－-－－-壬~--－-－－－－-－-－-----－－－----－－--《运输层-－7-－－－-－－会一一一一一一一＼一一一一了一一一一一一一一一一一一一----ILIL-----------------------------------------------－一一、--－－－--－－--一一_,_----------------------------网际层-------------------------数据链路层��------------s=—二图1-22沙漏计时器形状的TCP/IP协议族示意实际上，图1-22还反映出互联网的一个十分重要的设计理念，这就是网络的核心部分越简单越好，把一切复杂的部分让网络的边缘部分去实现。
【例1-2】利用协议栈的概念，说明在互联网中常用的客户－服务器工作方式。

**关键词**: IP协议 互联网 网际层 运输层 协议栈 客户-服务器工作方式


### 关键词提取 - 分块 30
【例1-2】利用协议栈的概念，说明在互联网中常用的客户－服务器工作方式。
【解】图1-23中的主机A和主机B都各有自己的协议栈。主机A中的应用进程（即客户进程）的位置在最高的应用层。这个客户进程向主机B应用层的服务器进程发出请求，请求建立连接（图中的O)。然后，主机B中的服务器进程接受A的客户进程发来的请求（图中的＠）。所有这些通信，实际上都需要使用下面各层所提供的服务。但若仅仅考虑客户进程和服务器进程的交互，则可把它们之间的交互看成是图1-23中的水平虚线所示的那样。
--0发起连接建立请求－－---－－－－－－＿＿＿＿＿＿＿＿＿＿＿---－－＿＿＿＿＿＿＿A运输层网络层数据链路层＠接受连接建立请求运输层网络层数据链路层图1-23在应用层的客户进程和服务器进程的交互图1-24画出了三台主机的协议栈。主机C的应用层中同时有两个服务器进程在通信。
服务器l在和主机A中的客户l通信，而服务器2在和主机B中的客户2通信。有的服务器进程可以同时向几百个或更多的客户进程提供服务。
•37•

**关键词**: 协议栈 客户－服务器工作方式 应用层 运输层 网络层 数据链路层 发起连接建立请求 接受连接建立请求

