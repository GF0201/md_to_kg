### 关键词提取 - 分块 1
最后还需要指出，前面所讨论的，仅仅是用户层面中数据传送的过程。在控制层面各节点之间还有非常重要的信令的传送，但这需要使用不同的协议栈。在eNB和MME之间，在MME和HSS之间，以及在两个eNB之间的信令传送，还要用到运输层的第三个协议，
即流控制传输协议SCTP(StreamControlTransmissionProtocol)。协议SCTP结合了UDP和TCP的优点，是面向报(cid:4828)的可靠传输协议[FOROIO][RFC4960,建议标准］。但我们没有篇幅在此进行介绍了。
关于LTE的简单介绍就到此为止。
在4G(cid:4873)线网络技术中，还有一个IEEE802.16标准，也就是后来的WiMAX标准。
WiMAX是WorldwideInteroperabilityforMicrowaveAccess的缩写（意思是“全球微波接入的互操作性”，缩写中的AX表示Access八但在流行了若干年后，现在市场上已经很难见到这种4G网络了。因此本书的这一版就取消有关WiMAX的介绍。

**关键词**: 计算机网络 协议栈 信令 运输层 SCTP(流控制传输协议) UDP TCP LTE IEEE802.16 WiMAX


### 关键词提取 - 分块 2
2011年3GPP的RIO（版本10)制定的LTE-Advanced,简称为LTE-A,达到了ITU-R制定的4G标准。据2016年6月的统计，全球投入商用的LTE-A网络已超过100个，分布在49个国家和地区。2015年3GPP的R13制定了LTE-APro,吞吐量超过了3Gbit/s,俗称4.5G,表示已经超过4G的水平了。
从2017年第4季度开始，3GPP又陆续发布R15/16等第5代蜂窝移动通信系统5G标准的版本（以后还会发布后续的RI7)。这些都是今后的热门技术，对此有兴趣的读者可多加关注。
9.4移动IP9.4.1移动IP的基本概念我们知道，手机的一个基本功能是能够边移动边进行通信。但计算机则不同。在计算机网络创建时，就默认了所有的计算机的位置都是固定不变的。没有人想让笨重的计算机边移动（如放置在汽车上）边进行通信。
后来，便携式的笔记本电脑出现了。现在就出现一种常见的情况。某用户在家中使用笔记本电脑上网，然后他关机并把笔记本电脑带到办公室重(cid:4844)上网。这个电脑在地理上更换

**关键词**: 移动IP 计算机网络 5G标准 LTE-A LTE-APro 蜂窝移动通信系统


### 关键词提取 - 分块 3
了位置。但用户在办公室能够很(cid:4851)便地（例如接入到办公室的Wi-Fi)通过动态主机配置协
＂
议DHCP,自动获取(cid:4844)的IP地址。虽然电脑了，更换了地点以及所接入的网络，移动”但这并不是移动IP。我们可以看出，这个用户的上网(cid:4867)式，和传统的在固定地点上网相比，并无本质上的差异。用户在不同地点上网使用了不同的IP地址，但这对用户来说并不重要，因为在很多情况下，用户并不关心他所使用的具体的IP地址是什么。
但是，如果我们需要在移动中浏览网页，那么移动站所建立的TCP连接，在移动站漫游时，应当一直保持连接，否则移动站与网站的连接就会变为(cid:4839)(cid:4838)续续的（因为建立TCP连接盂要时间，不可能瞬间就建立好）。可见，若要使移动站在移动中的TCP连接不中(cid:4837)，就必须使移动站的IP地址在移动中保持不变。移动IP(MobileIP)就是要研究这个问题。
一上节我们已经讨论了手机怎样在移动时能够保持其IP地址不变的工作原理。在计算机界，怎样使计算机在移动中仍然可以使用它在移动前所使用的IP地址，是由C.Perki

**关键词**: 动态主机配置协议 移动站 IP地址 Wi-Fi TCP连接 移动IP


### 关键词提取 - 分块 4
在1996年提出的[RFC2002]。Perkins在随后的十几年把移动IP的思路更(cid:4844)了很多，目前最
(cid:4844)的(cid:4835)档是[RFC5944,6275]，都只是建议标准。下面简单介绍下移动IP的要点。
一ns•436•移动IP使用了一种(cid:4851)法，和我们几十年前怎样联系同学的做法相似。例如，一个班级的大学生在毕业时都将同时走向各自的工作岗位。由千事先并不知道自己未来的工作单位的准确通信地址，那么怎样才能继续和这些同学保持联系呢？实际上，当时使用的办法也很简单，就是彼此都留下各自的家庭地址（即永久地址）。若要和某同学联系，只要写信到该同学的永久地址，请其家长把信件转交一下即可。在得知该同学(cid:4842)的地址后，就可使用这个(cid:4842)地址直接联系了。
移动IP使用了如图9-23给出的基本概念[KUR017]。首先，移动站A必须有一个原始地址（相当千上面提到的家庭地址），即永久地址，或归属地址(homea
s)。移动站原始连接

**关键词**: 移动IP RFC2002 RFC5944 RFC6275 移动站 归属地址


### 关键词提取 - 分块 5
s)。移动站原始连接
到的网络凡叫作归属网络(homenetwork)。永久地址和归属网络的关联是不变的。在图9-23dres，我们可以看到移动站A的永久地址是131.8.6.7/16,而其归属网络是131.8.0.0/16。
归属网络N1131.8.0.0/16被访网络N215.0.0.0/8誘笠荔慫袋｀t131.8.6.7/16｀)水久地址令。
通信者；｀图9-23永久地址与转交地址的作用为了让地址的改变对互联网的其余部分是透明的，移动IP使用了代理。归属代理(homeagent)通常就是连接在归属网络上的路由器，然而它作为代理的特定功能则是在应用层完成的。归属代理既是路由器，也是主机。
当移动站A移动到另一个地点，所接入的网络沁称为被访网络(vi网络(foreignnetwork)。被访网络中使用的代理叫作外地代理(foreignsitednetwork)或外地

**关键词**: 移动站 归属网络 homenetwork 永久地址 归属网络关联 图9-23dres 移动IP 代理 归属代理 homeagent 路由器 应用层 移动站A 被访网络 vi网络 foreignnetwork 外地代理 foreignsite


### 关键词提取 - 分块 6
agent)，它通常就是连接在被访网络上的路由器（当然也充当主机）。假定移动站A到达的网络是被访网络15.0.0.0/8。外地代理的一个任务就是要为移动站A创建一个临时地址，叫作转交地址(care­ofdress)。转交地址的网络号显然必须和被访网络一致。我们假定现在A的转交地址是15.5.6.7/8。外地代理的另一一
请注意两点：第个功能就是及时把移动站A的转交地址通知A的归属代理。
，转交地址是供移动站、归属代理以及外地代理使用的，各种应用程序都不使用这种转交地址；第二，转交地址在互联网中并不具有唯一性。这就是说，外地代理可以给好几个移动站指派同样的转交地址，甚至把自己的IP地址指派为移动站的转交地址。这样做并不会引起混乱。这是因为当外地代理要向连接在被访网络上的移动站发送数据报时，并不会像通常那样使用地址解析协议ARP,而是直接使用这个移动站的MAC地址（当移动站首次和外地代理通信时，外地代理就记录下这个移动站的MAC地址）。
有时，移动站本身也可以充当外地代理，即移动站和外地代理是同转交地址叫作同址转交地址(co-locatedcare-ofdres个设备。这时的

**关键词**: 路由器 被访网络 移动站 外地代理 转交地址 MAC地址 归属代理 ARP 同址转交地址


### 关键词提取 - 分块 7
s)。但是，要这样做，移动站必须能够一接收发送到转交地址的数据报。使用同址转交地址的好处是移动站可以移动到任何网络，而不必担心外地代理的可用性。但缺点是移动站需要有额外的软件，使之能够充当自己的外地代理。
•437•d
中
a
d
a
d
一下面看个例子。假定在图9-23中，通信者B要和移动站A进行通信。B并不知道A在什么地(cid:4868)。但B可以使用A的永久地址作为发送的IP(cid:4814)据报中的目的地址。图中画出了四个重要步骤：0B发送给A的数据报的目的地址是：131.8.6.7。此数据报被A的归属代理截获了（只有当A离开归属网络时，归属代理才能截获发给A的数据报）。
＠由千归属代理已经知道了A的转交地址（后面要讲到），因此归屈代理把B发来的
15.5.6.7,就是A现在的转交地址。
(cid:4815)据报进行再封装，(cid:4842)的数据报的目的地址是：(cid:4842)封装的数据报发送到被访网络的外地代理。这里使用的就是以前4.5.3节或4.8.1
节讲过的隧道技术或IP-in-IP。

**关键词**: 移动站 转交地址 外地代理 同址转交地址 归属代理 数据报 IP-in-IP隧道技术


### 关键词提取 - 分块 8
节讲过的隧道技术或IP-in-IP。
＠被访网络中的外地代理把收到的封装的(cid:4816)据报进行拆封，取出B发送的原始数据报，然后转发给移动站A。这个数据报的目的地址是：131.8.6.7,就是A的永久地址。A收到B发送的原始数据报后，也得到了B的IP地址。
O如果现在A要向B发送数据报，那么情况就比较简单。A仍然使用自己的永久地址作为数据报的源地址，用B的IP地址作为(cid:4809)据报的目的地址。这个数据报显然没有必要在通过A的归属代理进行转发了。
从以上所述可以看出，为了支持移动性，在网络层应当增加以下的一些(cid:4847)功能。
(1)移动站到外地代理的协议。当移动站接入到被访网络时，必须向外地代理进行登记，一以获得个临时的转交地址。同样地，当移动站离开该被访网络时，它要向这个被访网络注销其原来的登记。
(2)外地代理到归属代理的登记协议。外地代理要向移动站的归属代理登记移动站的转交地址。当移动站离开被访网络时，外地代理并不需要注销其在归属代理登记的转交地址。

**关键词**: 隧道技术 IP-in-IP 数据报 永久地址 归属代理 外地代理 移动站 网络层 协议 登记 转交地址


### 关键词提取 - 分块 9
这是因为当移动站接入到另个网络时，这个(cid:4842)的被访网络的外地代理就会到移动站的归属一代理登记该移动站现在的转交地址，这样就取代了原来旧的转交地址。
(3)归属代理数据报封装协议。归屈代理收到发送给移动站的数据报后，将其再封装为一个(cid:4850)的数据报，其目的地址为移动站的转交地址，然后转发。
(4)外地代理拆封协议。外地代理收到归属代理封装好的数据报后，取出原始数据报，并将此数据报发送给移动站。
像图9-23所示的数据报转发过程，又称为间接路由选择。这是因为源站并不知道移动站的当前地址，而是把(cid:4802)据报发往移动站的归属网络，以后的寻址工作都由归属代理来完成。
现在讨论移动站继续向其他网络移动时所发生的情况。
图9-23中移动站A原先所接入的网络是N1,而现在A要从N1移动到另一个被访网络N2去。当A移动到旯时，就向沁的外地代理登记，凡的外地代理把A在N2中的转交地址告诉A的归属代理。此后，归属代理就会把收到的发送给A的数据报再封装后转发到N2的外地代理。我们注意到，在A的这次移动前后，数据报都是由相同的归属代理转发的。

**关键词**: 移动站 归属网络 外地代理 转交地址 归属代理数据报封装协议 外地代理拆封协议 间接路由选择 被访网络 数据报转发过程


### 关键词提取 - 分块 10
原先转发到N1,后来转发到N沪如图9-23所示的这种间接路由选择，可能会引起数据报转发的低效，(cid:4825)献中称之为三角形路由选择问题(triangleroutingproblem)。意思是，本来在B和A之间可能有一条更有效的路由，但现在要走另外两条路：先要把数据报从B发送到A的归属代理，然后再转发给漫游到被访网络的A。设想一个极端的例子。如果B所在的网络就是A到达的被访网络。
在这种情况下，B发送数据报给A就是在同一个网络上非常简便的直接交付，根本不需要•438•使用路由器。但由千B并不知道A的位置，因此只好让发送给A的数据报两次穿越广域网，既浪费了时间，也增加了网上不必要的通信量。
解决这个问题的一种(cid:4851)法是使用直接路由选择，但这是以增加复杂性为代价的。这种(cid:4851)法就是让通信者B创建一个通信者代理(correspondentagent)，让这个通信者代理向归属代理询问到移动站在被访网络的转交地址，然后由通信者代理（而不是由归属代理）把数据报用隧道技术发送到被访网络的外地代理，最后再由这个外地代理拆封，把数据报转发给移动站。

**关键词**: 间接路由选择 三角形路由选择问题 归属代理 漫游 被访网络 通信者代理 外地代理 隧道技术


### 关键词提取 - 分块 11
使用这种(cid:4853)法时必须解决以下两个问题：(1)增加一个协议，即移动用户定位协议(mobile-userlocationprotocol)，用来使通信者代理向移动站的归属代理查询移动站的转交地址。
(2)当移动站再移动到其他网络时，怎样得到移动站的位置信息？关于这个问题，我们可以用图9-24所示的几个重要步骤来说明。
归屈网络斜粒广域网。
通信者；t亡`-，上·一．一被lJj网络NI郊蕊缭森蕊森蜘恣啖？哆乐＾｀｀｀
丁e了－铀外地代：？
。被访网络N;＼立＠＠代珅
迪估者图9-24使用直接路由选择向移动站发送数据报新外地代理。
B的通信者代理从移动站A的归属代理得到A所漫游到的被访网络N1的外地代理。
我们把移动站首次漫游到的被访网络的外地代理称为描外地代理(anchorforeign
agent)。
@＠
oooo通信者代理把B发给A的(cid:4817)据报再封装后，发送到A的铀外地代理。
铀外地代理把拆封后的(cid:4809)据报发送给A。
A移动到另个被访网络N沪一A向被访网络沁的(cid:4844)外地代理登记。

**关键词**: 移动用户定位协议 归属代理 转交地址 移动站 网络 外地代理 锚定外地代理 数据报


### 关键词提取 - 分块 12
A移动到另个被访网络N沪一A向被访网络沁的(cid:4844)外地代理登记。
(cid:4842)外地代理把A的(cid:4847)转交地址告诉铀外地代理。
当描外地代理收到发给A的封装数据报后，就用A的(cid:4844)转交地址对数据报进行再
封装，然后发送给被访网络N2上的(cid:4844)外地代理。在拆封后转发给移动站A。
同理，如果移动站再漫游到另一个网络，则这个网络的外地代理将仍然要和铀外地代理联系，以便让铀外地代理以后把发给A的数据报转发过来。
上面所讨论的许多问题，都是由移动站在移动时仍然要保持原来的IP地址（永久地址）引起的。我们在(cid:4826)献中常会见到移动性管理(mobilitymanagement)这样的术语，这是指上述的这些(cid:4842)增加的措(cid:4870)和协议。但有时大家更愿使用移动管理这样更加简洁的译名。移动性管理涉及的面比以上所讨论的问题还要宽些，例如，安全问题也是必须要解决的。绝对不能容•439•许不法分子把别人发送给A的数据报，转发到被暗中设定的某个伪造的外地代理。

**关键词**: 移动站 移动网络 IP地址 永久地址 外地代理 封装数据报 移动性管理 协议 安全问题


### 关键词提取 - 分块 13
移动lP的实现会遇到很多具体问题。我们知道，上述的移动IP的基本假定就是移动站首先必须有一个永久IP地址。但哪个运营商会给你的移动设备指派一个永久IP地址呢？至少在目前这个问题在实践中尚未得到解决。限千篇幅，这里不再继续进行讨论了。
9.4.2移动网络对高层协议的影响前面讲过的无线网络在移动站漫游时，会经常更换移动用户到(cid:4874)线网络的连接点（即到移动站相关联的基站）。这样，网络的连接就会发生很短时间的中(cid:4837)。那么，这种情况对高层协议有没有影响呢？现在我们简单讨论一下这个问题。

**关键词**: 移动IP 永久IP地址 运营商 移动设备 无线网络 移动用户 基站 高层协议 漫游 连接点 中断


### 关键词提取 - 分块 14
我们知道，在TCP连接中，只要发生报(cid:4825)段的丢失或出错，TCP就要重传这个丢失或出错的报(cid:4825)段。在移动用户的情况下，TCP报(cid:4825)段的丢失，既可能是由于移动用户切换引起的，也可能是由千网络发生了拥塞。由千移动用户更(cid:4842)相关联的基站需要一定的时间（即不可能在(cid:4802)学上的瞬间完成），这就可能造成TCP报(cid:4825)段的丢失。但TCP并不知道现在出现的分组丢失的确切原因。只要出现TCP报(cid:4825)段频繁丢失，TCP的拥塞控制就会采取措(cid:4870)，减小其拥塞窗口，从而使TCP发送(cid:4851)的报(cid:4825)段发送速率降低。这种措(cid:4870)显然是默认了报(cid:4825)段丢失是由网络拥塞造成的。可见，当(cid:4874)线信道出现严重的比特差错，或由千切换产生了报(cid:4828)段丢失，减小TCP发送(cid:4851)的拥塞窗口对改善网络性能并不会有任何好处。
经过研究，发现可以使用三种(cid:4869)法来处理这个问题。

**关键词**: TCP 报段 拥塞控制 拥塞窗口 移动用户 基站 比特差错 切换


### 关键词提取 - 分块 15
经过研究，发现可以使用三种(cid:4869)法来处理这个问题。
(l)本地恢复。这是指差错在什么地(cid:4851)出现，就在什么地(cid:4851)改正。例如，在(cid:4874)线局域网中使用的自动请求重传ARQ协议就屈于本地恢复措(cid:4870)。
(2)让TCP发送(cid:4865)知道什么地(cid:4865)使用了(cid:4881)线链路。只有当TCP能够确知，是有线网络部分发生了拥塞时，TCP才采用拥塞控制的策略。然而要能够区分是在有线网段还是(cid:4874)线网段出现报(cid:4836)段丢失，还需要一些特殊的技术。

**关键词**: 计算机网络 局域网 自动请求重传ARQ协议 本地恢复 拥塞控制 有线网络 链路 报段丢失


### 关键词提取 - 分块 16
(3)把含有移动用户的端到端TCP连接拆成两个互相串接的TCP连接。从移动用户到(cid:4877)线接入点是一个TCP连接（这部分使用(cid:4877)线信道），而剩下的使用有线网段连接的部分则一是另个TCP连接（我们假定TCP连接的另一端是有线主机）。已经有人研究过，采用拆分TCP连接的(cid:4851)法，在使用(cid:4874)线信道的TCP连接上，既可以使用标准的TCP协议，也可以使用有选择确认的TCP协议，甚至还可以使用专用的、有差错恢复的UDP协议。在蜂窝(cid:4874)线通信网中实验的结果表明，采用拆分TCP连接的(cid:4851)法可以使(cid:4821)个性能得到明显的改进。
9.5移动通信的展望前面我们已经介绍了移动通信与计算机网络关系较密切的若干问题。为便千记忆，蜂窝移动通信从lG到4G的发展规律，可以认为大约是十年更(cid:4842)代。从最初的lG（模拟电一话），发展到2G（(cid:4802)字电话），然后演进到具有较强数据传输能力的3G,再到可支持高质量

**关键词**: 端到端TCP连接 移动用户 TCP连接 有线网段连接 cid:4877线接入点 cid:4877线信道 cid:4874线信道 标准的TCP协议 有选择确认的TCP协议 专用的, 有差错恢复的UDP协议 拆分TCP连接的方法 蜂窝cid:4874线通信网 性能改进 lG 2G 3G 4G


### 关键词提取 - 分块 17
音频和视频传输和高速率移动互联网业务的4G（全IP网）。现在又发展到了第五代蜂窝移动通信5G,甚至连5.5G或6G也相继被提出了。在我国，工信部已于2019年10月31日宣布5G的商用正式启动。下面简要地介绍一下5G的要点。
从JG到2G,通信主要局限在人与人之间的通信。到了3G和4G时代，智能手机不仅能够提供人与人之间通信，而且还发展到可以提供多人参加的视频聊天。此外，还增加了人•440•

**关键词**: 4G 5G 6G

