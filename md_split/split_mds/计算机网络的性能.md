### 分块 1
1.6计算机网络的性能计算机网络的性能一般是指它的几个重要的性能指标。但除了这些重
要的性能指标，还有一些非性能特征（nonperfom诅neecharacteristics)也对计算机网络的性能有很大的影响。本节将讨论这两个方面的问题。
1.6.1计算机网络的性能指标扫一扫髻视频讲解性能指标从不同的方面来度量计算机网络的性能。下面介绍常用的7个性能指标。
1.速率一个二进制数字我们知道，计算机发送的信号都是数字形式的。比特(bit)来源千binarydigit,意思是
“
，因此一个比特就是二进制数字中的一个1或0。比特也是信息论中使
用的信息量的单位。网络技术中的速率指的是数据的传送速率，它也称为数据率(datarate)
或比特率(bitrate)。速率是计算机网络中最重要的一个性能指标。速率的单位是bit/s（比特“每秒）
（或b/s,有时也写为bps,即bitpersecond)。当数据率较高时，就常常在bit/s的前
面加上一个字母。例如，k(kilo)=103=千，M(Mega)=106=兆，G(Giga)=109=吉，T

### 分块 2
(Tera)=1012=太，P(Peta)=1015=拍，E(Exa)=1018=艾，Z(Zetta)=1021=泽，Y(Yotta)
=1024=尧°。这样，4x1010bit/s的数据率就记为40Gbit/s。现在人们在谈到网络速率时，
常省略速率单位中应有的bit/s,而使用不太正确的说法，如
。另外要注意的“40G的速率”是，当提到网络的速率时，往往指的是额定速率或标称速率，而并非网络实际上运行的速率。
2.带宽”(bandwidth)有以下两种不同的意义：“带宽
(1)带宽本来是指某个信号具有的频带宽度。信号的带宽是指该信号所包含的各种不同频率成分所占据的频率范围。例如，在传统的通信线路上传送的电话信号的标准带宽是3.1
kHz（从300Hz到3.4kHz,即话音的主要成分的频率范围）。这种意义的带宽的单位是赫
（或千赫、兆赫、吉赫等）。在过去很长的一段时间，通信的主干线路传送的是模拟信号（即连续变化的信号）。因此，表示某信道允许通过的信号频带范围就称为该信道的带宽（或通频带）。

### 分块 3
(2)在计算机网络中，带宽用来表示网络中某通道传送数据的能力，因此网络带宽表示在单位时间内网络中的某信道所能通过的“最高数据率”。在本书中提到“带宽”时，主要是指这个意思。这种意义的带宽的单位就是数据率的单位bit/s,是“比特每秒"。
，拍＝p=250'艾＝E=260,泽＝z=270印注：在计算机领域，数的计算使用二进制。因此习惯上，千＝K=i1°=1024,兆＝M=220,吉＝G=230,太＝T=
，尧＝y=280。此外，计算机中的数据量往往用字节B作为度掀的单位(B代表
X8b仆，而不是15x109x8bit。但10Gbit/s的速率则表示l0x
bit/s。在计算机领域中，所有的这些单位都使用大写字母，但在通信领域中，只有“1000"使用小写“k",其余的也都用大240
byte)。通常1B=8bit。例如，
109
写。请注意，也有的书不这样严格区分，大写K既可表示1000,又可表示1024,因此这时要特别小心，不要弄错。

### 分块 4
15GB数据块的大小是15X230•21•在“带宽＂的上述两种表述中，前者为频域称谓，而后者为时域称谓，其本质是相同的。也就是说，一条通信链路的“带宽＂越宽，其所能传输的“最高数据率”也越高。
3.吞吐量吞吐量(throughput)表示在单位时间内通过某个网络（或信道、接口）的实际数据量。
吞吐量更经常地用千对现实世界中的网络的一种测量，以便知道实际上到底有多少数据量能
够通过网络。显然，吞吐量受网络带宽或网络额定速率的限制。例如，对于一个IGbit/s的以太网，就是说其额定速率是1Gbit/s,那么这个数值也是该以太网的吞吐量的绝对上限值。
因此，对1Gbit/s的以太网，其实际的吞吐量可能只有100Mbit/s,甚至更低，并没有达到其额定速率。请注意，有时吞吐量还可用每秒传送的字节数或帧数来表示。

### 分块 5
接入到互联网的主机的实际吞吐量，取决于互联网的具体情况。假定主机A和服务器B接入到互联网的链路速率分别是100Mbit/s和1Gbit/s。如果互联网的各链路的容量都足够大，那么当A和B交换数据时，其吞吐量显然应当是100Mbit/s。这是因为，尽管服务器B能够以超过100Mbit/s的速率发送数据，但主机A最高只能以100Mbit/s的速率接收数据。
现在假定有100个用户同时连接到服务器B（例如，同时观看服务器B发送的视频节目）。
在这种情况下，服务器B连接到互联网的链路容量被100个用户平分，每个用户平均只能分到10Mbit/s的带宽。这时，主机A连接到服务器B的吞吐量就只有10Mbit/s了。
最糟糕的情况就是如果互联网的某处发生了严重的拥塞，则可能导致主机A暂时收不到服务器发来的视频数据，因而使主机A的吞吐量下降到零！主机A的用户或许会想，我已经向运营商的ISP交了速率为100Mbit/s的宽带接入费用，怎么现在不能保证这个速率呢？
其实你交的宽带费用，只是保证了从你家里到运营商ISP的某个路由器之间的数据传输速率。

### 分块 6
其实你交的宽带费用，只是保证了从你家里到运营商ISP的某个路由器之间的数据传输速率。
再往后的速率就取决于整个互联网的流量分布了，这是任何单个用户都无法控制的。了解这一点，对理解互联网的吞吐量是有帮助的。
4时延时延(delay或latency)是指数据（一个报文或分组，甚至比特）从网络（或链路）的一端传送到另一端所需的时间。时延是个很重要的性能指标，它有时也称为延迟或迟延。
需要注意的是，网络中的时延是由以下几个不同的部分组成的：(1)发送时延发送时延(transmissiondelay)是主机或路由器发送数据帧所需要的时间，
也就是从发送数据帧的第一个比特算起，到该帧的最后一个比特发送完毕所需的时间。因此
发送时延也叫作传输时延（我们尽量不采用传输时延这个名词，因为它很容易和下面要讲到的传播时延弄混）。发送时延的计算公式是：发送时延＝数据帧长度(bit)
发送速率(bit/s)(1-1)由此可见，对于一定的网络，发送时延并非固定不变，而是与发送的帧长（单位是比特）成正比，与发送速率成反比。

### 分块 7
(2)传播时延传播时延(propagationdelay)是电磁波在信道中传播一定的距离需要花•22•费的时间。传播时延的计算公式是：传播时延＝信道长度(m)
电磁波在信道上的传播吏率(m/s)(1-2)电磁波在自由空间的传播速率是光速，即3.0X传播速率比在自由空间要略低一些：在铜线电缆中的传播速率约为2.3X
中的传播速率约为2.0X105km/s。例如，105k皿s。电磁波在网络传输媒体中的
105k而S,在光纤
1000km长的光纤线路产生的传播时延大约为5ms。
以上两种时延有本质上的不同。但只要理解这两种时延发生的地方就不会把它们弄混。
发送时延发生在机器内部的发送器中（一般就是发生在网络适配器中，见第3章3.3.1节），
与传输信道的长度（或信号传送的距离）没有任何关系。但传播时延则发生在机器外部的传输信道媒体上，而与信号的发送速率无关。信号传送的距离越远，传播时延就越大。可以用
一个简单的比喻来说明。假定有10辆车按顺序从公路收费站入口出发到相距50公里的目的
地。再假定每一辆车过收费站要花费6秒，而车速是每小时100公里。现在可以算出这10

### 分块 8
地。再假定每一辆车过收费站要花费6秒，而车速是每小时100公里。现在可以算出这10
辆车从收费站到目的地总共要花费的时间：发车时间共需60秒（相当于网络中的发送时延），
在公路上的行车时间需要30分钟（相当千网络中的传播时延）。因此从第一辆车到收费站开
始计算，到最后一辆车到达目的地为止，总共花费的时间是二者之和，即31分钟。
下面还有两种时延也需要考虑，但比较容易理解。
(3)处理时延主机或路由器在收到分组时要花费一定的时间进行处理，例如分析分组的首部、从分组中提取数据部分、进行差错检验或查找转发表等，这就产生了处理时延。
(4)排队时延分组在经过网络传输时，要经过许多路由器。但分组在进入路由器后要先在输入队列中排队等待处理。在路由器确定了转发接口后，还要在输出队列中排队等待转发。这就产生了排队时延。排队时延的长短往往取决千网络当时的通信量。当网络的通信量很大时会发生队列溢出，使分组丢失，这相当千排队时延为无穷大。

### 分块 9
这样，数据在网络中经历的总时延就是以上四种时延之和：总时延＝发送时延＋传播时延＋处理时延＋排队时延(1-3)一般说来，小时延的网络要优于大时延的网络。在某些情况下，一个低速率、小时延的网络很可能要优于一个高速率但大时延的网络。
图1-12画出了这几种时延所产生的地方，希望读者能够更好地分清这几种时延。
在这里产生发送时延（即传输时延）在这里产生处理时延和排队时延-------/"if--在这里产生传播时延节点A发送器链路节点B图1-12几种时延产生的地方不一样必须指出，在总时延中，究竟是哪一种时延占主导地位，必须具体分析。下面举个例子。
•23•现在我们暂时忽略处理时延和排队时延°。假定有一个长度为100MB的数据块（这里
1字节＝8比特）。在带宽为1Mbit/s的信道上的M显然不是指106而是指2
（这里的M显然是10勺连续发送（即发送速率为1Mbit/s)，其发送时延是20。B是字节，100X220X8-;-106=838.9S现在把这个数据块用光纤传送到1000km远的计算机。由于在1000km的光纤上的传

### 分块 10
播时延约为5ms,因此在这种情况下，发送100MB的数据块的总时延＝838.9+0.005:::::
838.9s。可见对千这种情况，发送时延决定了总时延的数值。
如果我们把发送速率提高到100倍，即提高到100Mbit/s,那么总时延就变为8.3890.005=8.394S,缩小到原有数值的1/100。
但是，并非在任何情况下，提高发送速率就能减小总时延。例如，要传送的数据仅有1个字节（如键盘上键入的一个字符，共8bit)。当发送速率为1Mbit/s时，发送时延是8-;-106=8X10—6s=8µs若传播时延仍为5ms,则总时延为5.008ms。在这种情况下，传播时延决定了总时延。
如果我们把数据率提高到1000倍（即将数据的发送速率提高到lGbit/s)，不难算出，总时
延基本上仍是5ms,并没有明显减小。这个例子告诉我们，不能笼统地认为：“数据的发送
速率越高，其传送的总时延就越小＂。这是因为数据传送的总时延是由公式(1-3)右端的四项
时延组成的，不能仅考虑发送时延一项。
如果上述概念没有弄清楚，就很容易产生这样错误的概念：“在高速链路（或高带宽链
“

### 分块 11
如果上述概念没有弄清楚，就很容易产生这样错误的概念：“在高速链路（或高带宽链
“
。但这是不对的。我们知道，汽车在路面质量很好的高速公
路）上，比特会传送得更快些
路上可明显地提高行驶速率。然而对千高速网络链路，我们提高的仅仅是数据的发送速率而
不是比特在链路上的传播速率。荷载信息的电磁波在通信线路上的传播速率（这是光速的数
量级）取决于通信线路的介质材料，而与数据的发送速率并无关系。提高数据的发送速率只
是减小了数据的发送时延。还有一点也应当注意，就是数据的发送速率的单位是每秒发送多
少个比特，这是指在某个点或某个接口上的发送速率。而传播速率的单位是每秒传播多少公
里，是指在某一段传输线路上比特的传播速率。因此，通常所说的“
是指可以用很高的速率向光纤信道发送数据，而光纤信道的传播速率实际上还要比铜线的传
播速率略低一点。这是因为经过测量得知，光在光纤中的传播速率约为每秒20.5万公里，
它比电磁波在铜线（如5类线）中的传播速率（每秒23.1万公里）略低一些。
光纤信道的传输速率高”上述的重要概念请读者务必弄清。

### 分块 12
光纤信道的传输速率高”上述的重要概念请读者务必弄清。
5.时延带宽积把以上讨论的网络性能的两个度量传播时延和带宽相乘，就得到另一个很有用的度量：传播时延带宽积，即时延带宽积＝传播时延x带宽(1-4)O注：当计算机网络中的通信榄过大时，网络中的许多路由器的处理时延和排队时延将会大大增加，因而处理时延和排队时延有可能在总时延中占据主要成分。这时整个网络的性能就变差了。
•24•我们可以用图1-13的示意图来表示时延带宽积。这是一个代表链路的圆柱形管道，管
道的长度是链路的传播时延（请注意，现在以时间作为单位来表示链路长度），而管道的截
面积是链路的带宽。因此时延带宽积就表示这个管道的体积，表示这样的链路可容纳多少个
比特。例如，设某段链路的传播时延为20ms,带宽为10Mbit/s,算出时延带宽积＝20X10—3X10X106=2X105bit这就表明，若发送端连续发送数据，则在发送的第一个比特即将到达终点时，发送端
就已经发送了20万个比特，而这20万个比特都正在链路上向前移动。因此，链路的时延带
宽积又称为以比特为单位的链路长度。

### 分块 13
宽积又称为以比特为单位的链路长度。
，（传播）时延，带宽图1-13链路像一条空心管道不难看出，管道中的比特数表示从发送端发出但尚未到达接收端的比特数。对于一条正在传送数据的链路，只有在代表链路的管道都充满比特时，链路才得到最充分的利用。
6.往返时间RTT在计算机网络中，往返时间RTT(Round-TripTime)也是一个重要的性能指标。这是因为
在许多情况下，互联网上的信息不仅仅单方向传输而是双向交互的。因此，我们有时很需要
知道双向交互一次所需的时间。例如，A向B发送数据。如果数据长度是100MB,发送速
率是100Mbit/s,那么发送时门日＝数据长度1oox220xs
发送速率1oox106：：：：：：8.39s假定B正确收完100MB的数据后，就立即向A发送确认。再假定A只有在收到B的
确认信息后，才能继续向B发送数据。显然，这就要等待一个往返时间RTT（这里假定确
认信息很短，可忽略B发送确认的发送时延）。如果RTT=2s,那么可以算出A向B发送
数据的有效数据率。

### 分块 14
数据的有效数据率。
有效数据率＝数据长度1oox220x8发送时间＋RTT8.39+2：：：：：：80.7xIoubit尽：：：：：：80.7Mbit/s比原来的数据率100Mbit/s小不少。
在互联网中，往返时间还包括各中间节点的处理时延、排队时延以及转发数据时的发送时延。当使用卫星通信时，往返时间RTT相对较长，是很重要的一个性能指标。
顺便指出，在计算机网络的文献中，也有把RTT称为往返时延(Round-TripTimedelay)的，强调发送方至少要经过这样多的时间，才能知道自己所发送的数据是否被对方接收了。
还有的文献把带宽时延积定义为带宽与RTT的乘积。这样定义的数值就比前面(1-4)式定义
的数值大了一倍。这样定义的带宽时延积表示，如果发送方以最高发送速率连续发送数据，
而接收方一收到数据就立即发送对收到数据的确认，那么发送方在收到这个确认时，已经发
送出的数据量就是按这种定义的带宽时延积。

### 分块 15
送出的数据量就是按这种定义的带宽时延积。
•25•7.利用率利用率有信道利用率和网络利用率两种。信道利用率指出某信道有百分之几的时间是被利用的（有数据通过）。完全空闲的信道的利用率是零。网络利用率则是全网络的信道利用率的加权平均值。信道利用率并非越高越好。这是因为，根据排队论的理论，当某信道的利用率增大时，该信道引起的时延也就迅速增加。这和高速公路的情况有些相似。当高速公路上的车流量很大时，由千在公路上的某些地方会出现堵塞，因此行车所需的时间就会变长。
网络也有类似的情况。当网络的通信量很少时，网络产生的时延并不大。但在网络通信量不断增大的情况下，由千分组在网络节点（路由器或节点交换机）进行处理时需要排队等候，因此网络引起的时延就会增大。如果令D。表示网络空闲时的时延，D表示网络当前的时延（设现在的网络利用率为U)，那么在适当的假定条件下，可以用下面的简单公式(1-5)来表示D与D。以及利用率U之间的关系：D=D。

### 分块 16
l-U(1-5)这里U是网络利用率，数值在0到1之间。当网络利用率达到其容量的1/2时，时延就要加倍。特别值得注意的就是：当网络利用率接近最大值1时，网络产生的时延就趋千无穷大。因此我们必须有这样的概念：信道利用率或网络利用率过高就会产生非常大的时延。
图1-14给出了上述概念的示意图。因此，一些拥有较大主干网的ISP通常控制信道利用率不超过50%。如果超过了就要准备扩容，增大线路的带宽。
时延D。
D。
利用率U图1-14时延与利用率的关系1.6.2计算机网络的非性能特征计算机网络还有一些非性能特征也很重要。这些非性能特征与前面介绍的性能指标有很大的关系。下面简单地加以介绍。
1.费用网络的价格（包括设计和实现的费用）总是必须考虑的，因为网络的性能与其价格密切相关。一般说来，网络的速率越高，其价格也越高。
2.质量网络的质量取决于网络中所有构件的质量，以及这些构件是怎样组成网络的。网络的
质量影响到很多方面，如网络的可靠性、网络管理的简易性，以及网络的一些性能。但网络

### 分块 17
质量影响到很多方面，如网络的可靠性、网络管理的简易性，以及网络的一些性能。但网络
的性能与网络的质量并不是一回事。例如，有些性能一般的网络，运行一段时间后就出现了•26•故障，变得无法再继续工作，说明其质量不好。高质量的网络往往价格也较高。
3.标准化网络的硬件和软件的设计既可以按照通用的国际标准，也可以遵循特定的专用网络标准。最好采用国际标准的设计，这样可以得到更好的互操作性，更易千升级换代和维修，也更容易得到技术上的支持。
4.可靠性可靠性与网络的质量和性能都有密切关系。高速网络的可靠性不一定很差。但高速网络要可靠地运行，则往往更加困难，同时所需的费用也会较高。
5.可扩展性和可升级性在构造网络时就应当考虑到今后可能会需要扩展（即规模扩大）和升级（即性能和版本的提高）。网络的性能越好，其扩展费用往往也越高，难度也会相应增加。
6.易千管理和维护网络如果没有良好的管理和维护，就很难达到和保持所设计的性能。
1.7计算机网络体系结构在计算机网络的基本概念中，分层次的体系结构（或架构）是最基本的。计算机网络体系结构的抽象概念较多，在学习时要多思考。这些概念对后面的学习很有帮助。

### 分块 18
1.7.1计算机网络体系结构的形成计算机网络是个非常复杂的系统。为了说明这一点，可以设想一种最简单的情况：连接在网络上的两台计算机要互相传送文件。
显然，在这两台计算机之间必须有一条传送数据的通路。但这还远远不够。至少还有以下几项工作需要去完成：(1)发起通信的计算机必须将数据通信的通路激活(activate)。所谓“激活”就是要发出一些信令，保证要传送的计算机数据能在这条通路上正确发送和接收。
(2)告诉网络如何识别接收数据的计算机。
(3)发起通信的计算机必须查明对方计算机是否已开机，并且与网络连接正常。
(4)发起通信的计算机中的应用程序必须弄清楚，在对方计算机中的文件管理程序是否己做好接收文件和存储文件的准备工作。
(5)若计算机的文件格式不兼容，则至少其中一台计算机应完成格式转换功能。
(6)对出现的各种差错和意外事故，如数据传送错误、重复或丢失，网络中某个节点交换机出现故障等，应当有可靠的措施保证对方计算机最终能够收到正确的文件。
还可以列举一些要做的其他工作。由此可见，相互通信的两个计算机系统必须高度协

### 分块 19
还可以列举一些要做的其他工作。由此可见，相互通信的两个计算机系统必须高度协
是相当复杂的。为了设计这样复杂的计算机网络，早在最初的调工作才行，而这种协调“”ARPANET设计时即提出了分层的方法。
“”分层可将庞大而复杂的问题，转化为若干较小•27•

