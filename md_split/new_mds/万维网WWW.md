TELNET就可在其所在地通过TCP连接注册（即登录）到远地的另一台主机上（使用主机
名或IP地址）。TELNET(cid:7142)将用户的击键传到远地主机，同时也(cid:7126)将远地主机的输出通过TCP连接返回到用户屏幕。这种服务是透明的，因为用户感觉到好像键盘和显示器是直接连在远地主机上的。因此，TELNET又称为终端仿真协议。
TELNET并不复杂，以前应用得很多。现在由千计算机的功(cid:7126)越来越强，用户已较少使用TELNET了，可作为历史资料了解一下即可。
TELNET也使用客户服务器方式。在本地系统运行TELNET客户进程，而在远地主机则运行TELNET服务器进程。和FTP的情况相似，服务器中的主进程等待新的请求，并产
生从属进程来处理每一个连接。
TELNET(cid:7126)够适应许多计算机和操作系统的差异。例如，对于文本中一行的结束，有
的系统使用ASCII码的回车(CR)，有的系统使用换行(LF)，还有的系统使用两个字符，回车
换行(CR-LF)。又如，在中断一个程序时，许多系统使用Control-C(/\C)，但也有系统使用
ESC按键。为了适应这种差异，TELNET定义了数据和命令应怎样通过互(cid:7110)网。这些定义
就是所谓的网络虚拟终端NVT(NetworkVirtualTerminal)。图6-6说明了NVT的意义。客户
软件把用户的击键和命令转换成NVT格式，并送交服务器。服务器软件把收到的数据和命令从NVT格式转换成远地系统所需的格式。向用户返回数据时，服务器把远地系统的格式转换为NVT格式，本地客户再从NVT格式转换到本地系统所需的格式。
TELNET
客户端互联网TELNET
服务器端使用客户端的格式使用NVT格式使用服务器端的格式图6-6TELNET使用网络虚拟终端NVT格式NVT的格式定义很简单。所有的通信都使用8位一个字(cid:7188)。在运转时，NVT使用7位
ASCII码传送数据，而当高位置1时用作控制命令。ASCII码共有95个可打印字符（如字母、数字、标点符号）和33个控制字符。所有可打印字符在NVT中的意义和在ASCII码
中一样。但NVT只使用了ASCII码的控制字符中的几个。此外，NVT还定义了两字符的
CR-LF为标准的行结束控制符。当用户键入回车按键时，TELNET的客户就把它转换为CR-LF再进行传输，(cid:7104)TELNET服务器要把CR-LF转换为远地机器的行结束字符。
TELNET的选项协商(OptionNegotiation)使TELNET客户和TELNET服务器可商定使用更多的终端功(cid:7126)，协商的双方是平等的。
6.4万维网WWW6.4.1万维网概述万维网WWW(WorldWideWeb)是一个大规模的、(cid:7116)机式的信息储藏所，英文简称为
Web,而不是什么特殊的计算机网络。万维网用链接的方法(cid:7131)非常方便地从互(cid:7110)网上的一个
站点访问另一个站点（也就是所谓的＂链接到另一个站点
)，从而主动地按需获取丰富的信”•272•息。图6-7说明了乃维网提供分布式服务的特点。
月维网站点D万维网站点C图6-7万维网提供分布式服务图6-7画出了四个万维网上的站点，它们可以相隔数千公里，但都必须连接在互(cid:7110)网上。
每个万维网站点都存放了许多文档。在这些文档中有一些地方的文字是用特殊方式显示的
（例如用不同的颜(cid:7187)，或添加了下划线），而当我们将鼠标移动到这些地方时，鼠标的箭头
就变成了一只手的形状。这就表明这些地方有一个链接(link)（这种链接有时也称为超链
hyperlink)，如果我们在这些地方点击鼠标左键，就可从这个文档链接到可(cid:7126)相隔很远的另
一个文档。经过一定的时延（几秒钟、几分钟甚(cid:7169)更长，取决千所链接的文档的大小和网络
的拥塞情况），在我们的屏幕上就(cid:7126)将远方传送过来的文档显示出来。例如，站点A的某个文档中有两个地方有链接。点击链接0可链接到站点B的某个文档，点击＠可链接到站点C。
站点B的文档也有两个链接。点击链接＠可链接到站点D,点击链接0可链接到站点C,但站点C的这个文档已无其他的链接了。站点D的文档中有两个链接。点击©可链接到站点A,点击O可以链接到存储在本站点硬盘中的文档。
正是由千万维网的出现，使计算机的操作发生了革命性的变化。不必在键盘上输入复
杂而难以记忆的命令，而改用鼠标点击一下屏幕上的链接，这就使互(cid:7110)网从仅由少数计算机
专家使用变为普通百姓也(cid:7126)利用的信息资源。万维网的出现使网站数按指数规律增长，因而
成为互(cid:7110)网发展中的一个非常重要的里程碑。
万维网是欧洲粒子物理实验室的TimBemers-Lee最初千1989年3月提出的。1993年2月，第一个图形界面的浏览器(brows
NetscapeNavigator浏览器上市。目前流行的浏览器很多，如微软公司的InternetExplorer
（简称IE)，谷歌公司的Chrome浏览器，(cid:7148)讯公司的QQ浏览器，苹果公司的Safari浏览er)开发成功，名字叫作Mosaic。1995年著名的器，等等。
月维网是一个分布式的超媒体(hypermedia)系统，它是超文本(hypertext)系统的扩充。所
谓超文本是指包含指向其他文档的链接的文本(text)。也就是说，一个超文本由多个信息源
链接成，而这些信息源可以分布在世界各地，并且数目也是不受限制的。利用一个链接可使
用户找到远在异地的另一个文档，而这又可链接到其他的文档（依此类推）。这些文档可以
位千世界上任何一个接在互(cid:7110)网上的超文本系统中。超文本是万维网的基础。
超媒体与超文本的区别是文档内容不同。超文本文档仅包含文本信息，而超媒体文档还包含其他表示方式的信息，如图形、图像、声音、动画以及视频图像等。
分布式的和非分布式的超媒体系统有很大区别。在非分布式系统中，各种信息都驻留•273•在单个计算机的磁盘中。由千各种文档都可从本地获得，因此这些文档之间的链接可进行一
(cid:7176)性检查。所以，一个非分布式超媒体系统(cid:7127)够保证所有的链接都是有效的和一(cid:7175)的。
万维网把大鼠信息分布在整个互(cid:7113)网上。每台主机上的文档都独立进行管理。对这些文档的增加、修改、删除或重新命名都不霄要（实际上也不可(cid:7127)）通知到互(cid:7110)网上成千上万
的(cid:7188)点。这样，万维网文档之间的链接就经常会不一(cid:7175)。例如，主机A上的文档X本来包
含了一个指向主机B上的文档Y的链接。若主机B的管理员在某日删除了文档Y,那么主
机A的上述链接显然就失效了（但是B并没有责任必须通知A)。
刀维网以客户服务器方式工作。上面所说的浏览器就是在用户主机上的万维网客户程序。万维网文档所驻留的主机则运行服务器程序，因此这台主机也称为万维网服务器。客户
程序向服务器程序发出请求，服务器程序向客户程序送回客户所要的万维网文档。在一个客
户程序主窗口上显示出的万维网文档称为页面(page)。
从以上所述可以看出，万维网必须解决以下几个问题：
(1)怎样标志分布在整个互(cid:7110)网上的万维网文档？
(2)用什么样的协议来实现刀维网上的各种链接？
(3)怎样使不同作者创作的不同风格的万维网文档，都(cid:7126)在互(cid:7110)网上的各种主机上显示出来，同时使用户清楚地知道在什么地方存在着链接？
(4)怎样使用户(cid:7126)够很方便地找到所需的信息？
为了解决第一个问题，万维网使用统一资源定位符URL(UniformResourceLocator)来标
志万维网上的各种文档，并使每一个文档在整个互(cid:7110)网的范围内具有唯一的标识符URL。
为了解决上述的第二个问题，就要使万维网客户程序与万维网服务器程序之间的交互遵守严
格的协议，这就是超文本传送协议HTTP(HyperTextTransferProtocol)。HTTP是一个应用层
协议，它使用TCP连接进行可靠的传送。为了解决上述的第三个问题，万维网使用超文本
标记语言HTML(HyperTextMarkupLanguage)，使得万维网页面的设计者可以很方便地用链
接从本页面的某处链接到互(cid:7110)网上的任何一个刀维网页面，并且(cid:7126)够在(cid:7151)己的主机屏幕上将
这些页面显示出来。最后，用户可使用搜索工具在万维网上方便地查找所需的信息。
下面我们将进一步讨论上述重要概念。
6.4.2一URL统资源定位符1.URL的格式统一资源定位符URL是用来表示从互(cid:7110)网上得到的资源位置和访问这些资源的方法。
URL给资源的位置提供一种抽象的识别方法，并用这种方法给资源定位。只要(cid:7126)够对资源
定位，系统就可以对资源进行各种操作，如存取、更新、替换和查找其属性。由此可见，URL实际上就是在互(cid:7110)网上的资源的地址。只有知道了这个资源在互(cid:7110)网上的什么地方，
才(cid:7127)对它进行操作。显然，互(cid:7110)网上的所有资源，都有一个唯一确定的URL。
这里所说的“资源”是指在互(cid:7110)网上可以被访问的任何对象，包括文件目录、文件、文档、图像、声音等，以及与互(cid:7110)网相连的任何形式的数据。
URL相当于一个文件名在网络范围的扩展。因此，URL是与互(cid:7110)网相连的机器上的任
何可访问对象的一个指针。山千访问不同对象所使用的协议不同，所以URL还指出读取某
个对象时所使用的协议。URL的一(cid:7182)形式由以下四个部分组成：•274•通常省略
广协议：／／主机名：端口／路径URL最左边的协议指出使用何种协议来获取该万维网文档。现在最常用的协议就是
http（超文本传送协议HTTP)，其次是ftp（文件传送协议FTP)。在协议后面的”:／I"是规
定的格式，必须写上。
主机名是万维网文档所存放的主机的域名，通常以www开头，但这并不是硬性规定。
主机名用点分十进制的IP地址代替也是可以的。
主机名后面的＂：端口”就是端口号，但经常被省略掉。这是因为这个端口号通常就是协议的默认端口号（例如，协议HTTP的默认端口号为80)，因此就可以省略。但如不使用默认端口号，那么就必须写明现在所使用的端口号。
最后的路径可能是较长的字符串（其中还可包括若干斜线／），但有时也不需要使用。在路径后面可能还有一些选项，这里不进行介绍了。
现在有些浏览器为了方便用户，在输入URL时，可以把最前面的"http://"甚至把主机
名最前面的"www"省略，然后浏览器替用户把省略的字符添上。例如，用户只要键入
ctrip.com,浏览器就自动把未键入的字符补齐，变成http://www.ctrip.com。
下面我们简单介绍使用得最多的一种URL,即协议HTTP。
2.使用HTTP的URL使用协议HTTP的URL最常用的形式是把“：端口“省略：http:／／主机名／路径若再将URL中的路径省略，则URL就指明互联网上的某个主页(homepage)。主页是个很重要的概念，它可以是以下几种情况之一：
(1)一个WWW服务器的最高级别的页面。
(2)某一个组织或部门的一个定制的页面或目录。从这样的页面可链接到互联网上的与本组织或部门有关的其他站点。
(3)由某一个人自己设计的描述他本人情况的WWW页面。
例如，要查有关清华大学的信息，就可先进入到清华大学的主页，其URL为气http://www.tsinghua.edu.en这里省略了默认的端口号80。我们从清华大学的主页入手，就可以通过许多不同的链接找到所要查找的各种有关清华大学各个部门的信息。
更复杂一些的路径是指向层次结构的从属页面。例如：http://www.tsinghua.edu.cn/publish/newthu/newthu_cnt/faculties/index.html························································-··················-···································j主机域名路径名CD注：Tsinghua是清华大学创立时所用的拼音名字（那时拼音ts和现在的汉语拼音字母q的发音样）。由千国外都早已知道Tsinghua这个名字，因此现在就不使用标准的汉语拼音qinghua。
一•275•是清华大学的＂院系设置”页面的URL。注意：
上面的URL中使用了指向文件的路径，而
又件名就是最后的index.htm。后缀htm（有时可写为html)表示这是一个用超文本标记语
言HTML写出的文件。
URL的“协议”和“主机名”部分，字母不区分大小写。但“路径”中的字符有时要区分大小写。
用户使用URL并非仅仅(cid:7126)够访问万维网的页面，而且还(cid:7126)够通过URL使用其他的互(cid:7110)
网应用程序，如FTP或USENET新闻组等。更重要的是，用户在使用这些应用程序时，只
使用一个程序，即浏览器。这显然是非常方便的。
扫一扫6.4.3HTTP超文本传送协议
1.HTTP的操作过程协议HTTP定义了浏览器（即刀维网客户进程）怎样向万维网服务器壹视频讲解请求万维网文档，以及服务器怎样把文档传送给浏览器。从层次的角度看，HTTP是面向事务的(transaction-oriented广应用层协议，它是万维网上(cid:7126)够可靠地交换文件（包括文本、声音、图像等各种多媒体文件）的重要基础。请注意，协议HTTP不仅传送完成超文本跳转所必需的信息，而且也传送任何可从互(cid:7110)网上得到的信息，如文本、超文本、声音和图像等。
万维网的大(cid:7175)工作过程如图6-8所示。
链接到URL的超链服务器wwv,.,·.tsinghua.edu.cn－－－－建立TCP连接言』－－－－－－－－尸…三二------------�HTTP响应报文－－－－－－－－－－－－－－－－－－－
－
－－
－－－－－
一一．
三－－－－芦服务器
返回响应－－－－－－－－释放TCP连接－－－－－－－－－－－－
图6-8万维网的工作过程－－－－－－每个万维网网点都有一个服务器进程，它不断地监听TCP的端口80,以便发现是否有
浏览器（即万维网客户。请注意，浏览器和万维网客户是同义词）向它发出连接建立请求。
一旦监听到连接建立请求并建立了TCP连接之后，浏览器就向万维网服务器发出浏览某个页面的请求，服务器接着就返回所请求的页面作为响应。服务器在完成任务后，TCP连接
就被释放了。在浏览器和服务器之间的请求和响应的交互，必须按照规定的格式和遵循一定心注：所谓事务(transaction)就是指一系列的信息交换，而这一系列的信息交换是一个不可分割的整体，也就是说，要么所有的信息交换都完成，要么一次交换都不进行。
•276•的规则。这些格式和规则就是超文本传送协议HTTP。
HTTP规定在HTTP客户与HTTP服务器之间的每次交互，都由一个ASCII码串构成的
)"的响应组成。HTTP报文请求和一个类似的通用互(cid:7110)网扩充，即“类MIME(MIME-like
通常都使用TCP连接传送。
用户浏览页面的方法有两种。一种方法是在浏览器的地址窗口中键入所要找的页面的
URL。另一种方法是在某一个页面中用鼠标点击一个可选部分，这时浏览器会(cid:7151)动在互(cid:7110)网
上找到所要链接的页面。
HTTP使用了面向连接的TCP作为运输层协议，保证了数据的可靠传输。HTTP不必考虑数据在传输过程中被丢弃后又怎样被重传。但是，协议HTTP本身是无连接的。这就是说，虽然HTTP使用了TCP连接，但通信的双方在交换HTTP报文之前不需要先建立HTTP连接。在1997年以前使用的是协议HTTP/1.0[RFC1945]。现在普遍使用的升级版本是建议标准HTTP/1.1[RFC7231]。2015年以后，又有了新的建议标准HTTP/2[RFC7540]，以及压缩HTTP报文首部的建议标准[RFC7541]。
协议HTTP是无状态的(stateles)。也就是说，同一个客户第二次访问同一个服务器上
的页面时，服务器的响应与第一次被访问时的相同（假定现在服务器还没有把该页面更新），
因为服务器并不记得曾经访问过的这个客户，也不记得为该客户曾经服务过多少次。HTTP的无状态特性简化了服务器的设计，使服务器更容易支持大量并发的HTTP请求。
下面我们粗略估算一下，从浏览器请求一个万维网文档到收到整个文档所需的时间
（如图6-9所示）。用户在点击鼠标链接某个万维网文档时，协议HTTP首先要和服务器建立TCP连接。这需要使用三报文握手。当建立TCP连接的三报文握手的前两个报文完成后
（即经过了一个RTT时间后），万维网客户就把HTTP请求报文，作为建立TCP连接的三
报文握手中的第三个报文的数据，发送给万维网服务器。服务器收到HTTP请求报文后，就把所请求的文档作为响应报文返回给客户。
万维网客户I
-I万维网服务器起TCP连接发HTTP请求报文整个文档收到廿；司｝输文档的时间传时间图6-9请求
［一个万维网文档所需的时间从图6-9可看出，请求一个万维网文档所衙的时间是该文档的传输时间（与文档大小成
正比）加上两倍往返时间RTT（一个RTT用于连接TCP连接，另一个RTT用千请求和接
收万维网文档。TCP建立连接的三报文握手的第三个报文段中的数据，就是客户对万维网文档的请求报文）。
协议HTTP/1.0的主要缺点，就是每请求一个文档就要有两倍RTT的开销。若一个主页•277•s
上有很多链接的对象（如图片等）需要依次进行链接，那么每一次链接下载都导(cid:7175)2xRTT
的开销。另一种开销就是万维网客户和服务器每一次建立新的TCP连接都要分配缓存和变
量。特别是万维网服务器往往要同时服务于大量客户的请求，所以这种非持续连接会使万维
网服务器的负担很重。好在浏览器都(cid:7126)够打开5~10个并行的TCP连接，而每一个TCP连
接处理客户的一个请求。因此，使用并行TCP连接可以缩短响应时间。
协议HTTP/I.I较好地解决了这个问题，它使用了持续连接(persistentconnection)。所谓
持续连接就是万维网服务器在发送响应后仍然在一段时间内保持这条连接，使同一个客户
（浏览器）和该服务器可以继续在这条连接上传送后续的HTTP请求报文和响应报文。这并
不局限千传送同一个页面上链接的文档，而是只要这些文档都在同一个服务器上就行。协议
HTTP/I.I的持续连接有两种工作方式，即非流水线方式(withoutpipelining)和流水线方式
(withpipelining)。
非流水线方式的特点，是客户在收到前一个响应后才(cid:7126)发出下一个请求。因此，在TCP
连接已建立后，客户每访问一次对象都要用去一个往返时间RTT。这比非持续连接要用去两
倍RTT的开销，(cid:7194)省了建立TCP连接所需的一个RTT时间。但非流水线方式还是有缺点的，
因为服务器在发送完一个对象后，其TCP连接就处于空闲状态，浪费了服务器资源。
流水线方式的特点，是客户在收到HTTP的响应报文之前就(cid:7126)够接着发送新的请求报
文。千是一个接一个的请求报文到达服务器后，服务器就可连续发回响应报文。因此，使用
流水线方式时，客户访问所有的对象只需花费一个RTT时间。流水线工作方式使TCP连接
中的空闲时间减少，提高了下载文档效率。
最初网页是以文本为主，但很快发展到使用大量的图片、音频和视频，并且对页面的实时性要求也越来越高（如视频(cid:7109)天或直播），这样就使得协议HTTP/I.I已无法跟上互(cid:7110)
网的发展了。于是谷歌公司在2009年开发了软件SPDY,用来提高协议HTTP/1
.1的工作效
率。IETF在此基础上与谷歌合作完成了协议HTTP/2,而谷歌也停止了对SPDY的继续完善
工作。
协议HTTP/2是协议HTTP/1.1的升级版本，其HTTP方法／状态码／语义等都没有改变，其主要特点如下：()我们知道，HTTP/1.1具有流水线的工作方式。这就是在TCP连接建立后，客户可
以连续向服务器发出许多个请求，而不必等到收到一个响应后再发送下一个请求。但服务器
发回响应时必须按先后顺序排队，逐个地发送给客户。有时遇到某个响应迟迟不(cid:7126)发回，那
么排在后面的一些响应就必须等待很长的时间。HTTP/2把服务器发回的响应变成可以并行
地发回（使用同一个TCP连接），这就大大缩短了服务器的响应时间。
(2)使用HTTP/1.1时，当客户收到服务器发回的响应后，原来建立的TCP连接就释放了。如果客户还要继续向该服务器发送新的请求，就必须重新建立TCP连接。HTTP/2允许
客户复用TCP连接进行多个请求，这样就(cid:7194)省了TCP连续多次建立和释放连接所花费的时间。
(3)HTTP/1.1的请求和响应报文是面向文本的(text-oriented)。当客户连续发送请求并受到响应时，在TCP连接上传送的HTTP报文首部成为不小的开销。在这些首部中有很多字段是重复的。为此，HTTP/2把所有的报文都划分为许多较小的二进制编码的帧，并采用了新的压缩算法，不发送重复的首部字段，大大减小了首部的开销，提高了传输效率。
因此，现在主流的浏览器都支持HTTP/2。但是，有的服务器还未来得及更新，仍然只•278•1
支持HTTP/1.1。但HTTP/2是向后兼容的。当使用HTTP/2的客户向服务器发出请求时，如
果服务器仍然使用HTTP/1.1,那么服务器仍然可以收到请求报文。在发回响应后，客户就
改用HTTP/1.1与服务器进行交互。
2.代理服务器代理服务器(proxyserver)是一种网络实体，它又称为万维网高速缓存(Webcache)。代理
服务器把最近的一些请求和响应暂存在本地磁盘中。当新请求到达时，若代理服务器发现这
个请求与暂时存放的请求相同，就返回暂存的响应，而不需要按URL的地址再次去互联网
访问该资源。代理服务器可在客户端或服务器端工作，也可在中间系统上工作。下面我们用
例子说明它的作用。
设图6-lO(a)是校园网不使用代理服务器的情况。这时，校园网中所有的计算机都通过2
Mbit/s专线链路CR1-R2)与互联网上的源点服务器建立TCP连接。因而校园网各计算机访
问互联网的通信量往往会使这条2Mbit/s的链路过载，使得时延大大增加。
图6-lO(b)是校园网使用代理服务器的情况。这时，访问互联网的过程是这样的：
(1)校园网的计算机中的浏览器向互联网的服务器请求服务时，就先和校园网的代理服务器建立TCP连接，并向代理服务器发出HTTP请求报文（见图6-lO(b)中的O)。
(2)若代理服务器已经存放了所请求的对象，代理服务器就把这个对象放入HTTP响应报文中返回给计算机的浏览器。
(3)否则，代理服务器就代表发出请求的用户浏览器，与互联网上的源点服务器(originserver)建立TCP连接（如图6-lO(b)中的＠所示），并发送HTTP请求报文。
＼＼－(a)不使用代理服务器校园网的
代理服务器(b)使用代理服务器图6-10代理服务器的作用(4)源点服务器把所请求的对象放在HTTP响应报文中返回给校园网的代理服务器。
(5)代理服务器收到这个对象后，先复制在自己的本地存储器中（留待以后用），然后
再把这个对象放在HTTP响应报文中，通过已建立的TCP连接（见图6-lO(b)中的O)，返回•279•给请求该对象的浏览器。
我们注意到，代理服务器有时是作为服务器（当接受浏览器的HTTP请求时），但有时却作为客户（当向互联网上的源点服务器发送HTTP请求时）。
在使用代理服务器的情况下，由于有相当大一部分通信量局限在校园网的内部，因此，2Mbit/s专线链路(RI-R2）上的通信量大大减少，因而减小了访问互联网的时延。
以代理服务器方式构成的内容分发网络CDN(ContentDistributionNetwork)在互联网应
（阿卡迈）公司。Akamai公用中起到了很大的作用。最先使用CDN技术的是美国的Akamai
司现在是全球最大的CDN平台，是全球能够提供最大规模分发在线视频的服务商。目前
Akamai公司拥有24万台服务器，3900个位置节点，使全球的用户可以就近下载视频、音
频节目，或进行其他业务联系，而用户甚至根本不知道已经使用了Akamai提供的服务。现
在Akamai与全球多家电信运营商建立了深度合作关系，所提供的通信流量高达每秒40TB,
业务遍及137个国家和地区。
扫一扫3.HTTP的报文结构HTTP有两类报文：
(1)请求报文
(2)响应报文从客户向服务器发送请求报文，如图6-ll(a)所示。
从服务器到客户的回答，如图6-ll(b)所示。
蠲视频讲解空格回车换行空格回车换行方法1
字
首部CRLF1URLII版本ICRLFI请求行版本1
字
首部1状态码11短语ICRLFI状态行］实体主体
（通常不用）(a)请求报文字；纠：国cRLF首
CRLF
部［|首部行实体主体
（有些响应报文不用）(b)响应报文图6-11HTTP的报文结构由千HTTP是面向文本的，因此在报文中的每一个字段都是一些ASCII码串，因而各个字段的长度都是不确定的。
HTTP请求报文和响应报文都是由三个部分组成的。可以看出，这两种报文格式的区别就是开始行不同。
(1)开始行，用于区分是请求报文还是响应报文。在请求报文中的开始行叫作请求行
(Request-Line)，而在响应报文中的开始行叫作状态行(Status-Line)。在开始行的三个字段之
间都以空格分隔开，最后的“CR"和“LF"分别代表“回车”和“换行”。
(2)首部行，用来说明浏览器、服务器或报文主体的一些信息。首部可以有好几行，但
也可以不使用。在每一个首部行中都有首部字段名和它的值，每一行在结束的地方都要有
“回车”和＂换行”。整个首部行结束时，还有一空行将首部行和后面的实体主体分开。
(3)实体主体(entitybody)，在请求报文中一般都不用这个字段，而在响应报文中也可能没有这个字段。
下面先介绍HTTP请求报文的一些主要特点。
•280•请求报文的第一行“请求行“只有三个内容，即方法、请求资源的URL,以及HTTP的版本。
请注意：这里的名词方法
就是对所请求的对象进行的操作，这些方法实际上也就是一些命令。因此，请求报文的类型
是由它所采用的方法决定的。表6-1给出了请求报文中常用的几种方法。
”(method)是面向对象技术中使用的专门名词。所谓方法”“”表6-1HTTP请求报文的一些方法方法（操作）意义OPTION请求些选项的信息GETHEADPOSTPUTDELETETRACE请求读取由URL所标志的信息一请求读取由URL所标志的信息的首部给服务器添加信息（例如，注释）在指明的URL下存储个文档删除指明的URL所标志的资源一用来进行环回测试的请求报文CONNECT用于代理服务器下面是HTTP的请求报文的开始行（即请求行）的格式。请注意，在GET后面有一个空格，接着是某个完整的URL,其后面又有一个空格，最后是HTTP/1.1。
GEThttp://www.xyz.edu.cn/dir/index.htmHTTP/1.1下面是一个完整的HTTP请求报文的例子：GET/dir/index.htmHTTP/1.1｛请求行使用了相对URL}Host:www.xyz.edu.cn｛此行是首部行的开始。这行给出主机的域名｝Connection:closeUser-Agent:Moz口la/5.0Accept-Language:cn｛告诉服务器发送完请求的文档后就可释放连接｝
｛表明用户代理是使用火狐浏览器Firefox}｛表示用户希望优先得到中文版本的文档｝
｛请求报文的最后还有一个空行｝在请求行使用了相对URL（即省略了主机的域名）是因为下面的首部行（第2行）给
出了主机的域名。第3行是告诉服务器不使用持续连接，表示浏览器希望服务器在传送完所请求的对象后即关闭TCP连接。这个请求报文没有实体主体。
再看一下HTTP响应报文的主要特点。
每一个请求报文发出后，都(cid:7126)收到一个响应报文。响应报文的第一行就是状态行。
状态行包括三项内容，即HTTP的版本、状态码，以及解释状态码的简单短语。
状态码(Status-Code)都是三位数字的，分为5大类，原先有33种[RFC2616]，后来又增加了几种[RFC6585,建议标准］。这5大类的状态码都是以不同的数字开头的。
lxx表示通知信息，如请求收到了或正在进行处理。
2xx表示成功，如接受或知道了。
3xx表示重定向，如要完成请求还必须采取进一步的行动。
4xx表示客户的差错，如请求中有错误的语法或不(cid:7126)完成。
5xx表示服务器的差错，如服务器失效无法完成请求。
•281•下面三种状态行在响应报文中是经常见到的。
HTTP/1.1202AcceptedHTTP/1.1400BadRequestHttp/1.1404No七Found｛接受｝｛错误的请求｝｛找不到｝若请求的网页从http://www.ee.xyz.edu/index.html转移到了一个新的地址，则响应报文的状态行和一个首部行就是下面的形式：HTTP/1.1301MovedPermanentlyLoca七ion:ht七p://www.xyz.edu/ee/index.html｛永久性地转移了｝
｛新的URL}4.在服务器上存放用户的信息在本(cid:7188)(6.4.3(cid:7188)）第1小(cid:7188)“HTTP的操作过程”中已经讲过，HTTP是无状态的。这样做虽然简化了服务器的设计，但在实际工作中，一些万维网站点却常常希望(cid:7126)够识别用户。
”
例如，在网上购物时，一个顾客要购买多种物品。当他把选好的一件物品放入
后，
他还要继续浏览和选购其他物品。因此，服务器需要记住用户的身份，使他接着选购的一些
购物车”中，这样就便千集中结账。有时某些万维网站点也可(cid:7126)想限
物品(cid:7126)够放入同一个
制某些用户的访问。要做到这点，可以在HTTP中使用Cookie。在RFC6265中对Cookie
进行了定义，规定万维网站点可以使用Cookie来跟踪用户。Cookie原意是“小甜饼”（广
曲奇”)，目前尚无标准译名，在这里Cookie表示在HTTP服务器和客
东人用方言音译为购物车“““户之间传递的状态信息。现在很多网站都已广泛使用Cookie。
Cookie是这样工作的：当用户A浏览某个使用Cookie的网站时，该网站的服务器就为
A产生一个唯一的识别码，并以此作为索引在服务器的后端数据库中产生一个项目。接着在
给A的HTTP响应报文中添加一个叫作Set-cookie的首部行。这里的“首部字段名”
就是
"Set-cookie"，(cid:7105)后面的＂”。例如这个首部行是这样的：”就是赋予该用户的＂识别码值Set-cookie:31d4d96e407aad42当A收到这个响应时，其浏览器就在它管理的特定Cookie文件中添加一行，其中包括
这个服务器的主机名和Set-cookie后面给出的识别码。当A继续浏览这个网站时，每发送一
个HTTP请求报文，其浏览器就会从其Cookie文件中取出这个网站的识别码，并放到HTTP请求报文的Cookie首部行中：Cookie:31d4d96e407aad42千是，这个网站就(cid:7126)够跟踪用户江d4d96e407aad42（用户A)在该网站的活动。需要注意的是，服务器并不需要知道这个用户的真实姓名以及其他的信息。但服务器(cid:7126)够知道
用户31d4d96e407aad42在什么时间访问了哪些页面，以及访问这些页面的顺序。如果A
是在网上购物，那么这个服务器可以为A维护一个所购物品的列表，使A在结束这次购物
时可以一起付费。
如果A在几天后再次访问这个网站，那么他的浏览器会在其HTTP请求报文中继续使
31d4d96e407aad42,而这个网站服务器根据A过去的访问记录可以用首部行Cookie:
向他推荐商品。如果A已经在该网站登记过和使用过信用卡付费，那么这个网站就已经保•282•存了A的姓名、电子邮件地址、信用卡号码等信息。这样，当A继续在该网站购物时，只
要还使用同一个计算机上网，由千浏览器产生的HTTP请求报文中都携带了同样的Cookie
首部行，服务器就可利用Cookie来验证出这是用户A,因此以后A在这个网站购物时就不必重新在键盘上输入姓名、信用卡号码等信息。这对顾客显然是很方便的。
尽管Cookie(cid:7126)够简化用户网上购物的过程，但Cookie的使用一直引起很多争议。有人
认为Cookie会把计算机病毒带到用户的计算机中。其实这是对Cookie的误解。Cookie只是一个小小的文本文件，不是计算机的可执行程序，因此不可(cid:7126)传播计算机病毒，也不可(cid:7126)用
来获取用户计算机硬盘中的信息。对千Cookie的另一个争议，是关于用户隐私的保护问题。
例如，网站服务器知道了A的一些信息，就有可(cid:7126)把这些信息出卖给第三方。Cookie还可
用来收集用户在万维网网站上的行为。这些都属千用户个人的隐私。有些网站为了使顾客放心，就公开声明他们会保护顾客的隐私，绝对不会把顾客的识别码或个人信息出售或转移给其他厂商。
为了让用户有拒绝接受Cookie的(cid:7151)由，在浏览器中用户可(cid:7151)行设置接受Cookie的条件。
”命令，就
例如在浏览器IE11.0中，选择工具栏中的“工具”-"Internet选项”一“隐私
可以看见菜单中的左边有一个可上下滑动的标尺，它有六个位置。最高的位置是阻止所有
Cookie,而最低的位置是接受所有Cookie。中间的位置则是在不同条件下可以接受Cookie。
用户可根据(cid:7151)己的情况对IE浏览器进行必要的设置。
6.4.4万维网的文档1.超文本标记语言HTML要使任何一台计算机都(cid:7126)显示出任何一个万维网服务器上的页面，就必须解决页面制
作的标准化问题。超文本标记语言HTML(HyperTextMarkupLanguage)就是一种制作万维
网页面的标准语言，它消除了不同计算机之间信息交流的障碍。但请注意，HTML并不是
应用层的协议，它只是万维网浏览器使用的一种语言。由千HTML非常易千掌握且实施简
单，因此它很快就成为万维网的重要基础[RFC2854]。官方的HTML标准由万维网(cid:7110)盟
W3C（即WWWConsortium)负责制定。有关HTML的一些参考资料见[W-HTML]。从
HTML在1993年问世后，就不断地对其版本进行更新。现在最新的版本是HTML5.0,新
的版本增加了<audio>和<video>两个标签来实现对多媒体中的音频、视频使用的支持，增加了(cid:7126)够在移动设备上支持多媒体功(cid:7126)。
HTML定义了许多用于排版的命令，即“标签"(tag)＠。例如，＜I>表示后面开始用斜体
字排版，而</I>则表示斜体字排版到此结束。HTML把各种标签嵌入到万维网的页面中，这
样就构成了所谓的HTML文档。HTML文档是一种可以用任何文本编辑器（例如，Windows
的记事本Notepad)创建的ASCII码文件。但应注意，仅当HTML文档是以．html或htm为后
缀时，浏览器才对这样的HTML文档的各种标签进行解释。如果HTML文档改为以．txt为其后缀，则HTML解释程序就不对标签进行解释，而浏览器只(cid:7126)看见原来的文本文件。
CD注：在[MINGCI93]中，将tag和flag两个名词都译为标志。由千目前已有较多的作者将tag译为标签，并考虑到最好与flag的译名有所区别，故将tag译为标签。实际上，”标签
“的意思也还比较准确，因为”的内容相比，主要就是增加了许多的标签。
＂一个HTML文档与浏览器所显示“＂•283•并非所有的浏览器都支持所有的HTML标签。若某一个浏览器不支持某一个HTML标签，则浏览器将忽略此标签，但在一对不能识别的标签之间的文本仍然会被显示出来。
下面是一个简单例子，用来说明HTML文档中标签的用法。在每一个语句后面的花括号中的字是给读者看的注释，在实际的HTML文档中并没有这种注释。
<HTML><HEAD><TITLE>一个HTML的例子</TITLE></HEAD><BODY><Hl>HTML很容易掌握</H1>
<P>这是第一个段落。</P>
<P>这是第二个段落。</P></BODY></HTML>{HTML文档开始｝｛首部开始｝
{“一个HTML的例子”是文档的标题｝
｛首部结束｝｛主体开始｝
{"HTML很容易掌握“是主体的1级题头｝
{<P>和</P>之间的文字是一个段落｝
{<P>和</P>之间的文字是一个段落｝
｛主体结束｝
{HTML文档结束｝把上面的HTML文档存入D盘的文件夹HTML中，文件名是HTML-example.html（注
意：实际的文档中没有注释部分）。当浏览器读取了该文档后，就按照HTML文档中的各种
标签，根据浏览器所使用的显示器的尺寸和分辨率大小，重新进行排版并显示出来。图6-12
表示IE浏览器在计算机屏幕上显示出的与该文档有关部分的画面。文档的标题(title)“一个
HTML的例子”显示在浏览器最上面的标题栏中。文件的路径显示在地址栏中。再下面就
是文档的主体部分。主体部分的题头(heading)，即文档主体部分的标题“HTML很容易掌
握＂，用较大的字号显示出来，因为在标签中指明了使用的是1级题头<Hl>。
目前已开发出了很好的制作万维网页面的软件工具，使我们能够像使用Word文字处理
器那样很方便地制作各种页面。即使我们用Word文字处理器编辑了一个文件，但只要在
“另存为(SaveAs)"时选取文件后缀为htm或html,就可以很方便地把Word的．doc格式文
件转换为浏览器可以显示的HTML格式的文档。
L||'23口嘿厅罚霄1,I文沧江）缄谒叩蕉毫心，收｀）工员江）徒肋叩llI|I||，lIIII1,＇，',''，','＇，'，圃图6-12在屏幕上显示的HTML文档主体部分的例子HTML允许在万维网页面中插入图像。一个页面本身带有的图像称为内含图像(inline
image)。HTML标准并没有规定该图像的格式。实际上，大多数浏览器都支持GIF和JPEG
文件。很多格式的图像占据的存储空间太大，因而这种图像在互联网传送时就很浪费时间。
例如，一幅位图文件(.bmp)可能要占用500~700KB的存储空间。但若将此图像改存为经压
缩的．gif格式，则可能只有十几个于字节，大大减少了存储空间。
HTML还规定了链接的设置方法。我们知道每个链接都有一个起点和终点。链接的起
点说明在万维网页面中的什么地方可引出一个链接。在一个页面中，链接的起点可以是一个
字或几个字，或是一幅图，或是一段文字。在浏览器所显示的页面上，链接的起点是很容易•284•识别的。在以文字作为链接的起点时，这些文字往往用不同的颜色显示（例如，一般的文字
用黑色字时，链接起点往往使用蓝色字），甚至还会加上下划线（一般由浏览器来设置）。当
我们将鼠标移动到一个链接的起点时，表示鼠标位置的箭头就变成了一只手。这时只要点击
鼠标，这个链接就被激活。
链接的终点可以是其他网站上的页面。这种链接方式叫作远程链接。这时必须在
HTML文档中指明链接到的网站的URL。有时链接可以指向本计算机中的某一个文件或本
文件中的某处，这叫作本地链接。这时必须在HTML文档中指明链接的路径。
实际上，现在这种链接方式已经不局限于用在万维网文档中。在最常用的Word文字处
理器的工具栏中，也设有“插入超链接”的按钮。只要点击这个按钮，就可以看到设置超链
接的窗口。用户可以很方便地在自己写的Word文档中设置各种链接的起点和终点。
在这一小节的最后，我们还要简单介绍一下和浏览器有关的几种其他语言。
XML(ExtensibleMarkupLanguage)是可扩展标记语言，它和HTML很相似。但XML的设计宗旨是传输数据，而不是显示数据(HTML是为了在浏览器上显示数据）。更具体些，
XML用千标记电子文件，使其具有结构性的标记语言，可用来标记数据、定义数据类型，
是一种允许用户对自己的标记语言进行定义的源语言。XML是一种简单、与平台无关并被
广泛采用的标准。XML相对于HTML的优点是它将用户界面与结构化数据分隔开来。这
种数据与显示的分离使得集成来自不同源的数据成为可能。客户信息、订单、研究结果、账
单付款、病历、目录数据及其他信息都可以转换为XML。XML不是要替换HTML,而是
对HTML的补充。XML标记由文档的作者定义，并且是无限制的。HTML标记则是预定
义的；HTML作者只能使用当前HTML标准所支持的标记。
另一种语言XHTML(ExtensibleHTML)是可扩展超文本标记语言，它与HTML4.01几
乎是相同的。但XHTML是更严格的HTML版本，也是一个W3C标准(2000年1月制定），
是作为一种XML应用被重新定义的HTML,并将逐渐取代HTML。所有新的浏览器都支持
XHTML。
还有一种语言CSS(CascadingStyleSheets)是层叠样式表，它是一种样式表语言，用于
为HTML文档定义布局。CSS与HTML的区别就是：HTML用于结构化内容，而CSS则
用千格式化结构化的内容。例如，在浏览器上显示的字体、颜色、边距、高度、宽度、背景
图像等方面，都能够给出精确的规定。现在所有的浏览器都支持CSS。
2.动态万维网文档上面所讨论的万维网文档只是万维网文档中最基本的一种，即所谓的静态文档(staticdocument)。静态文档在文档创作完毕后就存放在万维网服务器中，在被用户浏览的过程中，
内容不会改变。由千这种文档的内容不会改变，因此用户对静态文档的每次读取所得到的返
回结果都是相同的。
静态文档的最大优点是简单。由千HTML是一种排版语言，因此静态文档可以由不懂
程序设计的人员来创建。但静态文档的缺点是不够灵活。当信息变化时就要由文档的作者手工对文档进行修改。可见，变化频繁的文档不适于做成静态文档。
动态文档(dynamicdocument)是指文档的内容是在浏览器访问万维网服务器时才由应用
程序动态创建的。当浏览器请求到达时，万维网服务器要运行另一个应用程序，并把控制转
移到此应用程序。接着，该应用程序对浏览器发来的数据进行处理，并输出HTML格式的文•285•档，万维网服务器把应用程序的输出作为对浏览器的响应。由千对浏览器每次请求的响应都是临时生成的，因此用户通过动态文档所看到的内容是不断变化的。动态文档的主要优点是具有报告当前最新信息的(cid:7126)力。例如，动态文档可用来报告(cid:7122)市行情、天气预报或民(cid:7181)售票情况等内容。但动态文档的创建难度比静态文档的高，因为动态文档的开发不是直接编写文档本身，而是编写用千生成文档的应用程序，这就要求动态文档的开发人员必须会编程，而所编写的程序还要通过大范围的测试，以保证输入的有效性。
动态文档和静态文档之间的主要差别体现在服务器一端。这主要是文档内容的生成方
法不同。而从浏览器的角度看，这两种文档并没有区别。动态文档和静态文档的内容都遵循
HTML所规定的格式，浏览器仅根据在屏幕上看到的内容无法判定服务器送来的是哪一种
文档，只有文档的开发者才知道。
从以上所述可以看出，要实现动态文档就必须在以下两个方面对万维网服务器的功(cid:7126)进行扩充：1)应增加另一个应用程序，用来处理浏览器发来的数据，并创建动态文档。
(
(2)应增加一个机制，用来使万维网服务器将浏览器发来的数据传送给这个应用程序，然后万维网服务器(cid:7126)够解释这个应用程序的输出，并向浏览器返回HTML文档。
图6-13是扩充了功(cid:7126)的万维网服务器的示意图。这里增加了一个机制，叫作通用网关接口CGI(CommonGatewayInterface)。CGI是一种标准，它定义了动态文档应如何创建，
输入数据应如何提供给应用程序，以及输出结果应如何使用。
在万维网服务器中新增加的应用程序叫作CGI程序。取这个名字的原因是：万维网服务器与CGI的通信遵循CGI标准。“通用
是因为这个标准所定义的规则对其他任何语言都
是通用的。“网关”二字的出现是因为CGI程序还可(cid:7126)访问其他的服务器资源，如数据库或
图形软件包，因而CGI程序的作用有点像一个网关。也有人将CGI程序简称为网关程序。
是因为有一些已定义好的变量和调用等可供其他CGI程序使用。请读者注意：在
“接口””看到CGI这个名词时，应弄清是指CGI标准，还是指CGI程序。
万维网服务器厂请求又档尸－三HTTP响应报文巨＠响应动』文柏巨CGI程序的正式名字是CGI(cid:7145)本(script)。按照计算机科学的一(cid:7183)概念，“(cid:7145)本”0指的图6-13扩充了功能的万维网服务器CD注：脚本(script)一词还有其他的意思。例如，在多媒体开发程序中用“”脚本来表示编程人员输入的一系列指令，这些指令指明多媒体文件应按什么顺序执行。
•286•language)，如Perl,REXX（在IBM主机上使用），是一个程序，它被另一个程序（解释程序）而不是计算机的处理机来解释或执行。有一些语
言专门作为(cid:7145)本语言(script
JavaScript以
及Tcl/Tk等。(cid:7146)本也可用一些常用的编程语言写出，如C,C+＋等。使用(cid:7146)本语言可更容易
和更快地进行编码，这对一些有限功(cid:7126)的小程序是很合适的。但一个(cid:7147)本运行起来比一(cid:7183)的
编译程序要慢，因为它的每一条指令先要被另一个程序来处理（这就要一些附加的指令），
而不是直接被指令处理器来处理。(cid:7146)本不一定是一个独立的程序，它可以是一个动态装入的
库，甚(cid:7168)是服务器的一个子程序。
CGI程序又称为cgi-bin(cid:7146)本，这是因为在许多万维网服务器上，为便千找到CGI程序，就将CGI程序放在/cgi-bin的目录下。
3.活动万维网文档随着HTTP和万维网浏览器的发展，上一(cid:7188)所述的动态文档已明显地不(cid:7126)满足发展的
需要。这是因为，动态文档一旦建立，它所包含的信息内容也就固定下来而无法及时刷新屏
幕。另外，像动画之类的显示效果，动态文档也无法提供。
有两种技术可用千浏览器屏幕显示的连续更新。一种技术称为服务器推送(serverpush),这种技术是将所有的工作都交给服务器。服务器不断地运行与动态文档相关(cid:7110)的应用程序，定期更新信息，并发送更新过的文档。
尽管从用户的角度看，这样做可达到连续更新的目的，但这也有很大的缺点。首先，为了满足很多客户的请求，服务器就要运行很多服务器推送程序。这将造成过多的服务器开
销。其次，服务器推送技术要求服务器为每一个浏览器客户维持一个不释放的TCP连接。
随着TCP连接的数目增加，每一个连接所(cid:7126)分配到的网络带宽就下降，这就导(cid:7175)网络传输
时延的增大。
另一种提供屏幕连续更新的技术是活动文档(activedocument)。这种技术是把所有的工
作都转移给浏览器端。每当浏览器请求一个活动文档时，服务器就返回一段活动文档程序副
本，使该程序副本在浏览器端运行。这时，活动文档程序可与用户直接交互，并可连续地改变屏幕的显示。只要用户运行活动文档程序，活动文档的内容就可以连续地改变。由千活动文档技术不需要服务器的连续更新传送，对网络带宽的要求也不会太高。
从传送的角度看，浏览器和服务器都把活动文档看成是静态文档。在服务器上的活动
文档的内容是不变的，这点和动态文档是不同的。浏览器可在本地缓存一份活动文档的副本。
活动文档还可处理成压缩形式，以便于存储和传送。另一点要注意的是，活动文档本身并不
包括其运行所需的全部软件，大部分的支持软件是事先存放在浏览器中的。图6-14说明了活动文档的创建过程。
N
由美国SU公司开发的Java语言是一项用千创建和运行活动文档的技术。在Java技
”(applet)CD来描述活动文档程序。当用户从万维网服
术中使用了一个新的名词
务器下载一个嵌入了Java小应用程序的HTML文档后，用户可在浏览器的显示屏幕上点击
某个图像，然后就可看到动画的效果；或是在某个下拉式菜单中点击某个项目，即可看到根小应用程序“l)注：在Java语言出现之前就已经有了applet这一名词。小应用程序applet通常被嵌入在操作系统或一个较大的应用程厅之中。在万维网技术中，此名词常常指的是Java小应用程序。
•287•据用户键入的数据所得到的计算结果。实际上，Java技术是活动文档技术的一部分。限千
篇幅，有关Java技术的进一步讨论这里从略。
万维网服务器回：言5f存放为文件气望直丿尸叮巠巠愿芒［二>---------图6-14活动文档由服务器发送过来的程序在客户端创建6.4.5万维网的信息检索系统1.全文检索搜索与分类目录搜索万维网是一个大规模的、联机式的信息储藏所。那么，应当采用什么方法才能找到所
需的信息呢？如果已经知道存放该信息的网点，那么只要在浏览器的地址(Location)框内键
入该网点的URL并按回车键，就可进入该网点。但是，若不知道要找的信息在何网点，那
就要使用万维网的搜索工具。
在万维网中用来进行搜索的工具叫作搜索引擎(searchengine)。搜索引擎的种类很多，但大体上可划分为两大类，即全文检索搜索引擎和分类目录搜索引擎。
全文检索搜索引擎是一种纯技术型的检索工具。它的工作原理是通过搜索软件（例如一
种叫作“蜘蛛”或“网络机器人＂的Spider程序）到互联网上的各网站收集信息，找到一个
网站后可以从这个网站再链接到另一个网站，像蜘蛛爬行一样。然后按照一定的规则建立一
个很大的在线索引数据库供用户查询。用户在查询时只要输入关键词，就从已经建立的索引数据库里进行查询（并不是实时地在互联网上检索到的信息）。因此很可能有些查到的信息已
经是过时的（例如很多年前的）。建立这种索引数据库的网站必须定期对已建立的数据库进行
更新维护（但不少网站的维护很不及时，因此对查找到的信息一定要注意其发布的时间）。现
在全球最大的并且最受欢迎的全文检索搜索引擎就是谷歌Google(www.google.com)。谷歌提供的主要的搜索服务有：网页搜索、图片搜索、视频搜索、地图搜索、新闻搜索、购物搜索、
博客搜索、论坛搜索、学术搜索、财经搜索等。应全球用户的需求，谷歌在美国及世界各地
创建数据中心。至2013年底，谷歌的数据中心在全球共设有12处。大多数数据中心的业主
基千信息安全考虑，极少透露其数据中心的信息及内部情形。
我们将在下一小节简单介绍谷歌搜索技术的特点。现在“谷歌”不仅是网站名，而且
还是动词。例如，“谷歌一下”的意思就是“用谷歌网站进行信息搜索”。在全文检索搜索引
擎中另外两个著名的网站是美国微软的必应(en.bing.com)和中国的百度(www.baidu.com)。
分类目录搜索引擎并不采集网站的任何信息，而是利用各网站向搜索引擎提交网站信•288•息时填写的关键词和网站描述等信息，经过人工审核编辑后，如果认为符合网站登录的条件，
则输入到分类目录的数据库中，供网上用户查询。因此，分类目录搜索也叫作分类网站搜索。
分类目录的好处就是用户可根据网站设计好的目录有针对性地逐级查询所需要的信息，查询时不需要使用关键词，只需要按照分类（先找大类，再找下面的小类），因而查询的准确性
较好。但分类目录查询的结果并不是具体的页面，而是被收录网站主页的URL地址，因而
所得到的内容就比较有限。相比之下，全文检索可以检索出大量的信息（一次检索的结果是
几百万条，甚至是千万条以上），但缺点是查询结果不够准确，往往是罗列出了海量的信息
（如上千万个页面），使用户无法迅速找到所需的信息。在分类目录搜索引擎中最著名的就
是雅虎(www.yahoo.com)。国内著名的分类搜索引擎有雅虎中国(en.yahoo.com)、新浪
(sina.com.cn)、搜狐(www.sohu.com)、网易(www.163.com)等。
图6-16说明了上述这两种搜索方法的区别。图6-15(a)是全文搜索谷歌的首页。用户只需在空臼的栏目中键入拟搜索的关键词，搜索引擎就返回搜索结果，用户可根据屏幕上显示的结果继续点击下去，直到看到满意的结果。图6-15(b)是分类检索新浪网的首页。我们可以看到页面L有三行共63个类别。用户要检索的内容通常总是在这几十个类别之中，因此
按类别点击查找下去，最后就可以查找到所要检索的内容。
(a)全文检索举例也s,na新琅网sma.com.cn新闻亏疻杜合体育NB/1中超空运博客专户文史六气时尚女件牡疫育儿财经盼栗、主弈拦娱乐痔年平，影扫罕视频铁艺趴泊西菩教育浇老公盐院学旅游航宁彩栗品尔大科技丁机探索吟汇汽车殴兮`丘秒午房产二手，宋京居牧范图片宅书t为立法院游戏厉泾�环？SHOW芽多(b)分类检索举例图6-15举例说明两种检索的区别从用户的角度看，使用这两种不同的搜索引擎一般都能够实现自己查询信息的目的。
为了使用户能够更加方便地搜索到有用信息，目前许多网站往往同时具有全文检索搜索和分
类目录搜索的功能。在互联网上搜索信息需要经验的积累。要多实践才能掌握从互联网获取
信息的技巧。
这里再强调一下，不管哪种搜索引擎，就是告诉你只要链接到什么地方就可以检索到所需的信息。搜索引擎网站本身并没有直接存储这些信息。
值得注意的是，目前出现了垂直搜索引擎(verticalsearchengine)，它针对某一特定领域、
特定人群或某一特定需求提供搜索服务。垂直搜索也是提供关键字来进行搜索的，但被放到
了一个行业知识的上下文中，返回的结果更倾向千信息、消息、条目等。例如，对买房的人
讲，他希望查找的是房子的具体供求信息（如面积、地点、价格等），而不是有关房子供求
的一般性的论文或新闻、政策等。目前热门的垂直搜索行业有：购物、旅游、汽车、求职、
房产、交友等。还有一种元搜索引擎(metasearchengine)，它把用户提交的检索请求发送到
多个独立的搜索引擎上去搜索，并把检索结果集中统一处理，以统一的格式提供给用户，因
此是搜索引擎之上的搜索引擎。它的主要精力放在提高搜索速度、智能化处理搜索结果、个•289•性化搜索功能的设置和用户检索界面的友好性上。元搜索引擎的查全率和查准率都比较高。
2.Google搜索技术的特点Google的搜索引擎性能优良，因为它使用了先进的硬件和软件。以往的大多数的搜索引擎是使用少量大型服务器，在访问高峰期，搜索的速度就会明显减慢。Google则利用在
互联网上相互链接的计算机来快速查找每个搜索的答案，并且成功地缩短了查找的相应时间。
Google的搜索软件可同时进行许多运算，它的核心技术就是PageRank,译为网页排名。
TMPageRank对搜索出来的结果按重要性进行排序，这是Google的两个创始人LarryPage
和SergeyBrin共同开发出来的[W-PageRank]。由于用户在有限的时间内，不可能阅读全部的搜索结果（因为数量往往非常大），而通常仅仅是查阅一下前几个（或前几十个）项目。
因此用户希望检索结果能够按重要性来排序。但怎样确定某个页面的重要性呢？传统的搜索引擎往往是检查关键字在网页上出现的频率。PageRank技术则把整个互联网当作了一个整体对待，检查整个网络链接的结构，并确定哪些网页重要性最高。更具体些，就是如果有很
多网站上的链接都指向页面A,那么页面A就比较重要。PageRank对链接的数目进行加权统计。对来自重要网站的链接，其权重也较大。统计链接数目的问题是一个二维矩阵相乘的问题，从理论上讲，这种二维矩阵的元素数是网页数目的平方。对千l亿个网页，这个矩阵就有1亿亿个元素。这样大的矩阵相乘，计算量是非常大的。LarryPage和SergeyBrin两人
利用稀疏矩阵计算的技巧，大大地简化了计算量。他们用迭代的方法解决了这个问题。他们先假定所有网页的排名是相同的，并且根据此初始值，算出各个网页的第一次迭代排名，再一根据第次迭代排名算出第二次的排名。他们从理论上证明了不论初始值如何选取，这种算法都保证了网页排名的估计值能收敛到排名的真实值。这种算法是完全没有任何人工千预的，厂商不可能用金钱购买网页的排名。Google还要进行超文本匹配分析，以确定哪些网页与正在执行的特定搜索相关。在综合考虑整体重要性以及与特定查询的相关性之后，Google就把最相关、最可靠的搜索结果放在首位。
一然而有些著名网站通过““竞价排名把虚假广告信息放在检索结果的首位，结果误导了消费者，使受骗者蒙受很大的损失。因此对网络搜索的结果，我们应认真分析其真伪，提高辨别能力，不要随意轻信网络检索的广告信息（哪怕是知名度很高的网站）。
6.4.6博客和微博近年来，万维网的一些新的应用广为流行，这就是博客和微博。下面进行简单的介绍。
1.博客我们知道，建立网站就是万维网的一种应用。博客(blog)和网站有很相似的地方。博客的作者可以源源不断地往刀维网上的个人博客里填充内容，供其他网民阅读。网民可以用浏览器上网阅读博客、发表评论，也可以什么都不做。
博客是刀维网日志(weblog)的简称。也有入把blog进行音译，译为
”
。还有人用博客文章来表示博文““””。
落阁＂部落格”
，或“部本来，网络日志是指个人撰写并在互联网上发布的、属于网络共享的个人日记。但现在它不仅可以是个人日记，而且可以有无数的形式和大小，也没有任何实际的规则。
现在博客已经极大地扩充了互联网的应用和影响，成为了所有网民都可以参与的一种•290•新媒体，并使得无数的网民有了发言权，有了与政府、机构、企业，以及很多人交流的机会。
在博客出现以前，网民是互联网上内容的消费者，网民在互联网上搜寻并下载感兴趣的信息。
这些信息是其他人生产的，他们把这些信息放在互联网的某个服务器上，供广大网民使用（也就是供网民消费）。但博客改变了这种情况，网民不仅是互联网上内容的消费者，而且还是互联网上内容的生产者。
从历史上看，weblog这个新词是JornBarger于1997年创造的。简写的blog（这是今天
最常用的术语）则是PeterMerholz千1999年创造的。不久，有人把blog既当作名词，也当作动词，表示编辑博客或写博客。接着，新名词blogger也出现了，它表示博客的拥有者，或博客内容的撰写者和维护者，或博客用户。博客可以看成是继电子邮件、电子公告牌系统
BBS和即时传信IM(InstantMessaging)。
之后的第四种网络交流方式。
一现在从些著名的门户网站的主页上都能很容易地进入到博客页面，这让用户查看博客或发表自己的博客都非常方便。前面的图6-15(b)所示的新浪网站首页，就可看到在几十个分类中的第1行第9列的“”
。
博客
“当我们在新浪网站主页点击博客”
项时，就可以看到各式各样的博客。也可以利用搜索工具寻找所需的博客。如果我们已在新浪博客注册了，那么也可随时把自己的博客发表在此，让别人来阅读。我们还可直接登录新浪博客网站blog.sina.com.cn。
博客与个人网站还是有不少区别的。这里最主要的区别就是建立个人网站成本较高，需要租用个人空间、域名等，同时建立网站的个人需要懂得HTML语言和网页制作等相关技术；但博客在这方面是不需要什么投资的，所需的技术仅仅是会上网和会用键盘或书写板输入汉字即可。因此网民用较短的时间就能够把自己写的博客发表在网上，而不像制作个人网站那样花费较多的时间。正因为写博客的门槛较低，广大的网民才有可能成为今天互联网上的信息制造者。
顺便提一下，不要把“博客”＂和播客”弄混。播客(Podcast)是苹果手机的一个预装软件，能够让用户通过手机订阅和自动下载所预订的音乐文件，以便随时欣赏音乐。
2.微博在图6-15(b)新浪网站首页各种分类的第1行的最后，可以找到“微博”
项。微博就是微型博客(microblog)，又称为微博客，它的意思已经非常清楚。博客或微博里的朋友，常称“为博友＂
。微博也被人戏称为
一“围脖“
，把博友戏称为＂脖友”
。
但微博不同千般的博客。微博只记录片段、碎语，三言两语，现场记录，发发感慨，晒晒心情，永远只针对一个问题进行回答。微博只是记录自己琐碎的生活，呈现给人看，而且必须很真实。微博中不必有太多的逻辑思维，很随便，很自由，有点像电影中的
写微博比写其他东西简单多了，不需要标题，不需要段落，更不需要漂亮的词汇。
一个镜头。
2009年是中国微博蓬勃发展的一年，相继出现了新浪微博、139说客、9911、嘀咕网、同学网、贫嘴等微博客。例如，新浪微博就是由中国最大的门户网站新浪网推出的微博服务，是中国目前用户数最多的微博网站(weibo.com)，名人用户众多是新浪微博的一大特色，基本已经覆盖大部分知名文体明星、企业高管、媒体人士。用户可以通过网页、WAP网、手(i)注：目前流传的译名还有”即时通信””或即时通讯＂，但messaging译为”“传信似乎更准确。
•291•机短信彩信、手机客户端等多种方式更新自己的微博。每条微博字数最初限制为140英文字符，但现在已增加了长微博的选项，可输入更多的字符。微博还提供插入图片、视频、“＂音乐等功能。截至2019年3月底，微博的月活跃用户已达4.65亿。
现在不少地方政府也开通了微博（即政务微博），这是信息公开的表现。政府可以通过政务微博，及时公布政情、公务、资讯等，获取与民众更多、更直接、更快的沟通，特别是在突发事件或者群体性事件发生的时候，微博就能够成为政府新闻发布的“”虽然政务微博具有传递信息、沟通上下、解决问题的功能性特点，并受到广大网一种重要手段。
民的欢迎，但政务微博的日常管理也非常重要。如果政务微博因缺乏良好的管理而不能够满足群众的各种需求，那么它就会成为种无用的摆设。
－微博是一种互动及传播性极快的工具，其实时性、现场感及快捷性，往往超过所有媒体。这是因为微博对用户的技术要求门槛非常低，而且在语言的编排组织上，没有博客那么高。另外，微博开通的多种API使大量的用户可通过手机、网络等方式来即时更新自己的个人信息。微博网站的即时传信功能非常强大，可以通过QQ和MSN直接书写。
我们正处在一个急剧变革的时代，人们需要用贯穿不同社会阶层的信息去了解社会、改变生活。在互联网上微博的出现正好满足了广大网民的需求。微博发布、转发信息的功能很强大，这种一个人的“通讯社”将对整个社会产生越来越大的影响。
6.4.7社交网站社交网站SNS(SocialNetworkingSite)是近年来发展非常迅速的一种网站，其作用是为一群拥有相同兴趣与活动的人创建在线社区。社交网站的功能非常丰富，如电子邮件、即时传信（在线聊天）、博客撰写、共享相册、上传视频、网页游戏、创建社团、刊登广告等，对现实社交结构已经形成了巨大冲击。社交网络服务提供商针对不同的群众，有着不同的定位，对个人消费者都是免费的。这种网站通过朋友，一传十、十传百地把联系范围不断扩大下去。前面曾提到过的BBS和微博，可以看作是社交网站的前身。
2004年社交网站脸书(Facebook,又名面书、脸谱、脸谱网）在美国诞生。脸书最初的用户定位是大学生，但现在它的用户范围已经扩大了很多。接着社交网站热潮席卷全球，而国内以人人网、开心网等为代表的社交网站也如雨后春笋般迅速崛起。社交网站极大地丰富了人们的社交生活，孕育了新的经济增长点，其所蕴含的巨大商业价值和社会力量也正凸显出来。
毫无疑问，目前世界上排名第一且分布最广的社交网站是脸书。脸书最大的特点就是可以非常方便地寻找朋友或联系老同学、老同事，能够简易地在朋友圈中分享图片、视频和
音频文件（现在也可以发送其他文件，如．docx,.xlsx等），以及通过集成的地图功能分享用户所在的位置。现在脸书的月度活跃用户已达11.5亿人之多，其中半数以上为移动电话用户。在2010年3月，脸书在美国的访问人数已超过谷歌，成为全美访问量最大的网站。脸
书的官网域名为Facebook.com,并持有en域名Facebook.en。排名第二的社交网站是视频分享网站油管YouTube,其月度活跃用户入数为10亿人。2006年YouTube.com网站被谷歌收购，目前谷歌手上持有了youtube.con-i/.com.en/.net/.org等域名。国内类似的视频分享网站有
优酷(www.youku.com)、土豆(www.tudou.com)、56网(56.com)等。
一另种能够提供微博服务的社交网络现在也很流行。例如推特Twitter(twitter.com)网站
推创建千2006年，它可以让用户发表不超过140个英文字符的消息。这些消息也被称为“•292•”文(Tweet)。我国的新浪微博(www.weibo.com)、腾讯微博(t.qq.com)等就是这种性质的社交网站。职业性社交网站领英Linkedln也是很受欢迎的网站。
目前在我国最为流行的社交网站就是微信(weixin.qq.com)。微信最初是专为手机用户使用的聊天工具，其功能是“收发信息、拍照分享、联系朋友”。但几年来经过多次系统更新，现在微信不仅可传送文字短信、图片、录音电话、视频短片，还可提供实时音频或视频聊天，甚至可进行网上购物、转账、打车，等等。现在微信的功能已远远超越了社交领域。原来微信仅限千在手机上使用，但新的微信版本已能够安装在普通电脑上。我们知道，电子邮件可以发送给网上任何一个并不认识你的用户，也不管他是否愿意接收你发送的邮件。各种博客和微博也可供任何上网用户浏览。但微信只能在确定的朋友圈中交换信息。正是由千朋友之间更加需要交换信息，而微信的功能又不断在扩展，因此微信在我国已成为几乎每个网民都必备的应用软件。
6.5电子邮件6.5.1电子邮件概述大家知道，实时通信的电话固然使用方便，但有两个严重缺点。第一，电话通信的主叫和被叫双方必须同时在场。第二，有些电话常常不必要地打视频讲解断被叫者的工作或休息。
电子邮件(E-mail)是互联网上使用最多的和最受用户欢迎的一种应用。电子邮件把邮件发送到收件人使用的邮件服务器，并放在其中的收件人邮箱(mailbox)中，收件人可在自己方便时上网到自己使用的邮件服务器进行读取。这相当于互联网为用户设立了存放邮件的信箱，因此e-mail有时也称为“电子信箱”。电子邮件不仅使用方便，而且还具有传递迅速和费用低廉的优点。据有的公司报道，使用电子邮件后可提高劳动生产率30％以上。现在电子邮件不仅可传送文字信息，而且还可附上声音和图像。由于电子邮件和手机的广泛使用，现已迫使传统的电报业务退出市场，因为这种传统电报既贵又慢，且很不方便。
1982年ARPANET的电子邮件问世后，很快就成为最受广大网民欢迎的互联网应用。
电子邮件的两个最重要的草案标准，是2008年更新的简单邮件传送协议SMTP(SimpleMail
TransferProtocol)[RFC5321]和互联网文本报文格式[RFC5322]。
由于互联网的SMTP只能传送可打印的7位ASCII码邮件，因此在1996年又发布了通用互联网邮件扩充MIME(MultipurposeInternetMailExtensions)[RFC2045,草案标准］。
MIME在其邮件首部中说明了邮件的数据类型（如文本、声音、图像、视像等）。在MIME
邮件中可同时传送多种类型的数据。这在多媒体通信的环境下是非常有用的。
一个电子邮件系统应具有图6-16所示的三个主要组成构件，这就是用户代理、邮件服务器，以及邮件发送协议（如SMTP)和邮件读取协议（如POP3)。POP3是邮局协议(PostOfficeProtocol)的版本3。凡是有TCP连接的，都经过了互联网，有的甚至可以跨越数千公里的距离。这里为简洁起见，没有画出网络。在互联网中，邮件服务器的数量是很大的。正是这些邮件服务器构成了电子邮件基础结构的核心。在图6-16中为了说明问题，仅仅画出了两个邮件服务器。
•293•